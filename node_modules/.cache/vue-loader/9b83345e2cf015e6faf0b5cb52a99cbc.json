{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/mine/index/index.vue?vue&type=style&index=0&id=027a8ac0&lang=scss&scoped=true&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/mine/index/index.vue","mtime":1548230663222},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.warpper {\n  width: 100%;\n  min-height: 100vh;\n  background: #f6f6f6;\n  overflow: hidden;\n  position: relative;\n  /deep/ .list-label {\n    border-bottom: 1px solid #f2f2f2;\n  }\n  .mine-list {\n    margin-top: 20px !important;\n\n    .money {\n      width: 42px;\n      height: 54px;\n      margin-right: 20px;\n    }\n\n    .money-text {\n      color: #666666;\n      font-size: 24px;\n    }\n\n    /deep/ .icon-huiyuan {\n      color: #ff9c27;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-yaoqinghaoyou {\n      color: #2b9dfe;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-wodemingpian {\n      color: #0cd37d;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-zhaoshanghezuo {\n      color: #2b9dfe;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-wodewenku {\n      color: #2b9dfe;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-yijianfankui {\n      color: #2b9dfe;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-yingxiaobiaoqian {\n      color: #ff9c27;\n      font-size: 44px;\n    }\n  }\n\n  .tools-bar {\n    width: 100%;\n    box-sizing: border-box;\n    min-height: 120px;\n    background: #fff;\n    position: relative;\n    padding: 0 30px;\n    margin-bottom: 20px;\n\n    .progress {\n      width: 100%;\n      height: 140px;\n      overflow: hidden;\n      position: relative;\n\n      .rate {\n        float: left;\n        width: 526px;\n        height: 20px;\n        background: #f2f2f2;\n        border-radius: 10px;\n        margin-top: 65px;\n        position: relative;\n\n        .rate-num {\n          transition: all 0.3s ease-in-out;\n          width: 100px;\n          height: 45px;\n          line-height: 45px;\n          background: #f2f2f2;\n          color: #666666;\n          font-size: 24px;\n          text-align: center;\n          border-radius: 20px;\n          position: absolute;\n          top: -60px;\n          transform: translateX(-50%);\n\n          &:before {\n            content: '';\n            border-width: 15px 10px;\n            position: absolute;\n            bottom: -28px;\n            left: 50%;\n            -webkit-transform: translateX(-50%);\n            transform: translateX(-50%);\n            border-style: solid dashed dashed;\n            border-color: #f2f2f2 transparent transparent;\n            font-size: 0;\n            line-height: 0;\n          }\n        }\n\n        .actual {\n          position: absolute;\n          top: 0;\n          left: 0;\n          transition: all 0.3s ease-in-out;\n          height: 20px;\n          border-radius: 10px;\n          background: #ffad38;\n        }\n      }\n\n      .button {\n        margin-top: 50px;\n        float: right;\n        width: 117px;\n        height: 49px;\n        box-sizing: border-box;\n        border: 1px solid #274ff3;\n        border-radius: 24.5px;\n        color: #274ff3;\n        font-size: 24px;\n        line-height: 48px;\n        text-align: center;\n      }\n    }\n\n    .filled {\n      overflow: hidden;\n      font-size: 26px;\n      color: #525252;\n      padding-top: 110px;\n      margin-bottom: 20px;\n    }\n\n    .tools-list {\n      position: absolute;\n      top: -70px;\n      left: 50%;\n      transform: translateX(-50%);\n      width: 688px;\n      height: 144px;\n      border-radius: 8px;\n      background: #fff;\n      box-shadow: 0px 2px 20px 0px rgba($color: #000000, $alpha: 0.2);\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n\n      .flex-wrap {\n        text-align: center;\n        color: #333333;\n        font-size: 26px;\n        width: 100%;\n\n        .num {\n          color: #000;\n          margin-bottom: 20px;\n        }\n\n        .icon-qianbao {\n          font-size: 30px;\n          color: #fff;\n          background: #2b9dfe;\n          border-radius: 4px;\n          line-height: 44px;\n          display: block;\n          width: 44px;\n          height: 44px;\n          -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n          margin: -7px auto 13px;\n        }\n      }\n    }\n  }\n\n  .top {\n    width: 100%;\n    box-sizing: border-box;\n    padding: 0 30px;\n    height: 405px;\n    background-image: url('./indexbg.png');\n    background-size: 100% 405px;\n    background-position: center;\n    overflow: hidden;\n\n    .partner {\n      font-size: 24px;\n      margin-left: 150px;\n      margin-top: 10px;\n      color: #fefefe;\n    }\n\n    .info {\n      width: 100%;\n      overflow: hidden;\n      margin-top: 64px;\n\n      .vipicon {\n        width: 36px;\n        height: 36px;\n        margin-left: 20px;\n      }\n\n      .avatar {\n        width: 120px;\n        height: 120px;\n        border-radius: 50%;\n        float: left;\n        margin-right: 30px;\n      }\n\n      .info-detail {\n        float: left;\n        height: 120px;\n        overflow: hidden;\n        color: #fff;\n\n        .name {\n          font-size: 34px;\n          display: block;\n          margin-top: 26px;\n          font-weight: bold;\n        }\n\n        .adv {\n          font-size: 24px;\n          margin-top: 22px;\n          color: #fefefe;\n          display: block;\n        }\n      }\n    }\n\n    .top-bar {\n      width: 100%;\n      overflow: hidden;\n\n      .iconfont {\n        float: right;\n        color: #fff;\n        font-size: 40px;\n        margin-left: 40px;\n        margin-top: 20px;\n      }\n    }\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/module/mine/index","sourcesContent":["<template>\n  <Wrapper :paddingTop=\"'0px'\" class=\"warpper\">\n    <AppHeader ref=\"header\" title=\"我的\"></AppHeader>\n    <div class=\"top\">\n      <div class=\"top-bar\">\n        <router-link tag=\"i\" class=\"iconfont icon-shezhi2\" to=\"/setting\"></router-link>\n        <i class=\"iconfont icon-erweima1\" @click=\"toQrcode\"></i>\n      </div>\n      <router-link tag=\"div\" to=\"/mine/baseInfo\" class=\"info\">\n        <img class=\"avatar\" :src=\"userInfo.portrait||''\" />\n        <div class=\"info-detail\">\n          <p class=\"name\"><span>{{userInfo.name+(userInfo.type==3?'(服务商)':'')}}</span><img :src=\"vipIcon\" v-if=\"remaining>0\" class=\"vipicon\" /></p>\n          <p class=\"adv\">{{userInfo.motto}}</p>\n        </div>\n      </router-link>\n      <p class=\"partner\" @click=\"copyCode()\" v-if=\"userInfo.type==3\">邀请码:<span id=\"content\">{{userInfo.invitation_code}}</span> (点击复制)</p>\n    </div>\n    <div class=\"tools-bar\">\n      <div class=\"tools-list\">\n        <div @click=\"toReward()\" class=\"flex-wrap\">\n          <p class=\"num\">{{userInfo.reward||'0'}}元</p>\n          <p>营销奖励</p>\n        </div>\n        <router-link tag=\"div\" to=\"/mine/maibao\" class=\"flex-wrap\">\n          <p class=\"num\">{{userInfo.maibao||'0'}}个</p>\n          <p>脉宝</p>\n        </router-link>\n        <div @click=\"toPage('/mine/wallet')\" class=\"flex-wrap\">\n          <i class=\"iconfont icon-qianbao\"></i>\n          <p>钱包</p>\n        </div>\n      </div>\n      <p v-if=\"userInfo.is_perfect<1\" class=\"filled\">完善后提升曝光率！</p>\n      <div v-if=\"userInfo.is_perfect<1\" class=\"progress\">\n        <div class=\"rate\">\n          <div class=\"rate-num\" :style=\"{left:(Math.round(userInfo.is_perfect*100)||'10')+'%'}\">{{Math.round(userInfo.is_perfect*100)+'%'}}</div>\n          <div class=\"actual\" :style=\"{width:Math.round(userInfo.is_perfect*100)+'%'}\"></div>\n        </div>\n        <router-link tag=\"div\" class=\"button\" to=\"/mine/baseInfo\">去完善</router-link>\n      </div>\n    </div>\n    <List class=\"mine-list\">\n      <ListItem icon=\"icon-huiyuan\" label=\"会员中心\" arrow=\"true\" link=\"/mine/vipCenter\"></ListItem>\n      <ListItem icon=\"icon-yaoqinghaoyou\" label=\"邀请好友\" arrow=\"true\" link=\"/activity/invitation\">\n        <img src=\"./money.png\" class=\"money\" />\n        <span class=\"money-text\">领1元</span>\n      </ListItem>\n      <ListItem icon=\"icon-zhaoshanghezuo\" label=\"招商合作\" arrow=\"true\" link=\"/activity/merchants\"></ListItem>\n      <ListItem icon=\"icon-wodemingpian\" label=\"名片夹\" arrow=\"true\" link=\"/card/collection\"></ListItem>\n      <ListItem icon=\"icon-wodewenku\" label=\"收藏文章\" arrow=\"true\" link=\"/article/collection\"></ListItem>\n      <ListItem icon=\"icon-yingxiaobiaoqian\" label=\"营销标签\" arrow=\"true\" link=\"/mine/marketLabel\"></ListItem>\n    </List>\n    <List class=\"mine-list\" style=\"margin-bottom:120px;\">\n      <ListItem icon=\"icon-yijianfankui\" label=\"意见反馈\" link=\"/mine/feedback\" arrow=\"true\"></ListItem>\n    </List>\n  </Wrapper>\n</template>\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nimport userApi from '../../../api/user/index'\n\nimport List from '../../../components/List/index'\nimport Wrapper from '../../../components/Wrapper'\nimport AppHeader from '../../../components/AppHeader'\nimport ListItem from '../../../components/ListItem/index'\n\nimport dialogService from '../../../service/dialogService'\n\nexport default {\n  name: 'mineIndex',\n  data() {\n    return {\n      vipIcon: null,\n      remaining: 0, //会员剩余\n      infoList: [\n        'address',\n        'address_detail',\n        'birthday',\n        'company',\n        'industry',\n        'email',\n        'motto',\n        'mobile_phone',\n        'profession',\n        'website',\n        'sex',\n        'wechat_code'\n      ]\n    }\n  },\n  components: {\n    List,\n    Wrapper,\n    ListItem,\n    AppHeader\n  },\n  computed: {\n    ...mapState({\n      userInfo: state => state.user.userInfo\n    })\n  },\n  async activated() {\n    userApi.getProfile()\n    let res = await userApi.getVip()\n    if (res.data.level) {\n      this.vipIcon = res.data.icon_path\n      this.remaining = res.data.remaining\n    }\n  },\n  methods: {\n    ...mapActions(['system/updateBeVipPath']),\n    toReward() {\n      if (this.userInfo.type == 3) {\n        dialogService.alert('服务商请到后台管理系统查看数据')\n      } else {\n        this.$router.push('/mine/reward')\n      }\n    },\n    // 复制邀请码\n    copyCode() {\n      const range = document.createRange()\n      range.selectNode(document.getElementById('content'))\n      const selection = window.getSelection()\n      if (selection.rangeCount > 0) selection.removeAllRanges()\n      selection.addRange(range)\n      document.execCommand('copy')\n      dialogService.alert('复制成功！')\n    },\n    // 去二维码页面\n    toQrcode() {\n      if (this.userInfo.portrait && this.userInfo.name && this.userInfo.phone) {\n        this.$router.push('/mine/qrCode/' + this.userInfo.id)\n      } else {\n        dialogService.confirm(\n          '需要完善、头像、电话、姓名，是否去完善？',\n          ok => {\n            if (ok) {\n              this.$router.push('/mine/baseInfo')\n            }\n          }\n        )\n      }\n    },\n    //跳转页面\n    toPage(address) {\n      let that = this\n      if (this.userInfo.payment_pwd) {\n        this.$router.push(address)\n      } else {\n        dialogService.confirm('还未设置支付密码，是否去设置？', ok => {\n          if (ok) {\n            that['system/updateBeVipPath'](address)\n            that.$router.push('/setting/payManage/step1')\n          }\n        })\n      }\n    }\n  }\n  // beforeRouteLeave(to, from, next) {\n  //   to.path == '/baseInfo' ? next(false) : next()\n  // }\n}\n</script>\n<style lang=\"scss\" scoped>\n.warpper {\n  width: 100%;\n  min-height: 100vh;\n  background: #f6f6f6;\n  overflow: hidden;\n  position: relative;\n  /deep/ .list-label {\n    border-bottom: 1px solid #f2f2f2;\n  }\n  .mine-list {\n    margin-top: 20px !important;\n\n    .money {\n      width: 42px;\n      height: 54px;\n      margin-right: 20px;\n    }\n\n    .money-text {\n      color: #666666;\n      font-size: 24px;\n    }\n\n    /deep/ .icon-huiyuan {\n      color: #ff9c27;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-yaoqinghaoyou {\n      color: #2b9dfe;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-wodemingpian {\n      color: #0cd37d;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-zhaoshanghezuo {\n      color: #2b9dfe;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-wodewenku {\n      color: #2b9dfe;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-yijianfankui {\n      color: #2b9dfe;\n      font-size: 44px;\n    }\n\n    /deep/ .icon-yingxiaobiaoqian {\n      color: #ff9c27;\n      font-size: 44px;\n    }\n  }\n\n  .tools-bar {\n    width: 100%;\n    box-sizing: border-box;\n    min-height: 120px;\n    background: #fff;\n    position: relative;\n    padding: 0 30px;\n    margin-bottom: 20px;\n\n    .progress {\n      width: 100%;\n      height: 140px;\n      overflow: hidden;\n      position: relative;\n\n      .rate {\n        float: left;\n        width: 526px;\n        height: 20px;\n        background: #f2f2f2;\n        border-radius: 10px;\n        margin-top: 65px;\n        position: relative;\n\n        .rate-num {\n          transition: all 0.3s ease-in-out;\n          width: 100px;\n          height: 45px;\n          line-height: 45px;\n          background: #f2f2f2;\n          color: #666666;\n          font-size: 24px;\n          text-align: center;\n          border-radius: 20px;\n          position: absolute;\n          top: -60px;\n          transform: translateX(-50%);\n\n          &:before {\n            content: '';\n            border-width: 15px 10px;\n            position: absolute;\n            bottom: -28px;\n            left: 50%;\n            -webkit-transform: translateX(-50%);\n            transform: translateX(-50%);\n            border-style: solid dashed dashed;\n            border-color: #f2f2f2 transparent transparent;\n            font-size: 0;\n            line-height: 0;\n          }\n        }\n\n        .actual {\n          position: absolute;\n          top: 0;\n          left: 0;\n          transition: all 0.3s ease-in-out;\n          height: 20px;\n          border-radius: 10px;\n          background: #ffad38;\n        }\n      }\n\n      .button {\n        margin-top: 50px;\n        float: right;\n        width: 117px;\n        height: 49px;\n        box-sizing: border-box;\n        border: 1px solid #274ff3;\n        border-radius: 24.5px;\n        color: #274ff3;\n        font-size: 24px;\n        line-height: 48px;\n        text-align: center;\n      }\n    }\n\n    .filled {\n      overflow: hidden;\n      font-size: 26px;\n      color: #525252;\n      padding-top: 110px;\n      margin-bottom: 20px;\n    }\n\n    .tools-list {\n      position: absolute;\n      top: -70px;\n      left: 50%;\n      transform: translateX(-50%);\n      width: 688px;\n      height: 144px;\n      border-radius: 8px;\n      background: #fff;\n      box-shadow: 0px 2px 20px 0px rgba($color: #000000, $alpha: 0.2);\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n\n      .flex-wrap {\n        text-align: center;\n        color: #333333;\n        font-size: 26px;\n        width: 100%;\n\n        .num {\n          color: #000;\n          margin-bottom: 20px;\n        }\n\n        .icon-qianbao {\n          font-size: 30px;\n          color: #fff;\n          background: #2b9dfe;\n          border-radius: 4px;\n          line-height: 44px;\n          display: block;\n          width: 44px;\n          height: 44px;\n          -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n          margin: -7px auto 13px;\n        }\n      }\n    }\n  }\n\n  .top {\n    width: 100%;\n    box-sizing: border-box;\n    padding: 0 30px;\n    height: 405px;\n    background-image: url('./indexbg.png');\n    background-size: 100% 405px;\n    background-position: center;\n    overflow: hidden;\n\n    .partner {\n      font-size: 24px;\n      margin-left: 150px;\n      margin-top: 10px;\n      color: #fefefe;\n    }\n\n    .info {\n      width: 100%;\n      overflow: hidden;\n      margin-top: 64px;\n\n      .vipicon {\n        width: 36px;\n        height: 36px;\n        margin-left: 20px;\n      }\n\n      .avatar {\n        width: 120px;\n        height: 120px;\n        border-radius: 50%;\n        float: left;\n        margin-right: 30px;\n      }\n\n      .info-detail {\n        float: left;\n        height: 120px;\n        overflow: hidden;\n        color: #fff;\n\n        .name {\n          font-size: 34px;\n          display: block;\n          margin-top: 26px;\n          font-weight: bold;\n        }\n\n        .adv {\n          font-size: 24px;\n          margin-top: 22px;\n          color: #fefefe;\n          display: block;\n        }\n      }\n    }\n\n    .top-bar {\n      width: 100%;\n      overflow: hidden;\n\n      .iconfont {\n        float: right;\n        color: #fff;\n        font-size: 40px;\n        margin-left: 40px;\n        margin-top: 20px;\n      }\n    }\n  }\n}\n</style>"]}]}