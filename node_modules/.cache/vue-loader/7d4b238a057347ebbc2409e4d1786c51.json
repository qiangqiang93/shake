{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/setting/payManage/step2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/setting/payManage/step2.vue","mtime":1548230663233},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport httpService from '@/service/httpService'\nimport { mapActions, mapState } from 'vuex'\nimport setting from '../../../api/setting'\nimport dialogService from '@/service/dialogService'\nimport AppHeader from '../../../components/AppHeader'\nimport Wrapper from '../../../components/Wrapper'\nexport default {\n  name: 'payManageStep2',\n  data() {\n    return {\n      value: '' // 支付密码\n    }\n  },\n    components: {\n    Wrapper,\n    AppHeader\n  },\n    computed: {\n    ...mapState({\n        platform: state => state.system.platform\n    }),\n     paddingTop: function() {\n      return this.platform === 'wechat' ? '0px' : '90px'\n    }\n  },\n  methods: {\n    focus() {\n      this.$refs.pwd.focus()\n    },\n    inputHandler() {\n      if (this.value.length === 6) {\n        this.validatePwd()\n      }\n    },\n    async validatePwd() {\n      try {\n        let res = await setting.validatePymPwd(this.value)\n        if (res.status !== 0) throw new Error(res.message)\n        this.$router.push({\n          path: '/setting/payManage/step3',\n          query: {\n            pwd: this.value\n          }\n        })\n      } catch (error) {\n        dialogService.toast(error.message)\n      }\n    }\n  }\n}\n",{"version":3,"sources":["step2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"step2.vue","sourceRoot":"src/module/setting/payManage","sourcesContent":["<template>\n  <Wrapper class=\"revise-pay-pwd\" :paddingTop=\"paddingTop\">\n   <AppHeader title=\"验证支付密码\" ref=\"header\" ></AppHeader>\n    <div class=\"title\">请输入六位支付密码,完成身份验证</div>\n    <input ref=\"pwd\" class=\"input\" type=\"number\" autofocus maxlength=\"6\" v-model=\"value\" @input=\"inputHandler()\" />\n    <ul class=\"pwd-wrap\" @click=\"focus\">\n      <li>\n        <i v-if=\"value.length > 0\" class=\"iconfont icon-jiufuqianbaoicon14\"></i>\n      </li>\n      <li>\n        <i v-if=\"value.length > 1\" class=\"iconfont icon-jiufuqianbaoicon14\"></i>\n      </li>\n      <li>\n        <i v-if=\"value.length > 2\" class=\"iconfont icon-jiufuqianbaoicon14\"></i>\n      </li>\n      <li>\n        <i v-if=\"value.length > 3\" class=\"iconfont icon-jiufuqianbaoicon14\"></i>\n      </li>\n      <li>\n        <i v-if=\"value.length > 4\" class=\"iconfont icon-jiufuqianbaoicon14\"></i>\n      </li>\n      <li>\n        <i v-if=\"value.length > 5\" class=\"iconfont icon-jiufuqianbaoicon14\"></i>\n      </li>\n    </ul>\n  </Wrapper>\n</template>\n<script>\nimport httpService from '@/service/httpService'\nimport { mapActions, mapState } from 'vuex'\nimport setting from '../../../api/setting'\nimport dialogService from '@/service/dialogService'\nimport AppHeader from '../../../components/AppHeader'\nimport Wrapper from '../../../components/Wrapper'\nexport default {\n  name: 'payManageStep2',\n  data() {\n    return {\n      value: '' // 支付密码\n    }\n  },\n    components: {\n    Wrapper,\n    AppHeader\n  },\n    computed: {\n    ...mapState({\n        platform: state => state.system.platform\n    }),\n     paddingTop: function() {\n      return this.platform === 'wechat' ? '0px' : '90px'\n    }\n  },\n  methods: {\n    focus() {\n      this.$refs.pwd.focus()\n    },\n    inputHandler() {\n      if (this.value.length === 6) {\n        this.validatePwd()\n      }\n    },\n    async validatePwd() {\n      try {\n        let res = await setting.validatePymPwd(this.value)\n        if (res.status !== 0) throw new Error(res.message)\n        this.$router.push({\n          path: '/setting/payManage/step3',\n          query: {\n            pwd: this.value\n          }\n        })\n      } catch (error) {\n        dialogService.toast(error.message)\n      }\n    }\n  }\n}\n</script>\n<style scoped lang='scss'>\n.revise-pay-pwd {\n  width: 100%;\n  height: 100vh;\n  background: #f6f6f6;\n  .title {\n    padding: 44px 30px;\n    font-size: 26px;\n    color: #555555;\n    box-sizing: border-box;\n  }\n  .input {\n  left: 5%;\n    top: 0;\n    width: 90%;\n    opacity: 0;\n    position: absolute;\n    height: 0px !important;\n    outline: none;\n    padding: 0;\n  }\n  .pwd-wrap {\n    width: 90%;\n    display: flex;\n    margin: 0 auto;\n    padding-bottom: 1px;\n    justify-content: space-between;\n    li {\n      width: 100px;\n      height: 100px;\n      line-height: 100px;\n      text-align: center;\n      border: 1px solid #ddd;\n      background: #fff;\n      i {\n        font-size: 26px;\n      }\n    }\n  }\n}\n</style>\n"]}]}