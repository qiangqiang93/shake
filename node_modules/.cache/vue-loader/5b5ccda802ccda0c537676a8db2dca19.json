{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/mine/wallet/addCard.vue?vue&type=style&index=0&id=f354a478&lang=scss&scoped=true&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/mine/wallet/addCard.vue","mtime":1548146585299},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.warpper {\n  .submit {\n    width: 690px;\n    height: 88px;\n    background: #274ff3;\n    color: #fff;\n    line-height: 88px;\n    margin: 35px auto;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 34px;\n  }\n  .input {\n    flex: 4;\n    outline: none;\n  }\n  .icon-gantan {\n    color: #ed2828;\n    font-size: 32px;\n    float: right;\n  }\n  .tips {\n    margin-top: 25px;\n    color: #666666;\n    font-size: 24px;\n    padding-left: 30px;\n  }\n  width: 100%;\n  min-height: 100vh;\n  background: #f4f4f4;\n  overflow: hidden;\n  position: relative;\n}\n",{"version":3,"sources":["addCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addCard.vue","sourceRoot":"src/module/mine/wallet","sourcesContent":["<template>\n  <div class=\"warpper\">\n    <AppHeader ref=\"header\" title=\"添加银行卡\" iconColor=\"#fff\" fontColor=\"#fff\" background=\"#000\"></AppHeader>\n    <p class=\"tips\">请绑定持卡人本人的银行卡</p>\n    <List style=\"margin-top:25px;\">\n      <ListItem label=\"持卡人\">\n        <input placeholder=\"请输入持卡人姓名\" v-model=\"cardMan\" class=\"input\" type=\"text\" />\n      </ListItem>\n      <ListItem label=\"银行\">\n        <p class=\"input\">工商银行<i @click=\"tips\" class=\"iconfont icon-gantan\"></i></p>\n      </ListItem>\n      <ListItem label=\"卡号\">\n        <input placeholder=\"请输入银行卡号\" v-model=\"cardNum\" class=\"input\" type=\"text\" />\n      </ListItem>\n    </List>\n    <div class=\"submit\" @click=\"submit\">{{loading?'正在提交,请稍后':'完成'}}</div>\n  </div>\n</template>\n<script>\nimport ListItem from '../../../components/ListItem/index'\nimport List from '../../../components/List/index'\nimport httpService from '../../../service/httpService'\nimport AppHeader from '../../../components/AppHeader'\nimport dialogService from '../../../service/dialogService'\nexport default {\n  name: 'mine-addCard',\n  data() {\n    return {\n      type: null, //是否有跳转\n      loading: false,\n      bank: '工商银行',\n      cardMan: '',\n      cardNum: ''\n    }\n  },\n  components: {\n    ListItem,\n    AppHeader,\n    List\n  },\n  mounted() {\n    this.type = this.$route.query && this.$route.query.type\n  },\n  methods: {\n    submit() {\n      if (this.loading) return\n      let _self = this\n      if (!this.cardMan) {\n        dialogService.alert('持卡人不能为空')\n        return\n      }\n      if (!this.bank) {\n        dialogService.alert('银行名称不能为空')\n        return\n      }\n      if (!this.cardNum) {\n        dialogService.alert('银行卡卡号不能为空')\n        return\n      }\n      // 先获取银行卡信息，确认无误后提交到后台\n      // 绑定成功后跳转到银行卡管理\n      this.loading = true\n      httpService\n        .post('/front/bank-card', {\n          name: this.cardMan,\n          bank_name: this.bank,\n          card_no: this.cardNum,\n          card_no_confirmation: this.cardNum\n        })\n        .then(res => {\n          if (res.status !== 0) {\n            dialogService.alert(res.message)\n            _self.loading = false\n            return\n          }\n          dialogService.toast('添加成功')\n          _self.loading = false\n          if (_self.type) {\n            this.$router.replace('/wallet/card/withdraw')\n          } else {\n            _self.$router.back()\n          }\n        })\n        .catch(err => {\n          dialogService.alert(err.message)\n          _self.loading = false\n        })\n    },\n    tips() {\n      dialogService.toast('暂时只支持工商银行')\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.warpper {\n  .submit {\n    width: 690px;\n    height: 88px;\n    background: #274ff3;\n    color: #fff;\n    line-height: 88px;\n    margin: 35px auto;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 34px;\n  }\n  .input {\n    flex: 4;\n    outline: none;\n  }\n  .icon-gantan {\n    color: #ed2828;\n    font-size: 32px;\n    float: right;\n  }\n  .tips {\n    margin-top: 25px;\n    color: #666666;\n    font-size: 24px;\n    padding-left: 30px;\n  }\n  width: 100%;\n  min-height: 100vh;\n  background: #f4f4f4;\n  overflow: hidden;\n  position: relative;\n}\n</style>\n \n "]}]}