{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/article/complain/index.vue?vue&type=style&index=0&id=5790ea93&lang=scss&scoped=true&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/article/complain/index.vue","mtime":1547004851847},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.complaint {\n  overflow: hidden;\n  box-sizing: border-box;\n  margin-bottom: 60px;\n\n  textarea {\n    overflow: hidden;\n    background: #f8f8f8;\n  }\n\n  .share-type {\n    padding: 0 24px;\n    font-size: 36px;\n    color: #414141;\n    line-height: 72px;\n    box-sizing: border-box;\n    border-bottom: 2px solid #dedede;\n  }\n\n  .child-type {\n    padding: 0 24px;\n    font-size: 32px;\n    color: #414141;\n    line-height: 90px;\n    box-sizing: border-box;\n    border-bottom: 2px solid #dedede;\n\n    .checkbox {\n      width: 28px;\n      float: right;\n      height: 28px;\n      color: #333;\n      display: block;\n      font-size: 24px;\n      line-height: 30px;\n      margin: 30px 0 0 16px;\n      box-sizing: border-box;\n      border: 2px solid #e9e9e9;\n\n      &.selected::before {\n        content: '√';\n        margin-left: 2px;\n        text-align: center;\n      }\n    }\n  }\n\n  .title {\n    font-size: 32px;\n    padding: 0 24px;\n    margin-top: 20px;\n    color: #414141;\n    line-height: 90px;\n    box-sizing: border-box;\n  }\n\n  textarea {\n    width: 710px;\n    resize: none;\n    height: 200px;\n    padding: 10px;\n    display: block;\n    overflow: auto;\n    font-size: 24px;\n    color: #626262;\n    margin: 20px 24px;\n    box-sizing: border-box;\n    border: 2px solid #dedede;\n  }\n}\n\n.foot {\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  position: fixed;\n  overflow: hidden;\n  text-align: center;\n\n  button {\n    width: 50%;\n    padding: 0;\n    float: left;\n    height: 80px;\n    border: none;\n    outline: none;\n    font-size: 36px;\n    color: #615f5f;\n    line-height: 80px;\n    background: #f6f5f5;\n\n    &.submit {\n      color: #fff;\n      background: #4389e1;\n    }\n  }\n}\n\n.share-content {\n  margin-bottom: 80px;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/module/article/complain","sourcesContent":["<template>\n  <Wrapper>\n    <AndroidHeader ref=\"header\" title=\"文章投诉\" iconColor=\"#fff\" fontColor=\"#fff\" background=\"#000\"></AndroidHeader>\n    <div class=\"complaint\" :style=\"innerWrapperStyle\">\n      <div class=\"share-content\">\n        <p class=\"share-type\" @click=\"show=!show\">请选择投诉类别:</p>\n        <p class=\"child-type\" v-for=\"(item, index) in childTypes\" :key=\"index\" @click=\"selected(index)\">\n          <span v-text=\"item.text\"></span>\n          <span :class=\"'checkbox' + (item.selected? ' selected' : '')\"></span>\n        </p>\n        <p class=\"title\">投诉内容：</p>\n        <textarea v-model=\"textarea\" placeholder=\"请详细描述您要投诉的内容。\"></textarea>\n      </div>\n    </div>\n    <div class=\"foot\" ref=\"footer\">\n      <button type=\"button\" @click=\"back()\">取消</button>\n      <button type=\"button\" class=\"submit\" @click=\"submit()\">提交</button>\n    </div>\n\n  </Wrapper>\n</template>\n<script>\n  import complain from './complain.json'\n  import {\n    mapState,\n    mapActions\n  } from 'vuex'\n  import Wrapper from '../../../components/Wrapper'\n  import article from '../../../api/article/index'\n  import dialogService from '../../../service/dialogService'\n  import AndroidHeader from '../../../components/AndroidHeader'\n  export default {\n    name: 'articleComplain',\n    data: function () {\n      return {\n        textarea: '',\n        childTypes: complain,\n        innerWrapperStyle: null,\n        show: false\n      }\n    },\n    mounted() {\n      if (this.platform === 'wechat' || this.platform === 'webApp') {\n        this.innerWrapperStyle = {\n          'margin-top': '20px'\n        }\n      }\n    },\n    methods: {\n      // 选择投诉主题\n      selected(index) {\n        this.childTypes[index].selected = !this.childTypes[index].selected\n      },\n      // 提交投诉\n      async submit() {\n        let item = this.childTypes.filter(item => item.selected)\n        item = item.map(item => item.text).join(',')\n        if (!item) {\n          dialogService.toast('请选择投诉类别')\n          return false\n        }\n        try {\n          let res = await article.complaint(this.$route.query.id, {\n            item: item,\n            content: this.textarea\n          })\n          if (res.status !== 0) throw new Error(res.message)\n          dialogService.toast('投诉成功', function () {\n            this.$router.back()\n          })\n        } catch (err) {\n          dialogService.toast('请选择投诉类别')\n        }\n      },\n      // 返回\n      back() {\n        this.$router.back()\n      }\n    },\n    components: {\n      Wrapper,\n      AndroidHeader\n    },\n    computed: {\n      ...mapState({\n        platform: state => state.system.platform\n      })\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .complaint {\n    overflow: hidden;\n    box-sizing: border-box;\n    margin-bottom: 60px;\n\n    textarea {\n      overflow: hidden;\n      background: #f8f8f8;\n    }\n\n    .share-type {\n      padding: 0 24px;\n      font-size: 36px;\n      color: #414141;\n      line-height: 72px;\n      box-sizing: border-box;\n      border-bottom: 2px solid #dedede;\n    }\n\n    .child-type {\n      padding: 0 24px;\n      font-size: 32px;\n      color: #414141;\n      line-height: 90px;\n      box-sizing: border-box;\n      border-bottom: 2px solid #dedede;\n\n      .checkbox {\n        width: 28px;\n        float: right;\n        height: 28px;\n        color: #333;\n        display: block;\n        font-size: 24px;\n        line-height: 30px;\n        margin: 30px 0 0 16px;\n        box-sizing: border-box;\n        border: 2px solid #e9e9e9;\n\n        &.selected::before {\n          content: '√';\n          margin-left: 2px;\n          text-align: center;\n        }\n      }\n    }\n\n    .title {\n      font-size: 32px;\n      padding: 0 24px;\n      margin-top: 20px;\n      color: #414141;\n      line-height: 90px;\n      box-sizing: border-box;\n    }\n\n    textarea {\n      width: 710px;\n      resize: none;\n      height: 200px;\n      padding: 10px;\n      display: block;\n      overflow: auto;\n      font-size: 24px;\n      color: #626262;\n      margin: 20px 24px;\n      box-sizing: border-box;\n      border: 2px solid #dedede;\n    }\n  }\n\n  .foot {\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    position: fixed;\n    overflow: hidden;\n    text-align: center;\n\n    button {\n      width: 50%;\n      padding: 0;\n      float: left;\n      height: 80px;\n      border: none;\n      outline: none;\n      font-size: 36px;\n      color: #615f5f;\n      line-height: 80px;\n      background: #f6f5f5;\n\n      &.submit {\n        color: #fff;\n        background: #4389e1;\n      }\n    }\n  }\n\n  .share-content {\n    margin-bottom: 80px;\n  }\n</style>"]}]}