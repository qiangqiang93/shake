{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/App.vue?vue&type=style&index=0&id=1dc1b366&scoped=true&lang=scss&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/App.vue","mtime":1547185197876},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.maskMoney {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 4;\n  top: 0;\n  left: 0;\n  .wallet {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: auto;\n\n    img {\n      width: 668px;\n    }\n\n    .close {\n      position: absolute;\n      top: -30px;\n      right: 46px;\n      width: 52px;\n    }\n\n    .info {\n      position: absolute;\n      top: 40px;\n      width: 100%;\n      color: #fae8c4;\n      font-size: 48px;\n      text-align: center;\n      font-weight: 400;\n\n      p {\n        line-height: 72px;\n\n        span {\n          color: #ffbc37;\n          font-size: 60px;\n        }\n      }\n\n      .draw {\n        width: 100%;\n        margin-top: 30px;\n\n        a {\n          color: #ff6c68;\n          font-size: 36px;\n          padding: 12px 88px;\n          background: #fff;\n          border-radius: 44px;\n        }\n      }\n    }\n  }\n}\n.mask {\n  @keyframes showtip {\n    from {\n      opacity: 0;\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n  .pics {\n    animation: showtip 0.3s ease-in-out;\n    width: 500px;\n    height: 700px;\n    border-radius: 6px;\n    object-fit: cover;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    margin-top: -400px;\n    margin-left: -250px;\n  }\n  .icon-cuo1 {\n    color: #dadada;\n    font-size: 50px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    margin-left: -20px;\n    margin-top: 330px;\n  }\n  z-index: 3;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(#000, 0.5);\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <Wrapper id=\"app\" paddingTop=\"0\">\n    <!-- <transition :name=\"transitionName\"> -->\n    <keep-alive :include=\"router\" max=\"6\">\n      <router-view></router-view>\n    </keep-alive>\n    <!-- </transition> -->\n    <AppDialog></AppDialog>\n    <ShareGuide></ShareGuide>\n    <AppLoading v-show=\"httpLoading\" :type=\"'data'\"></AppLoading>\n    <AppNavgation ref=\"footer\" v-show=\"nav\" :active=\"activeNav\"></AppNavgation>\n    <div class=\"mask\" v-if=\"isShow\" @click=\"isShow=false\">\n      <div class=\"wallet\">\n        <img class=\"pics\" :src=\"item.content\" @click.stop=\"toPage\">\n        <i class=\"iconfont icon-cuo1\"></i>\n      </div>\n    </div>\n    <div class=\"maskMoney\" v-show=\"moneyShow\">\n      <div class=\"wallet\">\n        <img src=\"/static/wallet.png\" alt=\"\">\n        <img src=\"/static/close.png\" alt=\"\" class=\"close\" @click=\"moneyShow=false\">\n        <div class=\"info\">\n          <p>恭喜你</p>\n          <p>获得<span>1元</span>奖励金</p>\n          <div class=\"draw\">\n            <a @click=\"receive\">点击领取</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Wrapper>\n</template>\n\n<script>\nimport { shouldGuid } from './utils'\nimport Wrapper from './components/Wrapper'\nimport { mapState, mapActions } from 'vuex'\nimport AppLoading from './components/AppLoading'\nimport httpService from './service/httpService'\nimport AppDialog from './components/AppDialog'\nimport ShareGuide from './components/ShareGuid'\nimport dialogService from './service/dialogService'\nimport AppNavgation from './components/AppNavgation'\nimport message from './api/message/index'\nexport default {\n  name: 'app',\n  data() {\n    return {\n      moneyShow: false, //邀请送一元\n      isShow: false,\n      item: { content: '', link: '' },\n\n      nav: true, // 是否显示导航\n      guidType: null, // 注册引导类型\n      activeNav: 'index' // 当前激活的导航\n    }\n  },\n  async mounted() {\n    this.nav = this.$route.meta.nav\n    let res = await message.getPush(1, 1)\n    if (!res.status) {\n      this.item = res.data.list.data[0]\n      if (res.data.list.data[0].id !== this.layerid && this.user) {\n        this.isShow = true\n        this['system/updateLyerid'](res.data.list.data[0].id)\n      }\n    }\n  },\n  updated() {\n    if (this.nav) this.resetNav()\n  },\n  methods: {\n    ...mapActions(['system/updateLyerid', 'user/setUserInfo']),\n    async receive() {\n      try {\n        let res = await httpService({\n          url: '/front/user_activity_amount',\n          loading: false,\n          method: 'post',\n          body: {\n            amount: 1\n          }\n        })\n        if (res.status != 0) {\n          throw new Error(res.message)\n        }\n        let user = Object.assign({}, this.user)\n        user.is_activity = true\n        this['user/setUserInfo'](user)\n        this.moneyShow = false\n        this.$router.push('/reward')\n      } catch (error) {\n        dialogService.alert(error.message)\n      }\n    },\n    // 跳转\n    toPage() {\n      window.location.href = this.item.link\n    },\n    // 重制导航位置\n    resetNav() {\n      let scrolled =\n        document.documentElement.scrollTop || document.body.scrollTop\n      let windowHeight = document.documentElement.clientHeight\n      let scrollHeight = document.documentElement.scrollHeight\n      let scrollBottom = scrolled + windowHeight >= scrollHeight\n      this.$refs.footer.$el.style.position = scrollBottom ? 'absolute' : 'fixed'\n    }\n  },\n  computed: {\n    ...mapState({\n      router: state => state.system.router,\n      user: state => state.user.userInfo,\n      layerid: state => state.system.layerid,\n      httpLoading: state => state.system.httpLoading\n    })\n  },\n  components: {\n    Wrapper,\n    AppLoading,\n    AppDialog,\n    ShareGuide,\n    AppNavgation\n  },\n  watch: {\n    $route(to, from) {\n      this.nav = to.meta.nav\n      this.activeNav = to.path.split('/')[1]\n\n      if (from.path === '/login' || from.path === '/') {\n        if (this.user && !this.user.is_activity) {\n          this.moneyShow = true\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.maskMoney {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 4;\n  top: 0;\n  left: 0;\n  .wallet {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: auto;\n\n    img {\n      width: 668px;\n    }\n\n    .close {\n      position: absolute;\n      top: -30px;\n      right: 46px;\n      width: 52px;\n    }\n\n    .info {\n      position: absolute;\n      top: 40px;\n      width: 100%;\n      color: #fae8c4;\n      font-size: 48px;\n      text-align: center;\n      font-weight: 400;\n\n      p {\n        line-height: 72px;\n\n        span {\n          color: #ffbc37;\n          font-size: 60px;\n        }\n      }\n\n      .draw {\n        width: 100%;\n        margin-top: 30px;\n\n        a {\n          color: #ff6c68;\n          font-size: 36px;\n          padding: 12px 88px;\n          background: #fff;\n          border-radius: 44px;\n        }\n      }\n    }\n  }\n}\n.mask {\n  @keyframes showtip {\n    from {\n      opacity: 0;\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n  .pics {\n    animation: showtip 0.3s ease-in-out;\n    width: 500px;\n    height: 700px;\n    border-radius: 6px;\n    object-fit: cover;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    margin-top: -400px;\n    margin-left: -250px;\n  }\n  .icon-cuo1 {\n    color: #dadada;\n    font-size: 50px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    margin-left: -20px;\n    margin-top: 330px;\n  }\n  z-index: 3;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(#000, 0.5);\n}\n</style>"]}]}