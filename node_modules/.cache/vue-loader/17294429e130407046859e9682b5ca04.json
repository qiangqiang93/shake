{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/mine/reward/index.vue?vue&type=style&index=0&id=77292aa4&lang=scss&scoped=true&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/mine/reward/index.vue","mtime":1547027040990},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.warpper {\n  .footer {\n    width: 100%;\n    height: 98px;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    background: #367df3;\n    line-height: 98px;\n    text-align: center;\n    color: #ffffff;\n    font-size: 32px;\n  }\n\n  .detail {\n    .no-more {\n      text-align: center;\n      font-size: 22px;\n      margin-top: 20px;\n    }\n\n    .list {\n      .ting {\n        color: #010101;\n        font-size: 30px;\n        margin-bottom: 10px;\n        overflow: hidden;\n\n        .name {\n          color: #274ff3;\n        }\n\n        .number {\n          float: right;\n        }\n      }\n\n      .time {\n        color: #777777;\n        font-size: 22px;\n      }\n\n      width: 100%;\n      box-sizing: border-box;\n      padding: 26px 30px;\n      border-bottom: 1px solid #eaeaea;\n    }\n\n    border-top: 1px solid #eaeaea;\n    width: 100%;\n    box-sizing: border-box;\n    background-color: #fff;\n  }\n\n  .search {\n    widows: 100px;\n    height: 80px;\n    line-height: 80px;\n    box-sizing: border-box;\n    padding: 0 30px;\n    color: #666666;\n    background: #f4f4f4;\n    font-size: 26px;\n    position: relative;\n  }\n\n  .total {\n    .now {\n      font-size: 24px;\n      margin-top: 55px;\n    }\n\n    .num {\n      font-size: 60px;\n      margin: 40px 0 30px;\n    }\n\n    .tips {\n      font-size: 24px;\n    }\n\n    color: #fff;\n    overflow: hidden;\n    width: 100%;\n    height: 300px;\n    text-align: center;\n    background: linear-gradient(to right, #f3ad17, #eba40d);\n  }\n\n  color: #000;\n  width: 100%;\n  min-height: 100vh;\n  background: #ffffff;\n  overflow: hidden;\n  position: relative;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/module/mine/reward","sourcesContent":["<template>\n  <Wrapper @isButton=\"isButton\" class=\"warpper\">\n    <div class=\"total\">\n      <p class=\"now\">当前营销奖励金</p>\n      <p class=\"num\">{{totalAmount}}</p>\n      <p class=\"tips\">累计营销奖励金{{rewardAll}}元</p>\n    </div>\n    <div class=\"search\">\n      <p>奖励金明细<router-link to=\"/activity/markeMoney\" tag=\"span\" style=\"float: right;color:#367df3;\">赚钱攻略</router-link>\n      </p>\n    </div>\n    <div class=\"detail\">\n      <div class=\"list\" v-for=\"(item,index) in data\" :key=\"index\">\n        <p class=\"ting\">邀请好友<span class=\"name\">小卖报</span><span class=\"number\">+￥{{item.amount}}</span></p>\n        <p class=\"time\">{{item.created_at}}</p>\n      </div>\n      <p class=\"no-more\" v-show=\"page == maxPage\">没有更多了</p>\n    </div>\n    <div @click=\"transform\" class=\"footer\" ref=\"footer\">转入钱包</div>\n  </Wrapper>\n</template>\n<script>\n  import dialogService from '../../../service/dialogService'\n  import httpService from '@/service/httpService'\n  import Wrapper from '../../../components/Wrapper/index'\n  import {\n    mapState\n  } from 'vuex'\n  import state from '../../../store/modules/user/state'\n\n  export default {\n    name: 'mine-reward',\n    data() {\n      return {\n        totalAmount: '--',\n        rewardAll: '--',\n        data: [],\n        page: 1,\n        maxPage: 1\n      }\n    },\n    components: {\n      Wrapper\n    },\n    mounted() {\n      this.getBill()\n    },\n    computed: {\n      ...mapState({\n        user: state => state.user.userInfo\n      })\n    },\n    methods: {\n      transform() {\n        let self = this\n        if (this.user.vip_level === 0) {\n          dialogService.confirm(\n            '您未开通会员,还不能转入余额哟,是否去开通会员？',\n            status => {\n              if (status) {\n                self.$router.push('/vipCenter')\n              }\n              return\n            }\n          )\n          return\n        }\n        if (this.totalAmount > 0) {\n          self.$router.push('/reward/toWallet')\n        } else {\n          dialogService.alert('当前余额为0，无法转入')\n        }\n      },\n      // 是否滚到底\n      isButton(status) {\n        if (status) {\n          if (this.page == this.maxPage) {\n            return\n          } else {\n            this.page++\n            this.getBill(load)\n          }\n        }\n      },\n      // 获取奖励金明细\n      async getBill(type) {\n        let self = this\n        try {\n          let r = await httpService({\n            url: '/front/reward/bill',\n            params: {\n              page: self.page\n            }\n          })\n          if (r.status !== 0) {\n            throw new Error(r.message)\n          }\n          self.maxPage = r.data.last_page\n          self.data =\n            type === 'load' ? self.data.concat(r.data.data) : r.data.data\n          self.totalAmount = r.data.totalAmount\n          self.rewardAll = parseFloat(r.data.rewardAll).toFixed(2)\n        } catch (error) {\n          dialogService.alert(error.message)\n        }\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .warpper {\n    .footer {\n      width: 100%;\n      height: 98px;\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      background: #367df3;\n      line-height: 98px;\n      text-align: center;\n      color: #ffffff;\n      font-size: 32px;\n    }\n\n    .detail {\n      .no-more {\n        text-align: center;\n        font-size: 22px;\n        margin-top: 20px;\n      }\n\n      .list {\n        .ting {\n          color: #010101;\n          font-size: 30px;\n          margin-bottom: 10px;\n          overflow: hidden;\n\n          .name {\n            color: #274ff3;\n          }\n\n          .number {\n            float: right;\n          }\n        }\n\n        .time {\n          color: #777777;\n          font-size: 22px;\n        }\n\n        width: 100%;\n        box-sizing: border-box;\n        padding: 26px 30px;\n        border-bottom: 1px solid #eaeaea;\n      }\n\n      border-top: 1px solid #eaeaea;\n      width: 100%;\n      box-sizing: border-box;\n      background-color: #fff;\n    }\n\n    .search {\n      widows: 100px;\n      height: 80px;\n      line-height: 80px;\n      box-sizing: border-box;\n      padding: 0 30px;\n      color: #666666;\n      background: #f4f4f4;\n      font-size: 26px;\n      position: relative;\n    }\n\n    .total {\n      .now {\n        font-size: 24px;\n        margin-top: 55px;\n      }\n\n      .num {\n        font-size: 60px;\n        margin: 40px 0 30px;\n      }\n\n      .tips {\n        font-size: 24px;\n      }\n\n      color: #fff;\n      overflow: hidden;\n      width: 100%;\n      height: 300px;\n      text-align: center;\n      background: linear-gradient(to right, #f3ad17, #eba40d);\n    }\n\n    color: #000;\n    width: 100%;\n    min-height: 100vh;\n    background: #ffffff;\n    overflow: hidden;\n    position: relative;\n  }\n</style>"]}]}