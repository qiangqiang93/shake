{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/setting/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/setting/index/index.vue","mtime":1548230663232},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport List from '../../../components/List'\nimport ListItem from '../../../components/ListItem'\nimport { mapState, mapActions } from 'vuex'\nimport dialogService from '@/service/dialogService'\nimport AppHeader from '../../../components/AppHeader'\nimport Wrapper from '../../../components/Wrapper'\n\n\nexport default {\n  name: 'settingIndex',\n  components: {\n    List,\n    ListItem,\n    AppHeader,\n    Wrapper\n  },\n  methods: {\n    ...mapActions([\n      'system/setToken',\n      'system/updateRouter',\n      'articles/clearArticlesAll',\n      'user/clearAll'\n    ]),\n    hasPayPwd() {\n      if (!this.user.payment_pwd) {\n        dialogService.confirm('您还没有设置支付密码,马上去设置？', status => {\n          if (status) {\n            this.$router.push('/setting/payManage/step1')\n          }\n        })\n      } else {\n        this.$router.push('/setting/payManage')\n      }\n    },\n    // 退出登录\n    exit() {\n      this['system/setToken'](null)\n      this['articles/clearArticlesAll']()\n      this['user/clearAll']()\n      this['system/updateRouter']({\n        type: 'delAll',\n        data: []\n      })\n      this.$router.push('/login')\n    }\n  },\n  computed: {\n    ...mapState({\n      user: state => state.user.userInfo,\n      platform: state => state.system.platform,\n    }),\n    paddingTop: function() {\n      return this.platform === 'wechat' ? '0px' : '90px'\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    let arrName = [\n      '/setting/accountManage',\n      '/setting/payManage',\n      '/setting/protocol',\n      '/setting/about',\n      '/mine/index',\n      '/login',\n      '/setting/payManage/step1'\n    ]\n    if (arrName.indexOf(to.path) === -1) {\n      next('/mine/index')\n    }\n    next()\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/module/setting/index","sourcesContent":["<template>\n  <Wrapper class=\"set-up\" :paddingTop=\"paddingTop\">\n   <AppHeader title=\"设置\" ref=\"header\" ></AppHeader>\n    <List>\n      <ListItem label=\"账号管理\" arrow=\"true\" link=\"/setting/accountManage\">\n      </ListItem>\n    </List>\n    <List>\n      <ListItem label=\"支付管理\" arrow=\"true\" @click.native=\"hasPayPwd\">\n      </ListItem>\n    </List>\n    <List>\n      <ListItem label=\"用户协议\" arrow=\"true\" link=\"/setting/protocol\">\n      </ListItem>\n      <ListItem label=\"联系我们\" arrow=\"true\" link=\"/setting/about\">\n      </ListItem>\n      <ListItem label=\"关于汇脉宝\">\n        <div>版本1.0</div>\n      </ListItem>\n    </List>\n    <List>\n      <ListItem class=\"exitBtn\" label=\"退出登录\" @click.native=\"exit\">\n      </ListItem>\n    </List>\n    <!-- <div class=\"btn\" @click=\"exit\">退出登录</div> -->\n  </Wrapper>\n</template>\n\n<script>\nimport List from '../../../components/List'\nimport ListItem from '../../../components/ListItem'\nimport { mapState, mapActions } from 'vuex'\nimport dialogService from '@/service/dialogService'\nimport AppHeader from '../../../components/AppHeader'\nimport Wrapper from '../../../components/Wrapper'\n\n\nexport default {\n  name: 'settingIndex',\n  components: {\n    List,\n    ListItem,\n    AppHeader,\n    Wrapper\n  },\n  methods: {\n    ...mapActions([\n      'system/setToken',\n      'system/updateRouter',\n      'articles/clearArticlesAll',\n      'user/clearAll'\n    ]),\n    hasPayPwd() {\n      if (!this.user.payment_pwd) {\n        dialogService.confirm('您还没有设置支付密码,马上去设置？', status => {\n          if (status) {\n            this.$router.push('/setting/payManage/step1')\n          }\n        })\n      } else {\n        this.$router.push('/setting/payManage')\n      }\n    },\n    // 退出登录\n    exit() {\n      this['system/setToken'](null)\n      this['articles/clearArticlesAll']()\n      this['user/clearAll']()\n      this['system/updateRouter']({\n        type: 'delAll',\n        data: []\n      })\n      this.$router.push('/login')\n    }\n  },\n  computed: {\n    ...mapState({\n      user: state => state.user.userInfo,\n      platform: state => state.system.platform,\n    }),\n    paddingTop: function() {\n      return this.platform === 'wechat' ? '0px' : '90px'\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    let arrName = [\n      '/setting/accountManage',\n      '/setting/payManage',\n      '/setting/protocol',\n      '/setting/about',\n      '/mine/index',\n      '/login',\n      '/setting/payManage/step1'\n    ]\n    if (arrName.indexOf(to.path) === -1) {\n      next('/mine/index')\n    }\n    next()\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.set-up {\n  height: 100vh;\n  background: #f6f6f6;\n  overflow: hidden;\n  .exitBtn {\n    text-align: center;\n    color: #da0202;\n  }\n  .btn {\n    position: relative;\n    width: 690px;\n    height: 88px;\n    line-height: 88px;\n    background-color: #e92121;\n    border-radius: 10px;\n    font-size: 32px;\n    color: #fff;\n    text-align: center;\n    margin: 40px auto 0;\n  }\n}\n</style>"]}]}