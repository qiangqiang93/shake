{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/components/FooterInfo/index.vue?vue&type=style&index=0&id=f28a5358&lang=scss&scoped=true&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/components/FooterInfo/index.vue","mtime":1547638652232},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.footer-info-wrapper {\n  bottom: 0;\n  width: 100%;\n  position: fixed;\n}\n.footer-info-content.card {\n  width: 100%;\n  height: 100px;\n  display: flex;\n  margin-top: 20px;\n  position: relative;\n  justify-content: flex-end;\n  box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.15);\n  .footer-info-head {\n    top: -20px;\n    left: 40px;\n    width: 90px;\n    height: 90px;\n    overflow: hidden;\n    position: absolute;\n    border-radius: 45px;\n  }\n  .footer-info-img {\n    width: 100%;\n    height: 100%;\n  }\n  .footer-info-collecte {\n    width: 125px;\n    display: flex;\n    height: 100px;\n    font-size: 20px;\n    color: #333333;\n    position: relative;\n    margin-right: 15px;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n    font-family: 'PingFang SC Medium';\n  }\n  .icon-star {\n    font-size: 36px;\n    color: #5d7bf7;\n    margin-bottom: 10px;\n  }\n  .icon-shoucang2 {\n    font-size: 36px;\n    color: #5d7bf7;\n    margin-bottom: 10px;\n  }\n  .footer-info-share {\n    width: 140px;\n    display: flex;\n    height: 100px;\n    font-size: 20px;\n    color: #333333;\n    position: relative;\n    margin-right: 60px;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n    font-family: 'PingFang SC Medium';\n  }\n  .icon-fenxiang4 {\n    font-size: 36px;\n    color: #5d7bf7;\n    margin-bottom: 10px;\n  }\n  .share-count {\n    right: 0;\n    top: 10px;\n    width: 60px;\n    height: 24px;\n    color: #fff;\n    font-size: 16px;\n    line-height: 24px;\n    position: absolute;\n    text-align: center;\n    border-radius: 12px;\n    background: #0bc782;\n    font-family: 'PingFang SC Bold';\n  }\n  .footer-info-phone {\n    width: 248px;\n    height: 100px;\n    color: #fff;\n    display: flex;\n    font-size: 30px;\n    overflow: hidden;\n    align-items: center;\n    background: #06c773;\n    justify-content: center;\n    font-family: 'PingFang SC Medium';\n  }\n  .icon-dianhua1 {\n    font-size: 32px;\n    margin-right: 10px;\n  }\n}\n.footer-info-content.webPage {\n  left: 0;\n  bottom: 0;\n  z-index: 1;\n  width: 100%;\n  height: 98px;\n  display: flex;\n  padding: 0 30px;\n  position: fixed;\n  background: #fff;\n  align-items: center;\n  box-sizing: border-box;\n  justify-content: space-around;\n  box-shadow: 0 -1px 10px 0 rgba(0, 0, 0, 0.08);\n  .footer-info-head {\n    width: 90px;\n    height: 90px;\n    overflow: hidden;\n    margin-top: -61px;\n    border-radius: 45px;\n  }\n  .footer-info-img {\n    width: 100%;\n    height: 100%;\n  }\n  .footer-info-card,\n  .footer-info-share,\n  .footer-info-clone,\n  .footer-info-interested {\n    width: 130px;\n    position: relative;\n    text-align: center;\n  }\n  .iconfont {\n    font-size: 40px;\n    color: #5d7bf7;\n  }\n  .footer-info-text {\n    color: #666;\n    display: block;\n    font-size: 20px;\n    margin-top: 6px;\n  }\n  .footer-info-num {\n    top: 0;\n    right: 0;\n    width: 57px;\n    height: 23px;\n    color: #fff;\n    font-size: 16px;\n    line-height: 23px;\n    position: absolute;\n    text-align: center;\n    border-radius: 12px;\n    background: #0bc782;\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/FooterInfo","sourcesContent":["<!--\n    @name       FooterInfo\n    @desc       底部信息操作组件 [名片详情、个人微网、营销网页]\n    @props\n            type    emun['card', 'webPage', 'marketing']\n            input   Object\n    @emit \n            share\n-->\n\n<template>\n  <div class=\"footer-info-wrapper\">\n    <template v-if=\"input\">\n      <div v-if=\"type === 'card'\" class=\"footer-info-content card\">\n        <router-link tag=\"div\" :to=\"'/other/preview/' + input.user_id\" class=\"footer-info-head\">\n          <img class=\"footer-info-img\" :src=\"input.portrait\" alt=\"\">\n        </router-link>\n        <div class=\"footer-info-collecte\" @click=\"cardHandler()\">\n          <template v-if=\"input.has_holder\">\n            <i class=\"iconfont icon-star\"></i>\n            <span>取消收藏</span>\n          </template>\n          <template v-else>\n            <i class=\"iconfont icon-shoucang2\"></i>\n            <span>收藏名片</span>\n          </template>\n        </div>\n        <div class=\"footer-info-share\" @click=\"shareHandler()\">\n          <i class=\"iconfont icon-fenxiang4\"></i>\n          <span class=\"share-count\">{{input.share_count | numFormat('input')}}</span>\n          <span>分享</span>\n        </div>\n        <a :href=\"'tel:' + input.phone\" :disabled=\"!input.phone\" class=\"footer-info-phone\">\n          <i class=\"iconfont icon-dianhua1\"></i>拨打电话\n        </a>\n      </div>\n      <div v-if=\"type === 'webPage'\" class=\"footer-info-content webPage\">\n        <template v-if=\"input.user\">\n          <router-link tag=\"div\" :to=\"'/other/preview/' + input.user.id\" class=\"footer-info-head\">\n            <img class=\"footer-info-img\" :src=\"input.user.portrait\" alt=\"\">\n          </router-link>\n          <router-link tag=\"div\" :to=\"'/card/detail/' + input.user.id\" class=\"footer-info-card\">\n            <i class=\"iconfont icon-chakanmingpian\"></i>\n            <span class=\"footer-info-text\">名片</span>\n          </router-link>\n          <div v-if=\"!user || user.id!==input.user_id\" class=\"footer-info-clone\" @click=\"clonePage()\">\n            <i class=\"iconfont icon-kelong\"></i>\n            <span class=\"footer-info-text\">克隆</span>\n          </div>\n        </template>\n        <div class=\"footer-info-interested\" @click=\"interesting()\">\n          <i v-if=\"input.is_interest\" class=\"iconfont icon-star\"></i>\n          <i v-else class=\"iconfont icon-duiwoganxingqu\"></i>\n          <p class=\"footer-info-text\">感兴趣</p>\n          <p class=\"footer-info-num\" v-text=\"input.interest\"></p>\n        </div>\n        <div class=\"footer-info-share\" @click=\"shareHandler()\">\n          <i class=\"iconfont icon-fenxiang2\"></i>\n          <p class=\"footer-info-text\">分享</p>\n          <p class=\"footer-info-num\" v-text=\"input.share\"></p>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nimport card from '../../api/card'\n\nimport guideService from '../../service/guideService'\nimport dialogService from '../../service/dialogService'\n\nexport default {\n  props: ['input', 'type'],\n  data() {\n    return {}\n  },\n  mounted() {},\n  methods: {\n    ...mapActions(['user/updateUser']),\n    // 名片操作[收藏、取消收藏]\n    cardHandler() {\n      let _self = this\n      if (!this.user) {\n        guideService.login()\n        return false\n      }\n      if (this.input.has_holder) {\n        this.cancleCollecte()\n      } else {\n        this.submitCollecte()\n      }\n    },\n    // 收藏名片\n    async submitCollecte() {\n      try {\n        let res = await card.collecteCard(this.input.card_id)\n        if (res.status !== 0) throw new Error(res.message)\n\n        this.$set(this.input, 'has_holder', true)\n        dialogService.toast('收藏成功')\n        this['user/updateUser']({\n          card_num: Number(this.user.card_num) + 1\n        })\n      } catch (err) {\n        dialogService.alert(err.message)\n      }\n    },\n    // 取消收藏名片\n    async cancleCollecte() {\n      try {\n        let res = await card.cancleCollecte(this.input.card_id)\n        if (res.status !== 0) throw new Error(res.message)\n        this.$set(this.input, 'has_holder', false)\n        dialogService.toast('取消收藏')\n        this['user/updateUser']({\n          card_num: Number(this.user.card_num) - 1\n        })\n      } catch (err) {\n        dialogService.alert(err.message)\n      }\n    },\n    // 克隆网页\n    clonePage() {\n      this.$emit('clone')\n    },\n    // 感兴趣\n    interesting() {\n      this.$emit('interesting')\n    },\n    // 点击分享\n    shareHandler() {\n      this.$emit('share')\n    }\n  },\n  computed: {\n    ...mapState({\n      user: state => state.user.userInfo\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.footer-info-wrapper {\n  bottom: 0;\n  width: 100%;\n  position: fixed;\n}\n.footer-info-content.card {\n  width: 100%;\n  height: 100px;\n  display: flex;\n  margin-top: 20px;\n  position: relative;\n  justify-content: flex-end;\n  box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.15);\n  .footer-info-head {\n    top: -20px;\n    left: 40px;\n    width: 90px;\n    height: 90px;\n    overflow: hidden;\n    position: absolute;\n    border-radius: 45px;\n  }\n  .footer-info-img {\n    width: 100%;\n    height: 100%;\n  }\n  .footer-info-collecte {\n    width: 125px;\n    display: flex;\n    height: 100px;\n    font-size: 20px;\n    color: #333333;\n    position: relative;\n    margin-right: 15px;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n    font-family: 'PingFang SC Medium';\n  }\n  .icon-star {\n    font-size: 36px;\n    color: #5d7bf7;\n    margin-bottom: 10px;\n  }\n  .icon-shoucang2 {\n    font-size: 36px;\n    color: #5d7bf7;\n    margin-bottom: 10px;\n  }\n  .footer-info-share {\n    width: 140px;\n    display: flex;\n    height: 100px;\n    font-size: 20px;\n    color: #333333;\n    position: relative;\n    margin-right: 60px;\n    align-items: center;\n    flex-direction: column;\n    justify-content: center;\n    font-family: 'PingFang SC Medium';\n  }\n  .icon-fenxiang4 {\n    font-size: 36px;\n    color: #5d7bf7;\n    margin-bottom: 10px;\n  }\n  .share-count {\n    right: 0;\n    top: 10px;\n    width: 60px;\n    height: 24px;\n    color: #fff;\n    font-size: 16px;\n    line-height: 24px;\n    position: absolute;\n    text-align: center;\n    border-radius: 12px;\n    background: #0bc782;\n    font-family: 'PingFang SC Bold';\n  }\n  .footer-info-phone {\n    width: 248px;\n    height: 100px;\n    color: #fff;\n    display: flex;\n    font-size: 30px;\n    overflow: hidden;\n    align-items: center;\n    background: #06c773;\n    justify-content: center;\n    font-family: 'PingFang SC Medium';\n  }\n  .icon-dianhua1 {\n    font-size: 32px;\n    margin-right: 10px;\n  }\n}\n.footer-info-content.webPage {\n  left: 0;\n  bottom: 0;\n  z-index: 1;\n  width: 100%;\n  height: 98px;\n  display: flex;\n  padding: 0 30px;\n  position: fixed;\n  background: #fff;\n  align-items: center;\n  box-sizing: border-box;\n  justify-content: space-around;\n  box-shadow: 0 -1px 10px 0 rgba(0, 0, 0, 0.08);\n  .footer-info-head {\n    width: 90px;\n    height: 90px;\n    overflow: hidden;\n    margin-top: -61px;\n    border-radius: 45px;\n  }\n  .footer-info-img {\n    width: 100%;\n    height: 100%;\n  }\n  .footer-info-card,\n  .footer-info-share,\n  .footer-info-clone,\n  .footer-info-interested {\n    width: 130px;\n    position: relative;\n    text-align: center;\n  }\n  .iconfont {\n    font-size: 40px;\n    color: #5d7bf7;\n  }\n  .footer-info-text {\n    color: #666;\n    display: block;\n    font-size: 20px;\n    margin-top: 6px;\n  }\n  .footer-info-num {\n    top: 0;\n    right: 0;\n    width: 57px;\n    height: 23px;\n    color: #fff;\n    font-size: 16px;\n    line-height: 23px;\n    position: absolute;\n    text-align: center;\n    border-radius: 12px;\n    background: #0bc782;\n  }\n}\n</style>\n"]}]}