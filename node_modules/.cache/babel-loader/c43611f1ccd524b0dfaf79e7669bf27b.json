{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/webPage/rank/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/webPage/rank/index.vue","mtime":1547620596129},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import CloneDialog from '@/components/CloneDialog'\nimport dialogService from '@/service/dialogService';\nimport { mapState, mapActions } from 'vuex';\nimport { pageCover } from '@/utils';\nimport AppHeader from '../../../components/AppHeader/index';\nimport Wrapper from '../../../components/Wrapper/index';\nimport httpService from '@/service/httpService';\nexport default {\n  name: 'cloneRank',\n  data: function data() {\n    return {\n      windowHeight: null,\n      //高度\n      loading: false,\n      // 是否在加载\n      last_page: null,\n      // 总页数\n      page: 1,\n      // 当前页数\n      show: false,\n      lists: []\n    };\n  },\n  components: {\n    AppHeader: AppHeader,\n    Wrapper: Wrapper\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.getLists();\n              this['webPage/updateCloneId'](null);\n              this['webPage/updateClonePage']({\n                type: 'init',\n                data: null\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  computed: _objectSpread({}, mapState({\n    user: function user(state) {\n      return state.user.userInfo;\n    },\n    platform: function platform(state) {\n      return state.system.platform;\n    }\n  }), {\n    paddingTop: function paddingTop() {\n      return this.platform === 'wechat' ? '0px' : '100px';\n    }\n  }),\n  methods: _objectSpread({}, mapActions(['system/updateBeVipPath', 'webPage/updateClonePage', 'webPage/updateCloneId']), {\n    // 获取排行榜列表\n    getLists: function () {\n      var _getLists = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(load) {\n        var _this = this;\n\n        var res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.loading = true;\n                if (load) this.page += 1;\n                _context2.next = 4;\n                return httpService.get('/front/personal_page/rank', {\n                  page: this.page,\n                  is_clone: true\n                });\n\n              case 4:\n                res = _context2.sent;\n\n                if (!(res.status !== 0)) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                dialogService.toast(res.message);\n                return _context2.abrupt(\"return\");\n\n              case 8:\n                if (load) {\n                  this.lists = this.lists.concat(res.data.rank.map(function (item) {\n                    item.cover = pageCover(item);\n                    item.loading = true;\n                    return item;\n                  }));\n                } else {\n                  this.lists = res.data.rank.map(function (item) {\n                    item.cover = pageCover(item);\n                    item.loading = true;\n                    return item;\n                  });\n                }\n\n                this.$nextTick(function () {\n                  _this.loadImg();\n                }); // this.rank = res.data.ranking\n\n                this.show = true;\n                this.last_page = res.data.meta.last_page;\n                this.windowHeight = document.documentElement.clientHeight;\n                this.loading = false;\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getLists(_x) {\n        return _getLists.apply(this, arguments);\n      }\n\n      return getLists;\n    }(),\n    nextPage: function nextPage(scrolled, scrollHeight) {\n      var scrollBottom = this.windowHeight + scrolled > scrollHeight - 100;\n\n      if (!scrollBottom || this.loading || this.page >= this.last_page) {\n        return false;\n      } else {\n        this.getLists(true);\n      }\n    },\n    // 加载图片\n    loadImg: function loadImg() {\n      var _self = this;\n\n      this.lists.forEach(function (item, index) {\n        var image = new Image();\n        image.src = item.cover ? item.cover : '/static/cover/default.png';\n\n        image.onload = function () {\n          if (!item.cover) _self.$set(_self.lists[index], 'cover', '/static/cover/default.png');\n\n          _self.$set(_self.lists[index], 'loading', false);\n        };\n      });\n    },\n    // 个人网页详情\n    goCustomPage: function goCustomPage(id) {\n      this.$router.push({\n        path: \"/webPage/detail/\".concat(id)\n      });\n    },\n    // 克隆网页\n    clone: function () {\n      var _clone = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(index) {\n        var res;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.user.vip_level) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                this._openVip();\n\n                return _context3.abrupt(\"return\", false);\n\n              case 3:\n                // 将克隆网页的信息存入vuex中\n                this['webPage/updateClonePage']({\n                  type: 'init',\n                  data: this.lists[index]\n                });\n                _context3.prev = 4;\n                _context3.next = 7;\n                return httpService({\n                  method: 'post',\n                  body: {\n                    temp_id: this.lists[index].id\n                  },\n                  url: '/front/personal_page/customs/clone'\n                });\n\n              case 7:\n                res = _context3.sent;\n\n                if (!(res.status !== 0)) {\n                  _context3.next = 10;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 10:\n                this['webPage/updateCloneId'](res.data.clone_id); // 再判断是否为收费模板，是则先付费\n\n                if (this.lists[index].clone_price !== '0.00') {\n                  this.$router.replace('/pay?type=clone');\n                } else {\n                  this.$router.push({\n                    path: '/webPage/edit'\n                  });\n                }\n\n                _context3.next = 17;\n                break;\n\n              case 14:\n                _context3.prev = 14;\n                _context3.t0 = _context3[\"catch\"](4);\n                dialogService.alert(_context3.t0.message);\n\n              case 17:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[4, 14]]);\n      }));\n\n      function clone(_x2) {\n        return _clone.apply(this, arguments);\n      }\n\n      return clone;\n    }(),\n    // 开通会员操作\n    _openVip: function _openVip(msg) {\n      var _self = this;\n\n      dialogService.confirm('开通会员才能克隆网页哦，是否去开通？', function (ok) {\n        if (ok) {\n          _self['system/updateBeVipPath']('/cloneRank');\n\n          _self.$router.push({\n            path: '/mine/vipCenter'\n          });\n        }\n      });\n    }\n  })\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["/**\n*  克隆榜\n*/\n\n<template>\n  <Wrapper @scrolling=\"nextPage\" class=\"wraper\" :paddingTop=\"paddingTop\" style=\"padding-bottom: 100px;\">\n    <AppHeader ref=\"header\" title=\"克隆榜\" iconColor=\"#fff\" fontColor=\"#fff\" background=\"#274ff3\">\n    </AppHeader>\n    <div v-show=\"!show\" class=\"marketing-item\">\n      <div class=\"marketing-item-poster\" style=\"background:#dadada\">\n      </div>\n      <div class=\"marketing-item-info\">\n        <p class=\"marketing-item-title\" style=\"background:#dadada;width:60px;\"></p>\n        <p class=\"marketing-item-date animate\" style=\"background:#dadada;width:30%;height:30px;\"></p>\n        <p class=\"marketing-item-date animate\" style=\"background:#dadada;width:30%;height:30px;animation-delay: 0.4s\"></p>\n      </div>\n      <div class=\"button\" style=\"background:#dadada\"></div>\n    </div>\n    <div v-show=\"show\" class=\"marketing-item\" v-for=\"(item, index) in lists\" :key=\"index\" @click=\"goCustomPage(item.id)\">\n      <div class=\"marketing-item-poster\" :style=\"{ backgroundImage: item.loading?'url(/static/loading.gif)':`url(${item.cover})`}\">\n      </div>\n      <div class=\"marketing-item-info\">\n        <p class=\"marketing-item-title\">{{`NO.${index + 1}`}}</p>\n        <p class=\"marketing-item-counter\" v-text=\"item.title\"></p>\n        <p class=\"marketing-item-date\">{{item.popularity+'人在使用'}}</p>\n        <p class=\"marketing-item-operate\">\n          <img :src=\"item.user.portrait\">\n          <span>{{item.user.name}}</span>\n        </p>\n      </div>\n      <div class=\"button\" v-if=\"item.is_clone\" @click.stop=\"clone(index)\">{{item.is_clone && item.clone_price!=='0.00'?item.clone_price.split('.')[0]+'元':'免费'}}克隆</div>\n    </div>\n    <p class=\"tips\" v-show=\"lists.length\">{{loading?'正在加载...':'暂无更多'}}</p>\n  </Wrapper>\n</template>\n\n<script>\n// import CloneDialog from '@/components/CloneDialog'\nimport dialogService from '@/service/dialogService'\nimport { mapState, mapActions } from 'vuex'\nimport { pageCover } from '@/utils'\nimport AppHeader from '../../../components/AppHeader/index'\nimport Wrapper from '../../../components/Wrapper/index'\nimport httpService from '@/service/httpService'\nexport default {\n  name: 'cloneRank',\n  data() {\n    return {\n      windowHeight: null, //高度\n      loading: false, // 是否在加载\n      last_page: null, // 总页数\n      page: 1, // 当前页数\n      show: false,\n      lists: []\n    }\n  },\n  components: {\n    AppHeader,\n    Wrapper\n  },\n  async mounted() {\n    this.getLists()\n    this['webPage/updateCloneId'](null)\n    this['webPage/updateClonePage']({\n      type: 'init',\n      data: null\n    })\n  },\n  computed: {\n    ...mapState({\n      user: state => state.user.userInfo,\n      platform: state => state.system.platform\n    }),\n    paddingTop: function() {\n      return this.platform === 'wechat' ? '0px' : '100px'\n    }\n  },\n  methods: {\n    ...mapActions([\n      'system/updateBeVipPath',\n      'webPage/updateClonePage',\n      'webPage/updateCloneId'\n    ]),\n    // 获取排行榜列表\n    async getLists(load) {\n      this.loading = true\n      if (load) this.page += 1\n      let res = await httpService.get('/front/personal_page/rank', {\n        page: this.page,\n        is_clone: true\n      })\n      if (res.status !== 0) {\n        dialogService.toast(res.message)\n        return\n      }\n      if (load) {\n        this.lists = this.lists.concat(\n          res.data.rank.map(item => {\n            item.cover = pageCover(item)\n            item.loading = true\n            return item\n          })\n        )\n      } else {\n        this.lists = res.data.rank.map(item => {\n          item.cover = pageCover(item)\n          item.loading = true\n          return item\n        })\n      }\n      this.$nextTick(() => {\n        this.loadImg()\n      })\n      // this.rank = res.data.ranking\n      this.show = true\n      this.last_page = res.data.meta.last_page\n      this.windowHeight = document.documentElement.clientHeight\n      this.loading = false\n    },\n    nextPage(scrolled, scrollHeight) {\n      let scrollBottom = this.windowHeight + scrolled > scrollHeight - 100\n      if (!scrollBottom || this.loading || this.page >= this.last_page) {\n        return false\n      } else {\n        this.getLists(true)\n      }\n    },\n    // 加载图片\n    loadImg() {\n      let _self = this\n      this.lists.forEach((item, index) => {\n        let image = new Image()\n        image.src = item.cover ? item.cover : '/static/cover/default.png'\n        image.onload = function() {\n          if (!item.cover)\n            _self.$set(_self.lists[index], 'cover', '/static/cover/default.png')\n          _self.$set(_self.lists[index], 'loading', false)\n        }\n      })\n    },\n    // 个人网页详情\n    goCustomPage(id) {\n      this.$router.push({\n        path: `/webPage/detail/${id}`\n      })\n    },\n    // 克隆网页\n    async clone(index) {\n      if (!this.user.vip_level) {\n        this._openVip()\n        return false\n      }\n      // 将克隆网页的信息存入vuex中\n      this['webPage/updateClonePage']({\n        type: 'init',\n        data: this.lists[index]\n      })\n\n      try {\n        // 生成克隆到订单\n        let res = await httpService({\n          method: 'post',\n          body: {\n            temp_id: this.lists[index].id\n          },\n          url: '/front/personal_page/customs/clone'\n        })\n        if (res.status !== 0) throw new Error(res.message)\n        this['webPage/updateCloneId'](res.data.clone_id)\n        // 再判断是否为收费模板，是则先付费\n        if (this.lists[index].clone_price !== '0.00') {\n          this.$router.replace('/pay?type=clone')\n        } else {\n          this.$router.push({\n            path: '/webPage/edit'\n          })\n        }\n      } catch (err) {\n        dialogService.alert(err.message)\n      }\n    },\n    // 开通会员操作\n    _openVip(msg) {\n      let _self = this\n      dialogService.confirm('开通会员才能克隆网页哦，是否去开通？', ok => {\n        if (ok) {\n          _self['system/updateBeVipPath']('/cloneRank')\n          _self.$router.push({\n            path: '/mine/vipCenter'\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n<style scoped lang='scss'>\n.tips {\n  font-size: 28px;\n  text-align: center;\n  margin-top: 40px;\n  padding-bottom: 20px;\n}\n@keyframes mymove {\n  0% {\n    width: 30%;\n  }\n  50% {\n    width: 70%;\n  }\n  100% {\n    width: 30%;\n  }\n}\n.animate {\n  animation: mymove 0.8s infinite;\n}\n.button {\n  font-size: 22px;\n  color: #fff;\n  width: 150px;\n  height: 50px;\n  line-height: 50px;\n  background: #274ff3;\n  border-radius: 25px;\n  text-align: center;\n  position: absolute;\n  bottom: 30px;\n  right: 30px;\n}\n.wraper {\n  background: #f6f6f6;\n}\n.marketing-item {\n  margin: auto;\n  width: 100%;\n  height: 220px;\n  padding: 30px;\n  overflow: hidden;\n  position: relative;\n  background: #fff;\n  border-bottom: 1px solid #eaeaea;\n  border-radius: 6px;\n  box-sizing: border-box;\n  .default {\n    position: absolute;\n    top: 20px;\n    left: 20px;\n    width: 92px;\n    height: 90px;\n  }\n}\n.marketing-item-poster {\n  float: left;\n  width: 290px;\n  height: 162px;\n  overflow: hidden;\n  margin-right: 28px;\n  border-radius: 6px;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center;\n}\n.marketing-item-info {\n  float: left;\n  width: 362px;\n  height: 160px;\n  overflow: hidden;\n}\n.marketing-item-title {\n  font-weight: 500;\n  font-style: italic;\n  height: 32px;\n  font-size: 32px;\n  color: #333;\n  overflow: hidden;\n  line-height: 32px;\n  margin-bottom: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-family: 'PingFang SC Medium';\n}\n.marketing-item-counter {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 26px;\n  color: #000;\n  overflow: hidden;\n  font-family: 'PingFang SC Medium';\n}\n.marketing-item-date {\n  margin-top: 16px;\n  font-size: 22px;\n  color: #999;\n}\n.marketing-item-operate {\n  margin-top: 12px;\n  height: 32px;\n  line-height: 29px;\n  img {\n    overflow: hidden;\n    margin-right: 10px;\n    width: 29px;\n    border-radius: 50%;\n    height: 29px;\n  }\n  span {\n    vertical-align: top;\n    font-size: 22px;\n    color: #666666;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 170px;\n    display: inline-block;\n  }\n}\n</style>\n"],"sourceRoot":"src/module/webPage/rank"}]}