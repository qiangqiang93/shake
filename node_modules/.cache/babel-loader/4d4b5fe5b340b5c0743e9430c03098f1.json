{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/components/DatePickers/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/components/DatePickers/index.vue","mtime":1546946999366},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      year_date: [],\n      // 年\n      month_date: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\n      // 月\n      day_date: null,\n      // 日\n      select: [],\n      // 选择的值\n      itemHeight: 72,\n      // 默认li的高度\n      timer: null,\n      isScroll: true,\n      endTime: '',\n      currentDate: new Date(),\n      // 当前日期\n      show: false,\n      // 隐藏显示选择框\n      defalutValue: '' // 默认显示的值\n\n    };\n  },\n  props: ['value', 'msg'],\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      var year = this.currentDate.getFullYear();\n      var m = this.currentDate.getMonth() + 1;\n      var d = this.currentDate.getDate();\n\n      if (this.value && this.value.length) {\n        year = Number(this.value[0]);\n        m = Number(this.value[1]);\n        d = Number(this.value[2]);\n      } else {\n        this.select[0] = year;\n        this.select[1] = m;\n        this.select[2] = d;\n      }\n\n      var lastYear = year + 50; // 最后日期为现在加50年\n\n      for (var i = 1900; i < lastYear; i++) {\n        // 年份初始化\n        this.year_date.push(i);\n      }\n\n      this.setDays(year, m);\n      this.$nextTick(function () {\n        _this.$refs.year_date.scrollTop = (year - 1900) * _this.itemHeight;\n        _this.$refs.month_date.scrollTop = (m - 1) * _this.itemHeight;\n        _this.$refs.day_date.scrollTop = (d - 1) * _this.itemHeight;\n      });\n    },\n    onInput: function onInput() {},\n    setDays: function setDays(y, m) {\n      // 设置天数\n      var day = 31;\n\n      switch (m) {\n        case 4:\n        case 6:\n        case 9:\n        case 11:\n          day = 30;\n          break;\n\n        case 2:\n          if (y % 4 == 0 && y % 100 != 0 || y % 400 == 0) {\n            day = 29;\n          } else {\n            day = 28;\n          }\n\n        default:\n          break;\n      }\n\n      this.day_date = day;\n    },\n    cancel: function cancel() {\n      this.show = false;\n    },\n    // 设置年\n    setYear: function setYear(index) {\n      var _this2 = this;\n\n      this.select[0] = this.year_date[index];\n\n      if (this.select[1] === 2) {\n        var n = this.day_date;\n        this.setDays(this.select[0], 2);\n\n        if (n > this.day_date && this.select[2] > this.day_date) {\n          this.$set(this.select, 2, 1);\n          this.$refs.day_date.scrollTo(0, 0);\n        }\n      }\n\n      setTimeout(function () {\n        _this2.isScroll = true;\n      }, 100);\n    },\n    // 设置月\n    setMonth: function setMonth(index) {\n      var _this3 = this;\n\n      this.$set(this.select, 1, this.month_date[index]);\n      var n = this.day_date;\n      this.setDays(this.select[0], index + 1);\n\n      if (n > this.day_date && this.select[2] > this.day_date) {\n        this.$set(this.select, 2, 1);\n        this.$refs.day_date.scrollTo(0, 0);\n      }\n\n      setTimeout(function () {\n        _this3.isScroll = true;\n      }, 100);\n    },\n    // 设置天\n    setDay: function setDay(index) {\n      var _this4 = this;\n\n      this.$set(this.select, 2, index + 1);\n      setTimeout(function () {\n        _this4.isScroll = true;\n      }, 100);\n    },\n    selectDate: function selectDate(e, index, type) {\n      this.isScroll = false;\n      this.smoothRolling(e.srcElement.parentElement.parentElement, 5, index, type);\n    },\n    // 平滑滚动\n\n    /**\n     *  parentSrcElement DOM元素 需要滑动操作的元素\n     *  limts <int> + 步长\n     *  index <number> 选择的地几个元素\n     *  type  <string> 选择的是省还是地区\n     */\n    smoothRolling: function smoothRolling(parentSrcElement, limts, index, type) {\n      var self = this;\n      var rollLimt = parentSrcElement.scrollTop - index * self.itemHeight; // 回滚的距离\n\n      var limt = rollLimt > 0 ? -limts : limts; // 步长为5\n\n      var time = setInterval(function () {\n        if (Math.abs(rollLimt) > Math.abs(limt)) {\n          parentSrcElement.scrollBy(0, limt);\n          rollLimt = rollLimt + limt;\n        } else {\n          parentSrcElement.scrollTo(0, index * self.itemHeight); // 让元素居中\n\n          if (type === 'year_date') {\n            self.setYear(index);\n          } else if (type === 'month_date') {\n            self.setMonth(index);\n          } else if (type === 'day_date') {\n            self.setDay(index);\n          }\n\n          clearInterval(time);\n        }\n      }, 5);\n    },\n    // 滚动事件\n    scrollFn: function scrollFn(e, type) {\n      var self = this;\n      clearTimeout(this.timer);\n\n      if (this.isScroll) {\n        // 判断是否是因为调整距离而发生的滚动，false正在调整距离，true 才执行\n        var num = Math.round(e.srcElement.scrollTop / this.itemHeight); // 滚动到第几个元素\n\n        this.timer = setTimeout(function () {\n          // 用setTimeout说明滚动停止了才执行下面的操作\n          self.isScroll = false;\n          self.smoothRolling(e.srcElement, 2, num, type);\n        }, 100);\n      }\n    },\n    confirm: function confirm() {\n      this.$emit('input', this.select);\n      this.defalutValue = this.select.join('-');\n      this.show = false;\n    }\n  },\n  watch: {\n    show: function show(newval, oldval) {\n      if (newval) {\n        this.init();\n      }\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- \n    @name   DatePickers\n    @desc   日期组件\n    @props\n            value    用于实现v-model 组件外只需要绑定v-model <Array> [1996,2,1] \n-->\n<template>\n  <div class=\"picker\">\n    <div @click=\"show=true\" class=\"info\">{{defalutValue||msg}}</div>\n    <div class=\"picker-mask\" @click=\"cancel\" v-if=\"show\"></div>\n    <div class=\"picker-container\" v-if=\"show\">\n      <div class=\" picker-choose\">\n        <span class=\"cancel\" @click=\"cancel\">取消</span>\n        <span class=\"confirm\" @click=\"confirm\">确定</span>\n      </div>\n      <div class=\"picker-wheel-wrapper\">\n        <!-- 上层遮盖 -->\n        <i class=\"border-top\"></i>\n        <!-- 下层遮盖 -->\n        <i class=\"border-bottom\"></i>\n        <!-- 内容区域 -->\n        <div @scroll=\"scrollFn($event,'year_date')\" class=\"scroll-div\" ref=\"year_date\">\n          <ul>\n            <li v-for=\"(item,index) in year_date\" :key=\"index\" @click.stop=\"selectDate($event,index,'year_date')\">{{item}}</li>\n          </ul>\n        </div>\n        <div @scroll=\"scrollFn($event,'month_date')\" class=\"scroll-div\" ref=\"month_date\">\n          <ul>\n            <li v-for=\"(item,index) in month_date\" :key=\"index\" @click.stop=\"selectDate($event,index,'month_date')\">{{item}}</li>\n          </ul>\n        </div>\n        <div @scroll=\"scrollFn($event,'day_date')\" class=\"scroll-div\" ref=\"day_date\">\n          <ul>\n            <li v-for=\"(item,index) in day_date\" :key=\"index\" @click.stop=\"selectDate($event,index,'day_date')\">{{item}}</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    data() {\n      return {\n        year_date: [], // 年\n        month_date: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], // 月\n        day_date: null, // 日\n        select: [], // 选择的值\n        itemHeight: 72, // 默认li的高度\n        timer: null,\n        isScroll: true,\n        endTime: '',\n        currentDate: new Date(), // 当前日期\n        show: false, // 隐藏显示选择框\n        defalutValue: '' // 默认显示的值\n      }\n    },\n    props: ['value', 'msg'],\n    methods: {\n      init() {\n        let year = this.currentDate.getFullYear()\n        let m = this.currentDate.getMonth() + 1\n        let d = this.currentDate.getDate()\n        if (this.value && this.value.length) {\n          year = Number(this.value[0])\n          m = Number(this.value[1])\n          d = Number(this.value[2])\n        } else {\n          this.select[0] = year\n          this.select[1] = m\n          this.select[2] = d\n        }\n\n        let lastYear = year + 50 // 最后日期为现在加50年\n        for (let i = 1900; i < lastYear; i++) {\n          // 年份初始化\n          this.year_date.push(i)\n        }\n        this.setDays(year, m)\n        this.$nextTick(() => {\n          this.$refs.year_date.scrollTop = (year - 1900) * this.itemHeight\n          this.$refs.month_date.scrollTop = (m - 1) * this.itemHeight\n          this.$refs.day_date.scrollTop = (d - 1) * this.itemHeight\n        })\n      },\n      onInput() {},\n      setDays(y, m) {\n        // 设置天数\n        let day = 31\n        switch (m) {\n          case 4:\n          case 6:\n          case 9:\n          case 11:\n            day = 30\n            break\n          case 2:\n            if ((y % 4 == 0 && y % 100 != 0) || y % 400 == 0) {\n              day = 29\n            } else {\n              day = 28\n            }\n          default:\n            break\n        }\n        this.day_date = day\n      },\n      cancel() {\n        this.show = false\n      },\n      // 设置年\n      setYear(index) {\n        this.select[0] = this.year_date[index]\n        if (this.select[1] === 2) {\n          let n = this.day_date\n          this.setDays(this.select[0], 2)\n          if (n > this.day_date && this.select[2] > this.day_date) {\n            this.$set(this.select, 2, 1)\n            this.$refs.day_date.scrollTo(0, 0)\n          }\n        }\n        setTimeout(() => {\n          this.isScroll = true\n        }, 100)\n      },\n      // 设置月\n      setMonth(index) {\n        this.$set(this.select, 1, this.month_date[index])\n        let n = this.day_date\n        this.setDays(this.select[0], index + 1)\n        if (n > this.day_date && this.select[2] > this.day_date) {\n          this.$set(this.select, 2, 1)\n          this.$refs.day_date.scrollTo(0, 0)\n        }\n        setTimeout(() => {\n          this.isScroll = true\n        }, 100)\n      },\n      // 设置天\n      setDay(index) {\n        this.$set(this.select, 2, index + 1)\n        setTimeout(() => {\n          this.isScroll = true\n        }, 100)\n      },\n      selectDate(e, index, type) {\n        this.isScroll = false\n        this.smoothRolling(\n          e.srcElement.parentElement.parentElement,\n          5,\n          index,\n          type\n        )\n      },\n      // 平滑滚动\n      /**\n       *  parentSrcElement DOM元素 需要滑动操作的元素\n       *  limts <int> + 步长\n       *  index <number> 选择的地几个元素\n       *  type  <string> 选择的是省还是地区\n       */\n      smoothRolling(parentSrcElement, limts, index, type) {\n        let self = this\n        let rollLimt = parentSrcElement.scrollTop - index * self.itemHeight // 回滚的距离\n        let limt = rollLimt > 0 ? -limts : limts // 步长为5\n        var time = setInterval(() => {\n          if (Math.abs(rollLimt) > Math.abs(limt)) {\n            parentSrcElement.scrollBy(0, limt)\n            rollLimt = rollLimt + limt\n          } else {\n            parentSrcElement.scrollTo(0, index * self.itemHeight) // 让元素居中\n            if (type === 'year_date') {\n              self.setYear(index)\n            } else if (type === 'month_date') {\n              self.setMonth(index)\n            } else if (type === 'day_date') {\n              self.setDay(index)\n            }\n            clearInterval(time)\n          }\n        }, 5)\n      },\n      // 滚动事件\n      scrollFn(e, type) {\n        let self = this\n        clearTimeout(this.timer)\n        if (this.isScroll) {\n          // 判断是否是因为调整距离而发生的滚动，false正在调整距离，true 才执行\n          let num = Math.round(e.srcElement.scrollTop / this.itemHeight) // 滚动到第几个元素\n          this.timer = setTimeout(() => {\n            // 用setTimeout说明滚动停止了才执行下面的操作\n            self.isScroll = false\n            self.smoothRolling(e.srcElement, 2, num, type)\n          }, 100)\n        }\n      },\n      confirm() {\n        this.$emit('input', this.select)\n        this.defalutValue = this.select.join('-')\n        this.show = false\n      }\n    },\n    watch: {\n      show(newval, oldval) {\n        if (newval) {\n          this.init()\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .picker {\n    width: inherit;\n    height: inherit;\n    display: flex;\n    align-items: center;\n\n    .info {\n      width: 100%;\n    }\n  }\n\n  .picker-mask {\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.3);\n    animation: mymove 0.3s;\n    z-index: 99;\n  }\n\n  @keyframes mymove {\n    from {\n      background: rgba(0, 0, 0, 0);\n    }\n\n    to {\n      background: rgba(0, 0, 0, 0.3);\n    }\n  }\n\n  @-webkit-keyframes mymove\n\n  /*Safari and Chrome*/\n    {\n    from {\n      background: rgba(0, 0, 0, 0);\n    }\n\n    to {\n      background: rgba(0, 0, 0, 0.3);\n    }\n  }\n\n  .picker-container {\n    position: fixed;\n    left: 0;\n    right: 0;\n    background: #fff;\n    bottom: 0;\n    height: 540px;\n    border-top: 2px solid #f2f2f2;\n    animation: moves 0.3s;\n    z-index: 100;\n\n    @keyframes moves {\n      from {\n        bottom: -540px;\n      }\n\n      to {\n        bottom: 0;\n      }\n    }\n\n    @-webkit-keyframes moves\n\n    /*Safari and Chrome*/\n      {\n      from {\n        bottom: -540px;\n      }\n\n      to {\n        bottom: 0;\n      }\n    }\n\n    .picker-choose {\n      height: 120px;\n      box-sizing: border-box;\n      padding: 0 40px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      font-size: 26px;\n      border-bottom: 2px solid #f2f2f2;\n\n      .cancel {\n        color: #999;\n      }\n\n      .confirm {\n        color: #4388e1;\n      }\n    }\n  }\n\n  .scroll-div {\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .picker-wheel-wrapper {\n    display: flex;\n    padding: 0 20px;\n    box-sizing: border-box;\n    align-items: center;\n    height: 420px;\n    overflow: hidden;\n    position: relative;\n\n    div {\n      flex: 1;\n      font-size: 26px;\n      text-align: center;\n      height: 340px;\n      overflow: auto;\n\n      &::-webkit-scrollbar {\n        display: none;\n      }\n\n      ul {\n        transform: translateY(134px);\n\n        >li {\n          height: 72px;\n          line-height: 72px;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 1;\n          overflow: hidden;\n          color: #000;\n\n          &:nth-last-of-type(1) {\n            padding-bottom: 134px;\n          }\n        }\n      }\n    }\n\n    i {\n      position: absolute;\n      z-index: 10;\n      left: 0;\n      width: 100%;\n      height: 172px;\n      pointer-events: none;\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n    }\n\n    .border-top {\n      top: 0;\n      background: linear-gradient(0deg,\n        hsla(0, 0%, 100%, 0.4),\n        hsla(0, 0%, 100%, 0.8));\n      border-bottom: 2px solid #ebebeb;\n    }\n\n    .border-bottom {\n      bottom: 0;\n      background: linear-gradient(180deg,\n        hsla(0, 0%, 100%, 0.4),\n        hsla(0, 0%, 100%, 0.8));\n      border-top: 2px solid #ebebeb;\n    }\n  }\n</style>"],"sourceRoot":"src/components/DatePickers"}]}