{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/common/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/common/index/index.vue","mtime":1547027040988},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nimport user from '../../../api/user';\nimport Loading from '../../../components/Loading';\nimport dialogService from '../../../service/dialogService';\nimport MarketingRank from '../../../components/MarketingRank';\nimport IndexIncomeItem from '../../../components/IndexIncomeItem';\nexport default {\n  name: 'appHome',\n  data: function data() {\n    return {\n      marketings: [],\n      // 营销榜单\n      incomeRank: [],\n      // 收入榜单\n      loadmarketing: true,\n      // 第一次加载营销榜单\n      loadIncomeRank: true // 第一次加载收入榜单\n\n    };\n  },\n  mounted: function mounted() {\n    // this.getUserInfo()\n    this.getIncomeRank();\n    this.getMarketingRank();\n  },\n  activated: function activated() {\n    this.getUserInfo();\n  },\n  methods: {\n    // 获取用户信息\n    getUserInfo: function () {\n      var _getUserInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return user.getProfile();\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                dialogService.alert(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }(),\n    // 获取营销榜单\n    getMarketingRank: function () {\n      var _getMarketingRank = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return user.getMarketingRank(5);\n\n              case 3:\n                res = _context2.sent;\n\n                if (!(res.status !== 0)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 6:\n                this.marketings = res.data.rank;\n                this.loadmarketing = false;\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                dialogService.alert(_context2.t0.message);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 10]]);\n      }));\n\n      function getMarketingRank() {\n        return _getMarketingRank.apply(this, arguments);\n      }\n\n      return getMarketingRank;\n    }(),\n    // 获取收入榜单\n    getIncomeRank: function () {\n      var _getIncomeRank = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return user.getIncomeRank(5);\n\n              case 3:\n                res = _context3.sent;\n\n                if (!(res.status !== 0)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 6:\n                this.incomeRank = res.data.data;\n                this.loadIncomeRank = false;\n                _context3.next = 13;\n                break;\n\n              case 10:\n                _context3.prev = 10;\n                _context3.t0 = _context3[\"catch\"](0);\n                dialogService.alert(_context3.t0.message);\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 10]]);\n      }));\n\n      function getIncomeRank() {\n        return _getIncomeRank.apply(this, arguments);\n      }\n\n      return getIncomeRank;\n    }()\n  },\n  components: {\n    Loading: Loading,\n    MarketingRank: MarketingRank,\n    IndexIncomeItem: IndexIncomeItem\n  },\n  computed: _objectSpread({}, mapState({\n    userInfo: function userInfo(state) {\n      return state.user.userInfo;\n    },\n    token: function token(state) {\n      return state.system.token;\n    }\n  })),\n  // 防止登录状态又返回登录板块\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    var nameArr = ['/login', '/forgetPwd', '/register', '/information'];\n    var go = true;\n\n    if (this.token) {\n      if (nameArr.indexOf(to.path) > -1) go = false;\n    }\n\n    go ? next() : next(false);\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-index\">\n    <div class=\"app-index-baner\">\n      <img class=\"index-baner-img\" src=\"./banner.png\" alt=\"\">\n    </div>\n    <!-- 主要功能 -->\n    <div class=\"app-index-features\">\n      <div class=\"recommend-features\">\n        <router-link to=\"/circle/index\" tag=\"div\" class=\"recommend-feature recommend-feature-1\">\n          <div class=\"recommend-feature-icon\">\n            <i class=\"iconfont icon-hutuiquantianchong\"></i>\n          </div>\n          <div class=\"recommend-feature-text\">\n            <p class=\"recommend-feature-title\">互推圈</p>\n            <p class=\"recommend-feature-desc\">提高曝光率</p>\n          </div>\n        </router-link>\n        <router-link to=\"/spread/index\" tag=\"div\" class=\"recommend-feature recommend-feature-2\">\n          <div class=\"recommend-feature-icon\">\n            <i class=\"iconfont icon-tuiguang2\"></i>\n          </div>\n          <div class=\"recommend-feature-text\">\n            <p class=\"recommend-feature-title\">全民推广</p>\n            <p class=\"recommend-feature-desc\">玩广告得脉宝</p>\n          </div>\n        </router-link>\n      </div>\n      <div class=\"main-features\">\n        <p class=\"main-features-title\">去制作</p>\n        <div class=\"main-features-box\">\n          <router-link tag=\"div\" :to=\"'/card/detail/' + userInfo.id\" class=\"main-feature\">\n            <i class=\"iconfont icon-mingpian21\"></i>\n            <span>名片</span>\n          </router-link>\n          <router-link tag=\"div\" to=\"/webPage/mine\" class=\"main-feature\">\n            <i class=\"iconfont icon-gerenweiwang\"></i>\n            <span>个人微网</span>\n          </router-link>\n          <router-link tag=\"div\" to=\"/marketing/index\" class=\"main-feature\">\n            <i class=\"iconfont icon-yingxiaowangye\"></i>\n            <span>营销网页</span>\n          </router-link>\n          <router-link tag=\"div\" to=\"/article/index\" class=\"main-feature\">\n            <i class=\"iconfont icon-mingpian\"></i>\n            <span>文库</span>\n          </router-link>\n        </div>\n      </div>\n    </div>\n    <!-- 营销榜单 -->\n    <div class=\"app-index-marketing\">\n      <div class=\"app-index-title\">\n        营销榜单\n        <router-link to=\"/other/marketingRank\" tag=\"span\" class=\"more\">更多<i class=\"iconfont icon-iconfontjiantou4\"></i></router-link>\n      </div>\n      <div class=\"index-marketing-wrapper\">\n        <Loading v-if=\"loadmarketing\" visible=\"true\"></Loading>\n        <MarketingRank v-for=\"(item, index) in marketings\" :key=\"index\" :item=\"item\" :rank=\"index\"></MarketingRank>\n      </div>\n    </div>\n    <!-- 收入榜单 -->\n    <div class=\"app-index-income\">\n      <div class=\"app-index-title\">\n        收入榜单\n        <router-link to=\"/other/incomeRank\" tag=\"span\" class=\"more\">更多<i class=\"iconfont icon-iconfontjiantou4\"></i></router-link>\n      </div>\n      <div class=\"index-income-wrapper\">\n        <Loading v-if=\"loadIncomeRank\" visible=\"true\"></Loading>\n        <div class=\"index-income-innerWrapper\">\n          <IndexIncomeItem v-for=\"(item, index) in incomeRank\" :key=\"index\" :item=\"item\" :rank=\"index\"></IndexIncomeItem>\n        </div>\n      </div>\n    </div>\n    <!-- 版权信息 -->\n    <div class=\"app-index-copyright\">\n      <p class=\"copyright-title\">汇脉宝</p>\n      <p class=\"copyright-desc\">共享流量·专注营销</p>\n      <a href=\"tel:023-67539176\" class=\"copyright-tel\">\n        <i class=\"iconfont icon-kefu\"></i>\n        联系我们\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {\n    mapState\n  } from 'vuex'\n  import user from '../../../api/user'\n  import Loading from '../../../components/Loading'\n  import dialogService from '../../../service/dialogService'\n  import MarketingRank from '../../../components/MarketingRank'\n  import IndexIncomeItem from '../../../components/IndexIncomeItem'\n  export default {\n    name: 'appHome',\n    data() {\n      return {\n        marketings: [], // 营销榜单\n        incomeRank: [], // 收入榜单\n        loadmarketing: true, // 第一次加载营销榜单\n        loadIncomeRank: true // 第一次加载收入榜单\n      }\n    },\n    mounted() {\n      // this.getUserInfo()\n      this.getIncomeRank()\n      this.getMarketingRank()\n    },\n    activated() {\n      this.getUserInfo()\n    },\n    methods: {\n      // 获取用户信息\n      async getUserInfo() {\n        try {\n          await user.getProfile()\n        } catch (err) {\n          dialogService.alert(err)\n        }\n      },\n      // 获取营销榜单\n      async getMarketingRank() {\n        try {\n          let res = await user.getMarketingRank(5)\n          if (res.status !== 0) throw new Error(res.message)\n          this.marketings = res.data.rank\n          this.loadmarketing = false\n        } catch (err) {\n          dialogService.alert(err.message)\n        }\n      },\n      // 获取收入榜单\n      async getIncomeRank() {\n        try {\n          let res = await user.getIncomeRank(5)\n          if (res.status !== 0) throw new Error(res.message)\n          this.incomeRank = res.data.data\n          this.loadIncomeRank = false\n        } catch (err) {\n          dialogService.alert(err.message)\n        }\n      }\n    },\n    components: {\n      Loading,\n      MarketingRank,\n      IndexIncomeItem\n    },\n    computed: {\n      ...mapState({\n        userInfo: state => state.user.userInfo,\n        token: state => state.system.token\n      })\n    },\n    // 防止登录状态又返回登录板块\n    beforeRouteLeave(to, from, next) {\n      let nameArr = ['/login', '/forgetPwd', '/register', '/information']\n      let go = true\n      if (this.token) {\n        if (nameArr.indexOf(to.path) > -1) go = false\n      }\n      go ? next() : next(false)\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .app-index {\n    overflow: hidden;\n    position: relative;\n    padding-bottom: 98px;\n    background: #ffffff;\n    box-sizing: border-box;\n  }\n\n  .app-index-baner {\n    width: 100%;\n    height: 330px;\n    overflow: hidden;\n  }\n\n  .index-baner-img {\n    width: 100%;\n    height: 100%;\n  }\n\n  .app-index-features {\n    padding: 30px;\n    overflow: hidden;\n    box-sizing: border-box;\n  }\n\n  .recommend-features {\n    width: 100%;\n    height: 160px;\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .recommend-feature {\n    width: 335px;\n    display: flex;\n    height: 160px;\n    padding: 30px;\n    overflow: hidden;\n    border-radius: 10px;\n    box-sizing: border-box;\n    background-size: cover;\n    background-position: center;\n    /* box-shadow: 0px 0px 20px 0px rgba(0, 0, 255, 0.1); */\n  }\n\n  .recommend-feature-icon {\n    width: 80px;\n    height: 80px;\n    color: #fff;\n    display: flex;\n    font-size: 40px;\n    overflow: hidden;\n    align-items: center;\n    border-radius: 40px;\n    justify-content: center;\n\n    .icon-hutuiquantianchong,\n    .icon-tuiguang2 {\n      font-size: 40px;\n    }\n  }\n\n  .recommend-feature-1 {\n    background-image: url('./recommend-feature-1.png');\n\n    .recommend-feature-icon {\n      background: #3887fd;\n    }\n  }\n\n  .recommend-feature-2 {\n    background-image: url('./recommend-feature-2.png');\n\n    .recommend-feature-icon {\n      background: #fd7e38;\n    }\n  }\n\n  .recommend-feature-text {\n    height: 80px;\n    display: flex;\n    flex-direction: column;\n    box-sizing: border-box;\n    padding: 7px 0 8px 30px;\n    justify-content: space-between;\n    font-family: 'PingFang SC Medium';\n  }\n\n  .recommend-feature-title {\n    color: #000;\n    font-size: 28px;\n    line-height: 28px;\n  }\n\n  .recommend-feature-desc {\n    font-size: 22px;\n    color: #666666;\n    line-height: 22px;\n  }\n\n  .main-features {\n    width: 100%;\n    overflow: hidden;\n    margin-top: 50px;\n  }\n\n  .main-features-title {\n    width: 100%;\n    height: 26px;\n    font-size: 26px;\n    color: #666666;\n    line-height: 26px;\n    position: relative;\n    text-align: center;\n    font-family: 'PingFang SC Medium';\n\n    &::before {\n      top: 13px;\n      height: 1px;\n      content: '';\n      left: 158px;\n      width: 108px;\n      position: absolute;\n      background: #d2d2d2;\n    }\n\n    &::after {\n      top: 13px;\n      height: 1px;\n      content: '';\n      right: 158px;\n      width: 108px;\n      position: absolute;\n      background: #d2d2d2;\n    }\n  }\n\n  .main-features-box {\n    height: 85px;\n    display: flex;\n    overflow: hidden;\n    margin-top: 50px;\n    justify-content: space-around;\n  }\n\n  .main-feature {\n    display: flex;\n    font-size: 22px;\n    color: #333333;\n    align-items: center;\n    flex-direction: column;\n    justify-content: space-between;\n    font-family: 'PingFang SC Medium';\n\n    .iconfont {\n      font-size: 42px;\n      color: #555555;\n    }\n  }\n\n  .app-index-marketing {\n    overflow: hidden;\n  }\n\n  .index-marketing-wrapper {\n    height: 875px;\n    overflow: hidden;\n    position: relative;\n  }\n\n  .index-income-wrapper {\n    height: 390px;\n    padding: 0 30px;\n    overflow-x: auto;\n    position: relative;\n    overflow-y: visible;\n    box-sizing: border-box;\n  }\n\n  .index-income-innerWrapper {\n    width: 1470px;\n    display: flex;\n    padding: 10px 30px 10px 0;\n    justify-content: space-between;\n  }\n\n  .app-index-income {\n    height: 560px;\n    overflow: hidden;\n  }\n\n  .app-index-title {\n    width: 100%;\n    height: 80px;\n    display: flex;\n    padding: 0 30px;\n    font-size: 30px;\n    color: #000000;\n    line-height: 80px;\n    box-sizing: border-box;\n    justify-content: space-between;\n    font-family: 'PingFang SC Bold';\n\n    .more {\n      color: #666;\n      display: flex;\n      font-size: 24px;\n      align-items: center;\n      font-family: 'PingFang SC Medium';\n    }\n\n    .icon-iconfontjiantou4 {\n      font-size: 20px;\n    }\n  }\n\n  .app-index-copyright {\n    width: 100%;\n    height: 240px;\n    overflow: hidden;\n    text-align: center;\n    background: #f6f6f6;\n    font-family: 'PingFang SC Medium';\n\n    .copyright-title {\n      font-size: 34px;\n      color: #101010;\n      margin-top: 50px;\n      line-height: 34px;\n    }\n\n    .copyright-desc {\n      font-size: 20px;\n      color: #101010;\n      margin-top: 18px;\n      line-height: 20px;\n    }\n\n    .copyright-tel {\n      width: 175px;\n      height: 38px;\n      display: block;\n      font-size: 18px;\n      color: #101010;\n      overflow: hidden;\n      line-height: 38px;\n      text-align: center;\n      margin: 25px auto 0;\n      border-radius: 19px;\n      box-sizing: border-box;\n      border: 1px solid #8e8e93;\n    }\n  }\n</style>"],"sourceRoot":"src/module/common/index"}]}