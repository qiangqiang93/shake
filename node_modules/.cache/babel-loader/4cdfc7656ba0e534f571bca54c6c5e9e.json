{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/thread-loader/dist/cjs.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/setting/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/setting/index/index.vue","mtime":1548230663232},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport List from '../../../components/List';\nimport ListItem from '../../../components/ListItem';\nimport { mapState, mapActions } from 'vuex';\nimport dialogService from '@/service/dialogService';\nimport AppHeader from '../../../components/AppHeader';\nimport Wrapper from '../../../components/Wrapper';\nexport default {\n  name: 'settingIndex',\n  components: {\n    List: List,\n    ListItem: ListItem,\n    AppHeader: AppHeader,\n    Wrapper: Wrapper\n  },\n  methods: _objectSpread({}, mapActions(['system/setToken', 'system/updateRouter', 'articles/clearArticlesAll', 'user/clearAll']), {\n    hasPayPwd: function hasPayPwd() {\n      var _this = this;\n\n      if (!this.user.payment_pwd) {\n        dialogService.confirm('您还没有设置支付密码,马上去设置？', function (status) {\n          if (status) {\n            _this.$router.push('/setting/payManage/step1');\n          }\n        });\n      } else {\n        this.$router.push('/setting/payManage');\n      }\n    },\n    // 退出登录\n    exit: function exit() {\n      this['system/setToken'](null);\n      this['articles/clearArticlesAll']();\n      this['user/clearAll']();\n      this['system/updateRouter']({\n        type: 'delAll',\n        data: []\n      });\n      this.$router.push('/login');\n    }\n  }),\n  computed: _objectSpread({}, mapState({\n    user: function user(state) {\n      return state.user.userInfo;\n    },\n    platform: function platform(state) {\n      return state.system.platform;\n    }\n  }), {\n    paddingTop: function paddingTop() {\n      return this.platform === 'wechat' ? '0px' : '90px';\n    }\n  }),\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    var arrName = ['/setting/accountManage', '/setting/payManage', '/setting/protocol', '/setting/about', '/mine/index', '/login', '/setting/payManage/step1'];\n\n    if (arrName.indexOf(to.path) === -1) {\n      next('/mine/index');\n    }\n\n    next();\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,IAAA,MAAA,0BAAA;AACA,OAAA,QAAA,MAAA,8BAAA;AACA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,aAAA,MAAA,yBAAA;AACA,OAAA,SAAA,MAAA,+BAAA;AACA,OAAA,OAAA,MAAA,6BAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,SAAA,EAAA,SAHA;AAIA,IAAA,OAAA,EAAA;AAJA,GAFA;AAQA,EAAA,OAAA,oBACA,UAAA,CAAA,CACA,iBADA,EAEA,qBAFA,EAGA,2BAHA,EAIA,eAJA,CAAA,CADA;AAOA,IAAA,SAPA,uBAOA;AAAA;;AACA,UAAA,CAAA,KAAA,IAAA,CAAA,WAAA,EAAA;AACA,QAAA,aAAA,CAAA,OAAA,CAAA,mBAAA,EAAA,UAAA,MAAA,EAAA;AACA,cAAA,MAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,0BAAA;AACA;AACA,SAJA;AAKA,OANA,MAMA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,oBAAA;AACA;AACA,KAjBA;AAkBA;AACA,IAAA,IAnBA,kBAmBA;AACA,WAAA,iBAAA,EAAA,IAAA;AACA,WAAA,2BAAA;AACA,WAAA,eAAA;AACA,WAAA,qBAAA,EAAA;AACA,QAAA,IAAA,EAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AA5BA,IARA;AAsCA,EAAA,QAAA,oBACA,QAAA,CAAA;AACA,IAAA,IAAA,EAAA,cAAA,KAAA;AAAA,aAAA,KAAA,CAAA,IAAA,CAAA,QAAA;AAAA,KADA;AAEA,IAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,MAAA,CAAA,QAAA;AAAA;AAFA,GAAA,CADA;AAKA,IAAA,UAAA,EAAA,sBAAA;AACA,aAAA,KAAA,QAAA,KAAA,QAAA,GAAA,KAAA,GAAA,MAAA;AACA;AAPA,IAtCA;AA+CA,EAAA,gBA/CA,4BA+CA,EA/CA,EA+CA,IA/CA,EA+CA,IA/CA,EA+CA;AACA,QAAA,OAAA,GAAA,CACA,wBADA,EAEA,oBAFA,EAGA,mBAHA,EAIA,gBAJA,EAKA,aALA,EAMA,QANA,EAOA,0BAPA,CAAA;;AASA,QAAA,OAAA,CAAA,OAAA,CAAA,EAAA,CAAA,IAAA,MAAA,CAAA,CAAA,EAAA;AACA,MAAA,IAAA,CAAA,aAAA,CAAA;AACA;;AACA,IAAA,IAAA;AACA;AA7DA,CAAA","sourcesContent":["<template>\n  <Wrapper class=\"set-up\" :paddingTop=\"paddingTop\">\n   <AppHeader title=\"设置\" ref=\"header\" ></AppHeader>\n    <List>\n      <ListItem label=\"账号管理\" arrow=\"true\" link=\"/setting/accountManage\">\n      </ListItem>\n    </List>\n    <List>\n      <ListItem label=\"支付管理\" arrow=\"true\" @click.native=\"hasPayPwd\">\n      </ListItem>\n    </List>\n    <List>\n      <ListItem label=\"用户协议\" arrow=\"true\" link=\"/setting/protocol\">\n      </ListItem>\n      <ListItem label=\"联系我们\" arrow=\"true\" link=\"/setting/about\">\n      </ListItem>\n      <ListItem label=\"关于汇脉宝\">\n        <div>版本1.0</div>\n      </ListItem>\n    </List>\n    <List>\n      <ListItem class=\"exitBtn\" label=\"退出登录\" @click.native=\"exit\">\n      </ListItem>\n    </List>\n    <!-- <div class=\"btn\" @click=\"exit\">退出登录</div> -->\n  </Wrapper>\n</template>\n\n<script>\nimport List from '../../../components/List'\nimport ListItem from '../../../components/ListItem'\nimport { mapState, mapActions } from 'vuex'\nimport dialogService from '@/service/dialogService'\nimport AppHeader from '../../../components/AppHeader'\nimport Wrapper from '../../../components/Wrapper'\n\n\nexport default {\n  name: 'settingIndex',\n  components: {\n    List,\n    ListItem,\n    AppHeader,\n    Wrapper\n  },\n  methods: {\n    ...mapActions([\n      'system/setToken',\n      'system/updateRouter',\n      'articles/clearArticlesAll',\n      'user/clearAll'\n    ]),\n    hasPayPwd() {\n      if (!this.user.payment_pwd) {\n        dialogService.confirm('您还没有设置支付密码,马上去设置？', status => {\n          if (status) {\n            this.$router.push('/setting/payManage/step1')\n          }\n        })\n      } else {\n        this.$router.push('/setting/payManage')\n      }\n    },\n    // 退出登录\n    exit() {\n      this['system/setToken'](null)\n      this['articles/clearArticlesAll']()\n      this['user/clearAll']()\n      this['system/updateRouter']({\n        type: 'delAll',\n        data: []\n      })\n      this.$router.push('/login')\n    }\n  },\n  computed: {\n    ...mapState({\n      user: state => state.user.userInfo,\n      platform: state => state.system.platform,\n    }),\n    paddingTop: function() {\n      return this.platform === 'wechat' ? '0px' : '90px'\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    let arrName = [\n      '/setting/accountManage',\n      '/setting/payManage',\n      '/setting/protocol',\n      '/setting/about',\n      '/mine/index',\n      '/login',\n      '/setting/payManage/step1'\n    ]\n    if (arrName.indexOf(to.path) === -1) {\n      next('/mine/index')\n    }\n    next()\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.set-up {\n  height: 100vh;\n  background: #f6f6f6;\n  overflow: hidden;\n  .exitBtn {\n    text-align: center;\n    color: #da0202;\n  }\n  .btn {\n    position: relative;\n    width: 690px;\n    height: 88px;\n    line-height: 88px;\n    background-color: #e92121;\n    border-radius: 10px;\n    font-size: 32px;\n    color: #fff;\n    text-align: center;\n    margin: 40px auto 0;\n  }\n}\n</style>"],"sourceRoot":"src/module/setting/index"}]}