{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiang/work/hytx/hytx-rebuild/src/api/marketing/index.js","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/api/marketing/index.js","mtime":1547259638720},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport store from '../../store';\nimport httpService from '../../service/httpService';\nexport default {\n  // 获取营销网页列表\n  getMarketings: function () {\n    var _getMarketings = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var page,\n          res,\n          _args = arguments;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _args.length > 0 && _args[0] !== undefined ? _args[0] : 1;\n              _context.next = 3;\n              return httpService.get('/front/user-marketing', {\n                page: page\n              });\n\n            case 3:\n              res = _context.sent;\n\n              if (res.status === 0) {\n                if (page === 1) {\n                  store.commit('marketing/marketings', {\n                    type: 'init',\n                    data: res.data.data\n                  });\n                } else {\n                  store.commit('marketing/marketings', {\n                    type: 'concat',\n                    data: res.data.data\n                  });\n                }\n              }\n\n              return _context.abrupt(\"return\", res);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function getMarketings() {\n      return _getMarketings.apply(this, arguments);\n    }\n\n    return getMarketings;\n  }(),\n  // 创建营销网页\n  createMarketing: function () {\n    var _createMarketing = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2(marketing) {\n      var res;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return httpService.post('/front/user-marketing', marketing);\n\n            case 2:\n              res = _context2.sent;\n              return _context2.abrupt(\"return\", res);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function createMarketing(_x) {\n      return _createMarketing.apply(this, arguments);\n    }\n\n    return createMarketing;\n  }(),\n  // 编辑营销网页\n  editMarketing: function () {\n    var _editMarketing = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee3(id, marketing) {\n      var res;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return httpService.put(\"/front/user-marketing/\".concat(id), marketing);\n\n            case 2:\n              res = _context3.sent;\n              return _context3.abrupt(\"return\", res);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function editMarketing(_x2, _x3) {\n      return _editMarketing.apply(this, arguments);\n    }\n\n    return editMarketing;\n  }(),\n  // 删除营销网页\n  deleteMarketing: function () {\n    var _deleteMarketing = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee4(id) {\n      var res;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return httpService.delete(\"/front/user-marketing/\".concat(id));\n\n            case 2:\n              res = _context4.sent;\n              return _context4.abrupt(\"return\", res);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function deleteMarketing(_x4) {\n      return _deleteMarketing.apply(this, arguments);\n    }\n\n    return deleteMarketing;\n  }(),\n  // 获取营销网页详情\n  getMarketingDetail: function () {\n    var _getMarketingDetail = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee5(id) {\n      var res;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return httpService.get(\"/front/user-marketing/\".concat(id));\n\n            case 2:\n              res = _context5.sent;\n\n              if (res.status === 0 && !store.state.user.userInfo) {\n                store.commit('system/updateGuider', res.data.user_id);\n              }\n\n              return _context5.abrupt(\"return\", res);\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function getMarketingDetail(_x5) {\n      return _getMarketingDetail.apply(this, arguments);\n    }\n\n    return getMarketingDetail;\n  }(),\n  // 根据用户id获取营销网页列表\n  getMarketingsByUserId: function () {\n    var _getMarketingsByUserId = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee6(userId, page) {\n      var res;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return httpService.get('/front/marketing/byuserid', {\n                page: page,\n                limit: 10,\n                user_id: userId\n              });\n\n            case 2:\n              res = _context6.sent;\n              return _context6.abrupt(\"return\", res);\n\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    }));\n\n    function getMarketingsByUserId(_x6, _x7) {\n      return _getMarketingsByUserId.apply(this, arguments);\n    }\n\n    return getMarketingsByUserId;\n  }()\n};",{"version":3,"sources":["/Users/qiang/work/hytx/hytx-rebuild/src/api/marketing/index.js"],"names":["store","httpService","getMarketings","page","get","res","status","commit","type","data","createMarketing","marketing","post","editMarketing","id","put","deleteMarketing","delete","getMarketingDetail","state","user","userInfo","user_id","getMarketingsByUserId","userId","limit"],"mappings":"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","sourcesContent":["import store from '../../store'\nimport httpService from '../../service/httpService'\n\nexport default {\n  // 获取营销网页列表\n  async getMarketings(page = 1) {\n    let res = await httpService.get('/front/user-marketing', { page })\n    if (res.status === 0) {\n      if (page === 1) {\n        store.commit('marketing/marketings', {\n          type: 'init',\n          data: res.data.data\n        })\n      } else {\n        store.commit('marketing/marketings', {\n          type: 'concat',\n          data: res.data.data\n        })\n      }\n    }\n    return res\n  },\n  // 创建营销网页\n  async createMarketing(marketing) {\n    let res = await httpService.post('/front/user-marketing', marketing)\n    return res\n  },\n  // 编辑营销网页\n  async editMarketing(id, marketing) {\n    let res = await httpService.put(`/front/user-marketing/${id}`, marketing)\n    return res\n  },\n  // 删除营销网页\n  async deleteMarketing(id) {\n    let res = await httpService.delete(`/front/user-marketing/${id}`)\n    return res\n  },\n  // 获取营销网页详情\n  async getMarketingDetail(id) {\n    let res = await httpService.get(`/front/user-marketing/${id}`)\n    if (res.status === 0 && !store.state.user.userInfo) {\n      store.commit('system/updateGuider', res.data.user_id)\n    }\n    return res\n  },\n  // 根据用户id获取营销网页列表\n  async getMarketingsByUserId(userId, page) {\n    let res = await httpService.get('/front/marketing/byuserid', {\n      page,\n      limit: 10,\n      user_id: userId\n    })\n    return res\n  }\n}\n"]}]}