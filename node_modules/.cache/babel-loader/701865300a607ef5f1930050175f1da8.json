{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/components/ComponentHandler/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/components/ComponentHandler/index.vue","mtime":1547631544035},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.string.link\";\nimport _objectSpread from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapActions } from 'vuex';\nimport httpService from '@/service/httpService';\nimport VideoItem from '@/components/VideoItem';\nimport state from '../../store/modules/user/state';\nexport default {\n  props: ['type', 'item', 'indexa', 'url'],\n  data: function data() {\n    return {\n      bgstate: true,\n      // 背景选择\n      ratio: {},\n      // 单前所选比例\n      show: false,\n      // 上滑动画状态\n      toggles: [],\n      // 可切换的组件\n      category: {},\n      // 当前所选分类\n      itemCopy: {},\n      // 传入组件的副本\n      components: [],\n      // 单前显示的组件\n      marketPages: [],\n      // 营销网页列表\n      filterStyle: {},\n      // 过滤条件的高度\n      stype: '',\n      // 所选类型\n      url2: '',\n      // 背景类型1\n      url3: '',\n      // 背景类型2\n      filters: [// 比例筛选\n      {\n        text: '1:1',\n        val: '1.00',\n        className: 'iconfont icon-bi4'\n      }, {\n        text: '2:3',\n        val: '0.66',\n        className: 'iconfont icon-bi'\n      }, {\n        text: '3:2',\n        val: '1.50',\n        className: 'iconfont icon-bi3'\n      }, {\n        text: '4:3',\n        val: '1.33',\n        className: 'iconfont icon-bi5'\n      }, {\n        text: '3:4',\n        val: '0.75',\n        className: 'iconfont icon-bi1'\n      }, {\n        text: '9:16',\n        val: '0.56',\n        className: 'iconfont icon-bi6'\n      }, {\n        text: '16:9',\n        val: '1.77',\n        className: 'iconfont icon-bi2'\n      }],\n      colorarr: ['#e3ffe1', '#ffd2f1', '#dfffff', '#fffbee', '#fff3f3', '#ffffff', '#c5ffc9', '#efd2ff', '#b8f1ff', '#ffeedf', '#ffdfdf', '#808080', '#93d1ad', '#d7ccec', '#a5faff', '#eccfaf', '#ffc7c7', '#484848'],\n      videoNav: ['发布视频', '管理视频'],\n      //视频管理\n      videoList: [],\n      // 视频列表\n      videoIndex: 0,\n      // 导航索引\n      mediaList: [{\n        src: '/static/tx.png',\n        text: '腾讯视频',\n        link: 'https://v.qq.com'\n      }, {\n        src: '/static/yk.png',\n        text: '优酷视频',\n        link: 'https://www.youku.com'\n      }, {\n        src: '/static/aqy.png',\n        text: '爱奇艺',\n        link: 'http://m.iqiyi.com'\n      }, {\n        src: '/static/sh.png',\n        text: '搜狐视频',\n        link: 'https://m.tv.sohu.com/'\n      }],\n      //视频列表\n      text: '',\n      showStepTwo: false,\n      // 是否是第2步\n      videoInfo: {\n        // 视频信息\n        des: '',\n        img: '',\n        swf: '',\n        title: ''\n      },\n      searchName: '',\n      // 按名字搜索\n      piclist: [],\n      page: 1,\n      // 默认第一页\n      maxPage: 1,\n      //默认最大页面\n      msg: '加载更多',\n      bgcolor: ''\n    };\n  },\n  mounted: function mounted() {\n    this.bgcolor = this.url; // this.init()\n  },\n  methods: _objectSpread({}, mapActions(['webPage/updateSelectShow', 'webPage/updateComponentCate', 'webPage/updateCardInfo', 'webPage/updateTempDatas', 'webPage/updateEditVideo', 'webPage/updateVideoIndex']), {\n    selectColor: function selectColor(x) {\n      this.bgcolor = x;\n      this.bgstate = false;\n      this.submit('bgpic');\n    },\n    selecPic: function selecPic(x) {\n      this.bgstate = true;\n      this.url2 = \"url(' \" + x + \" ') no-repeat fixed center / 100% 100%\";\n      this.url3 = x;\n      this.submit('bgpic');\n    },\n    Jump: function Jump(item) {\n      this['webPage/updateEditVideo'](true);\n      this['webPage/updateTempDatas'](this.$parent.$parent.datas);\n      this['webPage/updateVideoIndex'](this.indexa);\n      this.closeSelect(); // 必须关闭，不然就弹窗不出来\n\n      window.location.href = item.link;\n    },\n    // 加载更多\n    more: function more() {\n      this.page++;\n\n      if (this.page <= this.maxPage) {\n        this.listMovie();\n      }\n    },\n    // 切换tab\n    tabIndex: function () {\n      var _tabIndex = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(index) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.videoIndex = index;\n\n                if (this.videoIndex == 1) {\n                  this.searchName = '';\n                  this.page = 1;\n                  this.videoList = [];\n                  this.listMovie();\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function tabIndex(_x) {\n        return _tabIndex.apply(this, arguments);\n      }\n\n      return tabIndex;\n    }(),\n    // 获取视频样式\n    listMovie: function () {\n      var _listMovie = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.msg = '加载中';\n                _context2.prev = 1;\n                _context2.next = 4;\n                return httpService({\n                  url: '/front/list-movie',\n                  loading: false,\n                  params: {\n                    page: this.page\n                  }\n                });\n\n              case 4:\n                res = _context2.sent;\n\n                if (!(res.status !== 0)) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 7:\n                this.page = res.data.current_page;\n                this.maxPage = res.data.last_page;\n\n                if (this.page < this.maxPage) {\n                  this.msg = '加载更多';\n                } else {\n                  this.msg = '没有更多';\n                }\n\n                this.videoList = this.page === 1 ? res.data.data : this.videoList.concat(res.data.data);\n                _context2.next = 16;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](1);\n                alert(_context2.t0.message);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 13]]);\n      }));\n\n      function listMovie() {\n        return _listMovie.apply(this, arguments);\n      }\n\n      return listMovie;\n    }(),\n    // 搜索视频\n    search: function () {\n      var _search = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(val) {\n        var res;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return httpService({\n                  url: '/front/search-movie',\n                  method: 'get',\n                  params: {\n                    search: this.searchName\n                  },\n                  loading: false\n                });\n\n              case 3:\n                res = _context3.sent;\n\n                if (!(res.status !== 0)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 6:\n                this.videoList = res.data.data;\n                _context3.next = 12;\n                break;\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](0);\n                alert(_context3.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 9]]);\n      }));\n\n      function search(_x2) {\n        return _search.apply(this, arguments);\n      }\n\n      return search;\n    }(),\n    // getbglist(x) {\n    //   if (x === 'pic') {\n    //     this.bgstate = true\n    //     this.$refs.bgline.style.left = 25 + '%'\n    //   } else {\n    //     this.bgstate = false\n    //     this.$refs.bgline.style.left = 75 + '%'\n    //   }\n    // },\n    // 阻止冒泡\n    doNothing: function doNothing() {// nothing\n    },\n    // 下一步\n    next: function () {\n      var _next = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return httpService({\n                  url: '/front/get-movie',\n                  body: {\n                    url: this.text\n                  },\n                  method: 'post',\n                  loading: false\n                });\n\n              case 3:\n                res = _context4.sent;\n\n                if (!(res.status !== 0 || !res.data)) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                this.text = '';\n                throw new Error('视频获取失败');\n\n              case 7:\n                this.showStepTwo = true;\n                this.videoInfo = res.data; // this.item.video.img.src = res.data.img\n\n                _context4.next = 14;\n                break;\n\n              case 11:\n                _context4.prev = 11;\n                _context4.t0 = _context4[\"catch\"](0);\n                alert(_context4.t0.message);\n\n              case 14:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 11]]);\n      }));\n\n      function next() {\n        return _next.apply(this, arguments);\n      }\n\n      return next;\n    }(),\n    // init\n    init: function () {\n      var _init = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var params, _self;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n\n                // this.$refs.wrapper.style.marginTop = 3.33333 + 'rem'\n                if (this.type === 'video') {\n                  this.$refs.wrapper.style.marginTop = '90px';\n                }\n\n                if (!(this.type === 'layout')) {\n                  _context5.next = 9;\n                  break;\n                }\n\n                this.itemCopy = JSON.parse(JSON.stringify(this.item));\n                params = {\n                  ratio: this.itemCopy.ratio,\n                  cate_id: this.itemCopy.cate,\n                  type: this.itemCopy.layoutType\n                };\n                _context5.next = 7;\n                return this.getComponents(params);\n\n              case 7:\n                _context5.next = 22;\n                break;\n\n              case 9:\n                if (!(this.type === 'superLink')) {\n                  _context5.next = 14;\n                  break;\n                }\n\n                this.getMarketPages();\n                this.itemCopy = JSON.parse(JSON.stringify(this.item));\n                _context5.next = 22;\n                break;\n\n              case 14:\n                if (!(this.type === 'bgcolor')) {\n                  _context5.next = 19;\n                  break;\n                }\n\n                _self = this; // setTimeout(() => {\n                //   _self.url2 = _self.url\n                //   _self.$refs.wrapper.style.marginTop =\n                //     window.innerHeight -\n                //     _self.$refs.bgtop.clientHeight -\n                //     _self.$refs.bgbottom.clientHeight +\n                //     'px'\n                // })\n                // this.$refs.wrapper.style.marginTop = 100 + 'px'\n\n                if (this.piclist.length === 0) {\n                  this.getpiclist();\n                }\n\n                _context5.next = 22;\n                break;\n\n              case 19:\n                this.itemCopy = null;\n                _context5.next = 22;\n                return this.getComponentCate();\n\n              case 22:\n                _context5.next = 27;\n                break;\n\n              case 24:\n                _context5.prev = 24;\n                _context5.t0 = _context5[\"catch\"](0);\n                alert(_context5.t0.message);\n\n              case 27:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 24]]);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }(),\n    // 获取背景图片\n    getpiclist: function () {\n      var _getpiclist = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return httpService.get('/front/personal_page/customs/background');\n\n              case 2:\n                res = _context6.sent;\n                this.piclist = res.data;\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getpiclist() {\n        return _getpiclist.apply(this, arguments);\n      }\n\n      return getpiclist;\n    }(),\n    // 获取组件分类[如果有组件分类则直接获取]\n    getComponentCate: function () {\n      var _getComponentCate = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this.componentCate.length) {\n                  _context7.next = 3;\n                  break;\n                }\n\n                if (!this.category.id) this.selectCate(0);\n                return _context7.abrupt(\"return\", false);\n\n              case 3:\n                _context7.next = 5;\n                return httpService.get('/front/personal_page/custom/categories');\n\n              case 5:\n                res = _context7.sent;\n                this['webPage/updateComponentCate'](res.data);\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getComponentCate() {\n        return _getComponentCate.apply(this, arguments);\n      }\n\n      return getComponentCate;\n    }(),\n    // 选择一个分类\n    selectCate: function selectCate(index) {\n      this.category = this.componentCate[index];\n\n      if (this.category.type === 'imgText' || this.category.type === 'pics') {\n        this.filterStyle = {\n          height: '256px'\n        };\n      } else {\n        this.ratio = {};\n        this.hideFilter();\n      }\n\n      this.stype = this.componentCate[index].type;\n      if (this.componentCate[index].active && this.components.length) return;\n      var componentCate = this.componentCate.map(function (it, i) {\n        var obj = Object.assign({}, it);\n        obj.active = i === index;\n        return obj;\n      });\n      this['webPage/updateComponentCate'](componentCate);\n\n      if (this.category.type === 'bgColor') {\n        if (this.piclist.length === 0) {\n          this.getpiclist();\n        }\n\n        return;\n      } else {\n        this.getComponents();\n      }\n    },\n    // 筛选图片比例|筛选图片排列方式\n    selectPattern: function selectPattern(type, index) {\n      if (type === 'imgText' || type === 'pics') {\n        this.ratio = this.filters[index];\n      }\n\n      this.getComponents();\n    },\n    // 获取当前组件分类下的组件[需要检查他们是否具有筛选项]\n    getComponents: function () {\n      var _getComponents = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8(input) {\n        var Params, params, res;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n                Params = {\n                  ratio: this.ratio.val,\n                  cate_id: this.category.id\n                };\n                params = input || Params;\n                _context8.next = 5;\n                return httpService({\n                  url: '/front/personal_page/custom/components',\n                  params: params\n                });\n\n              case 5:\n                res = _context8.sent;\n                input ? this.toggles = res.data : this.components = res.data;\n                _context8.next = 12;\n                break;\n\n              case 9:\n                _context8.prev = 9;\n                _context8.t0 = _context8[\"catch\"](0);\n                alert(_context8.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[0, 9]]);\n      }));\n\n      function getComponents(_x3) {\n        return _getComponents.apply(this, arguments);\n      }\n\n      return getComponents;\n    }(),\n    // 获取营销网页列表\n    getMarketPages: function () {\n      var _getMarketPages = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (this.marketPages.length) {\n                  _context9.next = 5;\n                  break;\n                }\n\n                _context9.next = 3;\n                return httpService.get('/front/user-marketing');\n\n              case 3:\n                res = _context9.sent;\n                this.marketPages = res.data.data;\n\n              case 5:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getMarketPages() {\n        return _getMarketPages.apply(this, arguments);\n      }\n\n      return getMarketPages;\n    }(),\n    // 选择一个营销网页\n    selectMarketPage: function selectMarketPage(index) {\n      this.marketPages = this.marketPages.map(function (item, _index) {\n        if (index === _index) {\n          item.selected = !item.selected;\n        } else {\n          item.selected = false;\n        }\n\n        return item;\n      });\n    },\n    // 选择当前组件\n    selectThis: function () {\n      var _selectThis = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee10(type, item) {\n        var _this = this;\n\n        var _makeComponnet, component, _component;\n\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                // 构建一个理想组件[添加和转化组件布局]\n                _makeComponnet = function _makeComponnet(x) {\n                  var component = JSON.parse(item.content);\n                  component.id = item.id;\n                  component.cate = item.cate;\n                  component.price = item.price;\n                  component.ratio = item.ratio;\n                  component.hasVip = item.has_vip;\n                  component.layoutType = item.type;\n\n                  if (x) {}\n\n                  return component;\n                };\n\n                if (!(type === 'add')) {\n                  _context10.next = 11;\n                  break;\n                }\n\n                setTimeout(function () {\n                  _this.closeSelect();\n                }, 500);\n                component = _makeComponnet(); // 如果是基础信息则自动填充\n\n                if (!(component.type === 'baseInfo')) {\n                  _context10.next = 8;\n                  break;\n                }\n\n                _context10.next = 7;\n                return this.autoFill(component);\n\n              case 7:\n                component = _context10.sent;\n\n              case 8:\n                this.$parent.$parent.selectComponent(component);\n                _context10.next = 12;\n                break;\n\n              case 11:\n                if (type === 'toogle') {\n                  _component = _makeComponnet();\n                  _component.title = this.itemCopy.title;\n                  _component.subTitle = this.itemCopy.subTitle;\n                  console.warn('切换图文样式可能存在隐患，具体什么问题暂时不清楚');\n                  _component.infos = JSON.parse(JSON.stringify(this.itemCopy.infos));\n                  _component.children = JSON.parse(JSON.stringify(this.itemCopy.children));\n                  this.itemCopy = JSON.parse(JSON.stringify(_component)); // this.$parent.$parent.selectComponent(component)\n                } else if (type === 'superLink') {\n                  this.itemCopy.children = this.itemCopy.children.map(function (it, index) {\n                    if (item === index) it.selected = !it.selected;\n                    return it;\n                  });\n                } else if (type === 'bgcolor') {\n                  this.$parent.$parent.changebgcolor(item);\n                  this.closeSelect();\n                } else if (type === 'bgpic') {\n                  this.$parent.$parent.changebgpic(item);\n                  this.closeSelect();\n                }\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function selectThis(_x4, _x5) {\n        return _selectThis.apply(this, arguments);\n      }\n\n      return selectThis;\n    }(),\n    // 自动填充基础信息\n    autoFill: function () {\n      var _autoFill = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee11(component) {\n        var cardInfo, res;\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.prev = 0;\n                cardInfo = null;\n\n                if (this.cardInfo) {\n                  _context11.next = 10;\n                  break;\n                }\n\n                _context11.next = 5;\n                return httpService.get('/front/card', {\n                  user_id: this.user.id\n                });\n\n              case 5:\n                res = _context11.sent;\n\n                if (res.status === 0) {\n                  this['webPage/updateCardInfo'](res.data);\n                }\n\n                cardInfo = res.data;\n                _context11.next = 11;\n                break;\n\n              case 10:\n                cardInfo = this.cardInfo;\n\n              case 11:\n                component.infos.name = cardInfo.name;\n                component.infos.jobs = cardInfo.profession;\n                component.infos.company = cardInfo.company;\n                component.infos.avatar.href = cardInfo.portrait;\n                return _context11.abrupt(\"return\", component);\n\n              case 18:\n                _context11.prev = 18;\n                _context11.t0 = _context11[\"catch\"](0);\n                // 不做处理\n                console.warn(_context11.t0.message);\n                return _context11.abrupt(\"return\", component);\n\n              case 22:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this, [[0, 18]]);\n      }));\n\n      function autoFill(_x6) {\n        return _autoFill.apply(this, arguments);\n      }\n\n      return autoFill;\n    }(),\n    // 隐藏筛选条件\n    hideFilter: function hideFilter() {\n      this.filterStyle = {\n        height: 0\n      };\n    },\n    // 隐藏显示\n    isHide: function isHide() {\n      if (this.filterStyle.height) {\n        this.hideFilter();\n      } else {\n        this.filterStyle = {\n          height: '256px'\n        };\n      }\n    },\n    // 提交确定[切换布局和添加超链接]\n    submit: function submit(type) {\n      if (type === 'toogle') {\n        this.closeSelect();\n        this.$parent.$parent.editComponent(this.indexa, this.itemCopy);\n      } else if (type === 'bgpic') {\n        if (this.bgstate) {\n          if (this.url3.length > 0) {\n            this.$parent.$parent.changebgpic(this.url3);\n          }\n        } else {\n          this.selectThis('bgcolor', this.bgcolor);\n        }\n\n        this.closeSelect();\n      } else {\n        var superLink = {\n          text: '',\n          link: ''\n        };\n        this.marketPages.forEach(function (item) {\n          if (item.selected) {\n            superLink = {\n              text: item.title,\n              link: \"/tools/marketing/detail/\".concat(item.id)\n            };\n          }\n        });\n        this.itemCopy.children.forEach(function (item) {\n          if (item.selected) {\n            item.img.superLink = superLink;\n            delete item.selected;\n          }\n        });\n        this.closeSelect();\n        this.$parent.$parent.editComponent(this.indexa, this.itemCopy);\n      }\n    },\n    // 关闭组件选择\n    closeSelect: function closeSelect() {\n      this.show = false;\n\n      if (this.type == 'video') {\n        this.showStepTwo = false;\n        this.videoIndex = 0;\n        this.text = '';\n        this.videoInfo = {};\n      }\n\n      this['webPage/updateSelectShow'](false);\n    },\n    // 上一步\n    pre: function pre() {\n      this.showStepTwo = false;\n    },\n    // 保存\n    save: function () {\n      var _save = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee12() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.prev = 0;\n                res = null;\n\n                if (!this.videoInfo.id) {\n                  _context12.next = 8;\n                  break;\n                }\n\n                _context12.next = 5;\n                return httpService.post('/front/edit-movie', {\n                  id: this.videoInfo.id,\n                  title: this.videoInfo.title,\n                  description: this.videoInfo.des,\n                  img: this.videoInfo.img,\n                  swf: this.videoInfo.swf,\n                  url: this.videoInfo.url\n                });\n\n              case 5:\n                res = _context12.sent;\n                _context12.next = 11;\n                break;\n\n              case 8:\n                _context12.next = 10;\n                return httpService.post('/front/add-movie', {\n                  title: this.videoInfo.title,\n                  description: this.videoInfo.des,\n                  img: this.videoInfo.img,\n                  swf: this.videoInfo.swf,\n                  url: this.text\n                });\n\n              case 10:\n                res = _context12.sent;\n\n              case 11:\n                if (res.status !== 0) {\n                  alert(err.message);\n                }\n\n                this.text = '';\n                this.item.video.title = this.videoInfo.title;\n                this.item.video.content = this.videoInfo.des;\n                this.item.video.link = this.videoInfo.swf;\n                this.item.video.img.src = this.videoInfo.img;\n                this.closeSelect();\n                _context12.next = 23;\n                break;\n\n              case 20:\n                _context12.prev = 20;\n                _context12.t0 = _context12[\"catch\"](0);\n                alert(_context12.t0.message);\n\n              case 23:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this, [[0, 20]]);\n      }));\n\n      function save() {\n        return _save.apply(this, arguments);\n      }\n\n      return save;\n    }(),\n    childValue: function childValue(val) {\n      // 编辑的视频\n      this.videoInfo = val;\n      this.videoInfo.des = val.description;\n      this.showStepTwo = true;\n      this.videoIndex = 0;\n    },\n    //选择的视频\n    selectValue: function selectValue(val) {\n      this.item.video.title = val.title;\n      this.item.video.content = val.description;\n      this.item.video.link = val.swf;\n      this.item.video.img.src = val.img;\n      this.closeSelect();\n    },\n    // 删除视频\n    del: function del(id, index) {\n      var self = this; // dialogService.confirm({\n      //   msg: '确定将所选视频删除吗？',\n      //   onConfirm: function() {\n      //   }\n      // })\n\n      httpService({\n        url: '/front/delete-movie',\n        method: 'get',\n        loading: false,\n        params: {\n          id: id\n        }\n      }).then(function () {\n        self.videoList.splice(index, 1);\n        self.page = 1;\n        self.listMovie();\n      }).catch(function (err) {\n        alert(err.message);\n      });\n    }\n  }),\n  computed: _objectSpread({}, mapState({\n    user: function user(state) {\n      return state.user.userInfo;\n    },\n    selectShow: function selectShow(state) {\n      return state.webPage.selectShow;\n    },\n    cardInfo: function cardInfo(state) {\n      return state.webPage.cardInfo;\n    },\n    componentCate: function componentCate(state) {\n      return state.webPage.componentCate;\n    }\n  })),\n  components: {\n    VideoItem: VideoItem\n  },\n  watch: {\n    selectShow: function selectShow(newVal, oldVal) {\n      var _this2 = this;\n\n      if (newVal) {\n        this.init();\n      }\n\n      setTimeout(function () {\n        _this2.show = newVal;\n      });\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"components-wrapper\" @click=\"closeSelect()\" @touchmove.prevent=\"doNothing()\">\n    <div class=\"wrapper\" :class=\"[show ? 'show': '', type]\" ref=\"wrapper\" @touchmove.prevent=\"doNothing()\" @click.stop=\"doNothing()\">\n      <span class=\"close-btn\" @click=\"closeSelect()\">\n        <i class=\"iconfont icon-cuo1\" style=\"font-size:24px\"></i>\n      </span>\n      <!-- 选择组件 -->\n      <template v-if=\"type === 'component'\">\n        <div class=\"cates\">\n          <div class=\"cate\" v-for=\"(item ,index) in componentCate\" :key=\"index\" :class=\"item.active ? 'active' : ''\" @click=\"selectCate(index)\">\n            <div class=\"icon iconfont\" :class=\"'icon-' + item.class_name\"></div>\n            <span v-text=\"item.name\"></span>\n          </div>\n        </div>\n        <div class=\"sort-box\" v-if=\"category.type === 'imgText' || category.type === 'pics'\" @click=\"isHide()\">\n          <span>图片比例</span>\n          <span style=\"transition:all 0.3s\" :class=\"filterStyle.height ? 'rotate180' : ''\">\n            <i class=\"iconfont icon-gongjulandanchu\"></i>\n          </span>\n          <span v-if=\"ratio.text !== undefined\" class=\"ratio-div\">({{ratio.text}})</span>\n        </div>\n        <div class=\"filters\" :style=\"filterStyle\">\n          <div class=\"filter-box ratio-filters\" v-if=\"category.type === 'imgText' || category.type === 'pics'\">\n            <div class=\"filter\" v-for=\"(item, index) in filters\" :key=\"index\" :class=\"[item.val === ratio.val ? 'active' : '']\" @click=\"selectPattern('imgText', index)\">\n              <div class=\"icon\" :class=\"item.className\"></div>\n              <span v-text=\"item.text\"></span>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"stype==='bgColor'\" class=\"bglist\" @touchstart=\"hideFilter()\" @touchmove.stop=\"doNothing()\">\n          <p>背景图片</p>\n          <div class=\"bgpic\" @touchmove.stop=\"doNothing()\">\n            <div v-for=\"(x,index) in piclist\" :class=\"url2 === 'url(\\' '+x.url+ ' \\') no-repeat fixed center / 100% 100%' && bgstate ? 'active' : ''\" :key=\"index\">\n              <img :src=\"x.url\" @click=\"selecPic(x.url)\" />\n            </div>\n          </div>\n          <p>背景色块</p>\n          <ul class=\"bgstyle\">\n            <!-- @click=\"selectThis('bgcolor', x)\" -->\n            <li v-for=\"x in colorarr\" :style=\"'background:'+x\" :key=\"x\" :class=\"x === bgcolor && !bgstate ?'active':''\" @click=\"selectColor(x)\">\n            </li>\n          </ul>\n          <div class=\"empty-component\"></div>\n        </div>\n        <div v-else class=\"components\" @touchstart=\"hideFilter()\" @touchmove.stop=\"doNothing()\">\n          <div class=\"component\" v-for=\"(item, index) in components\" :key=\"index\" @click=\"selectThis('add', item)\">\n            <div class=\"cover\">\n              <img :src=\"item.cover\" alt=\"\">\n            </div>\n            <span v-text=\"item.name\"></span>\n          </div>\n          <div class=\"empty-component\"></div>\n        </div>\n      </template>\n      <!-- 切换布局 -->\n      <template v-if=\"type === 'layout'\">\n        <div class=\"operate-title\" style=\"border-bottom:1px solid #f2f2f2;\">\n          <span>样式切换</span>\n        </div>\n        <div class=\"components\" style=\"padding:0 10px 0\">\n          <div class=\"component\" v-for=\"(item, index) in toggles\" :key=\"index\" @click=\"selectThis('toogle', item)\">\n            <div class=\"cover\">\n              <img :src=\"item.cover\" alt=\"\">\n              <div class=\"selected\" v-if=\"item.id === itemCopy.id\">\n                <span class=\"iconfont icon-success\"></span>\n              </div>\n            </div>\n          </div>\n          <div class=\"empty-component\"></div>\n        </div>\n        <div class=\"foot\">\n          <button type=\"button\" @click=\"closeSelect()\">取消</button>\n          <button type=\"button\" class=\"submit\" @click=\"submit('toogle')\">确定</button>\n        </div>\n      </template>\n      <!-- 添加超链接 -->\n      <template v-if=\"type === 'superLink'\">\n        <div class=\"operate-title\">\n          <span>添加超链接</span>\n        </div>\n        <div class=\"components\">\n          <template v-for=\"(item, index) in itemCopy.children\">\n            <div class=\"component\" :key=\"index\" v-if=\"item.img.src\" @click=\"selectThis('superLink', index)\">\n              <div class=\"cover\">\n                <img :src=\"item.img.src\" alt=\"\">\n                <div class=\"selected\" v-if=\"item.img.superLink.link || item.selected\">\n                  <span class=\"iconfont icon-success\" v-if=\"item.selected\"></span>\n                  <span v-else v-text=\"item.img.superLink.text\"></span>\n                </div>\n              </div>\n            </div>\n          </template>\n          <div class=\"empty-component\"></div>\n          <div class=\"empty-component\"></div>\n          <div class=\"empty-component\"></div>\n        </div>\n        <div style=\"width:100%;height:20px;background:#f2f2f2;\"></div>\n        <div class=\"operate-title\">\n          <span>营销网页</span>\n          <small>*链接营销网页，对方点击图片可跳转至营销网页，仅选择一个链接*</small>\n        </div>\n        <div class=\"marketings\">\n          <div class=\"list-item\" v-for=\"(item, index) in marketPages\" :key=\"index\" @click=\"selectMarketPage(index)\">\n            <span class=\"marketings-name\" v-text=\"item.title\"></span>\n            <span class=\"marketings-date\" v-text=\"item.created_at.substring(0, 10)\"></span>\n            <span class=\"iconfont icon-success\" :class=\"item.selected ? 'active' : ''\"></span>\n          </div>\n        </div>\n        <div class=\"foot\">\n          <button type=\"button\" @click=\"closeSelect()\">取消</button>\n          <button type=\"button\" class=\"submit\" @click=\"submit('superLink')\">确定</button>\n        </div>\n      </template>\n      <!-- 添加视频 -->\n      <template v-if=\"type === 'video'\">\n        <ul class=\"video-manage\">\n          <li v-for=\"(item,index) in videoNav\" :key=\"index\" :class=\"{'active':videoIndex == index}\" @click=\"tabIndex(index)\">{{item}}</li>\n        </ul>\n        <div class=\"vide-content vide-one \" @touchmove.stop=\"doNothing()\" v-if=\" videoIndex===0\">\n          <template v-if=\"!showStepTwo\">\n            <h3>视频入口</h3>\n            <ul class=\"vide-media\">\n              <li v-for=\"(item,index) in mediaList\" :key=\"index\" @click=\"Jump(item)\">\n                <!-- <a :href=\"item.link\"> -->\n                <img :src=\"item.src\" alt=\"\">\n                <p v-text=\"item.text\"></p>\n                <!-- </a> -->\n              </li>\n            </ul>\n            <textarea class=\"vide-address\" v-model=\"text\" placeholder=\"请将视频链接复制到此处，即可插入到个人网页中。\"> </textarea>\n            <h3>上传步骤</h3>\n            <div class=\"vide-step\">\n              <p>1.必须通过提供的视频网站中进行查找视频。</p>\n              <p>2.视频添加步骤:</p>\n              <ul class=\"step\">\n                <li>\n                  <span>1</span>\n                  <p>打开视频</p>\n                </li>\n                <li>\n                  <span>2</span>\n                  <p>找到视频</p>\n                </li>\n                <li>\n                  <span>3</span>\n                  <p>复制视频</p>\n                </li>\n                <li>\n                  <span>4</span>\n                  <p>返回粘贴</p>\n                </li>\n              </ul>\n            </div>\n            <div class=\"btn-warp\">\n              <button class=\"btn\" :class=\"text.length === 0 ? '' : 'active'\" @click=\"next()\" :disabled=\"text.length === 0 ? true : false\">下一步</button>\n\n            </div>\n          </template>\n          <template v-else>\n            <h3>编辑视频</h3>\n            <div class=\"step-two-content\">\n              <div>\n                <span>标题</span>\n                <textarea class=\"title\" placeholder=\"请在这里输入标题名称\" v-model=\"videoInfo.title\"></textarea>\n              </div>\n              <div>\n                <span>内容</span>\n                <textarea class=\"content\" placeholder=\"请在这里输入视频内容\" v-model=\"videoInfo.des\"></textarea>\n              </div>\n              <div class=\"video-info\">\n                <iframe :src=\"videoInfo.swf\" frameborder=\"0\" style=\"width:100%; height:390px;\">\n                </iframe>\n                <!-- <img :src=\"videoInfo.img\" alt=\"\"> -->\n                <!-- <div>\n                  更换封面\n                  <input type=\"file\" accept=\"image/*\" @change=\"uploadImg($event, 'video')\">\n                </div> -->\n              </div>\n              <div class=\"btn-warp\">\n                <button class=\"btn active\" style=\"width:330px\" @click=\"pre\">上一步</button>\n                <button class=\"btn active\" style=\"width:330px\" @click=\"save\">完成</button>\n              </div>\n            </div>\n          </template>\n          <div class=\"empty-component\"></div>\n        </div>\n        <template v-if=\" videoIndex===1\">\n          <div class=\"search\">\n            <div>\n              <i class=\"iconfont icon-sousuo\"></i>\n              <input type=\"text\" v-model=\"searchName\" placeholder=\"搜索\"></div>\n            <span @click=\"search()\">搜索</span>\n          </div>\n          <div class=\"vide-content search-list\" @touchmove.stop=\"doNothing()\">\n            <div v-if=\"videoList.length==0\" style=\"text-align:center;width:100%;padding:40px;font-size:28px;\">暂无数据</div>\n            <template v-else>\n              <VideoItem :content=\"videoList\" @childValue=\"childValue\" @selectValue=\"selectValue\"></VideoItem>\n              <p v-if=\"page < maxPage\" @click=\"more()\" class=\"more\">{{msg}}</p>\n              <p v-else class=\"more\">{{msg}}</p>\n            </template>\n          </div>\n        </template>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport httpService from '@/service/httpService'\nimport VideoItem from '@/components/VideoItem'\nimport state from '../../store/modules/user/state'\n\nexport default {\n  props: ['type', 'item', 'indexa', 'url'],\n  data() {\n    return {\n      bgstate: true, // 背景选择\n      ratio: {}, // 单前所选比例\n      show: false, // 上滑动画状态\n      toggles: [], // 可切换的组件\n      category: {}, // 当前所选分类\n      itemCopy: {}, // 传入组件的副本\n      components: [], // 单前显示的组件\n      marketPages: [], // 营销网页列表\n      filterStyle: {}, // 过滤条件的高度\n      stype: '', // 所选类型\n      url2: '', // 背景类型1\n      url3: '', // 背景类型2\n      filters: [\n        // 比例筛选\n        { text: '1:1', val: '1.00', className: 'iconfont icon-bi4' },\n        { text: '2:3', val: '0.66', className: 'iconfont icon-bi' },\n        { text: '3:2', val: '1.50', className: 'iconfont icon-bi3' },\n        { text: '4:3', val: '1.33', className: 'iconfont icon-bi5' },\n        { text: '3:4', val: '0.75', className: 'iconfont icon-bi1' },\n        { text: '9:16', val: '0.56', className: 'iconfont icon-bi6' },\n        { text: '16:9', val: '1.77', className: 'iconfont icon-bi2' }\n      ],\n      colorarr: [\n        '#e3ffe1',\n        '#ffd2f1',\n        '#dfffff',\n        '#fffbee',\n        '#fff3f3',\n        '#ffffff',\n        '#c5ffc9',\n        '#efd2ff',\n        '#b8f1ff',\n        '#ffeedf',\n        '#ffdfdf',\n        '#808080',\n        '#93d1ad',\n        '#d7ccec',\n        '#a5faff',\n        '#eccfaf',\n        '#ffc7c7',\n        '#484848'\n      ],\n      videoNav: ['发布视频', '管理视频'], //视频管理\n      videoList: [], // 视频列表\n      videoIndex: 0, // 导航索引\n      mediaList: [\n        {\n          src: '/static/tx.png',\n          text: '腾讯视频',\n          link: 'https://v.qq.com'\n        },\n        {\n          src: '/static/yk.png',\n          text: '优酷视频',\n          link: 'https://www.youku.com'\n        },\n        {\n          src: '/static/aqy.png',\n          text: '爱奇艺',\n          link: 'http://m.iqiyi.com'\n        },\n        {\n          src: '/static/sh.png',\n          text: '搜狐视频',\n          link: 'https://m.tv.sohu.com/'\n        }\n      ], //视频列表\n      text: '',\n      showStepTwo: false, // 是否是第2步\n      videoInfo: {\n        // 视频信息\n        des: '',\n        img: '',\n        swf: '',\n        title: ''\n      },\n      searchName: '', // 按名字搜索\n      piclist: [],\n      page: 1, // 默认第一页\n      maxPage: 1, //默认最大页面\n      msg: '加载更多',\n      bgcolor: ''\n    }\n  },\n  mounted() {\n    this.bgcolor = this.url\n    // this.init()\n  },\n  methods: {\n    ...mapActions([\n      'webPage/updateSelectShow',\n      'webPage/updateComponentCate',\n      'webPage/updateCardInfo',\n      'webPage/updateTempDatas',\n      'webPage/updateEditVideo',\n      'webPage/updateVideoIndex'\n    ]),\n    selectColor(x) {\n      this.bgcolor = x\n      this.bgstate = false\n      this.submit('bgpic')\n    },\n    selecPic(x) {\n      this.bgstate = true\n      this.url2 = \"url(' \" + x + \" ') no-repeat fixed center / 100% 100%\"\n      this.url3 = x\n      this.submit('bgpic')\n    },\n    Jump(item) {\n      this['webPage/updateEditVideo'](true)\n      this['webPage/updateTempDatas'](this.$parent.$parent.datas)\n      this['webPage/updateVideoIndex'](this.indexa)\n      this.closeSelect() // 必须关闭，不然就弹窗不出来\n      window.location.href = item.link\n    },\n    // 加载更多\n    more() {\n      this.page++\n      if (this.page <= this.maxPage) {\n        this.listMovie()\n      }\n    },\n    // 切换tab\n    async tabIndex(index) {\n      this.videoIndex = index\n      if (this.videoIndex == 1) {\n        this.searchName = ''\n        this.page = 1\n        this.videoList = []\n        this.listMovie()\n      }\n    },\n    // 获取视频样式\n    async listMovie() {\n      this.msg = '加载中'\n      try {\n        let res = await httpService({\n          url: '/front/list-movie',\n          loading: false,\n          params: {\n            page: this.page\n          }\n        })\n        if (res.status !== 0) {\n          throw new Error(res.message)\n        }\n        this.page = res.data.current_page\n        this.maxPage = res.data.last_page\n        if (this.page < this.maxPage) {\n          this.msg = '加载更多'\n        } else {\n          this.msg = '没有更多'\n        }\n        this.videoList =\n          this.page === 1 ? res.data.data : this.videoList.concat(res.data.data)\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n    // 搜索视频\n    async search(val) {\n      try {\n        let res = await httpService({\n          url: '/front/search-movie',\n          method: 'get',\n          params: {\n            search: this.searchName\n          },\n          loading: false\n        })\n        if (res.status !== 0) {\n          throw new Error(res.message)\n        }\n        this.videoList = res.data.data\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n    // getbglist(x) {\n    //   if (x === 'pic') {\n    //     this.bgstate = true\n    //     this.$refs.bgline.style.left = 25 + '%'\n    //   } else {\n    //     this.bgstate = false\n    //     this.$refs.bgline.style.left = 75 + '%'\n    //   }\n    // },\n    // 阻止冒泡\n    doNothing() {\n      // nothing\n    },\n    // 下一步\n    async next() {\n      try {\n        let res = await httpService({\n          url: '/front/get-movie',\n          body: {\n            url: this.text\n          },\n          method: 'post',\n          loading: false\n        })\n        if (res.status !== 0 || !res.data) {\n          this.text = ''\n          throw new Error('视频获取失败')\n        }\n        this.showStepTwo = true\n        this.videoInfo = res.data\n        // this.item.video.img.src = res.data.img\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n    // init\n    async init() {\n      try {\n        // this.$refs.wrapper.style.marginTop = 3.33333 + 'rem'\n        if (this.type === 'video') {\n          this.$refs.wrapper.style.marginTop = '90px'\n        }\n        if (this.type === 'layout') {\n          this.itemCopy = JSON.parse(JSON.stringify(this.item))\n          let params = {\n            ratio: this.itemCopy.ratio,\n            cate_id: this.itemCopy.cate,\n            type: this.itemCopy.layoutType\n          }\n          await this.getComponents(params)\n        } else if (this.type === 'superLink') {\n          this.getMarketPages()\n          this.itemCopy = JSON.parse(JSON.stringify(this.item))\n        } else if (this.type === 'bgcolor') {\n          let _self = this\n          // setTimeout(() => {\n          //   _self.url2 = _self.url\n          //   _self.$refs.wrapper.style.marginTop =\n          //     window.innerHeight -\n          //     _self.$refs.bgtop.clientHeight -\n          //     _self.$refs.bgbottom.clientHeight +\n          //     'px'\n          // })\n          // this.$refs.wrapper.style.marginTop = 100 + 'px'\n          if (this.piclist.length === 0) {\n            this.getpiclist()\n          }\n        } else {\n          this.itemCopy = null\n          await this.getComponentCate()\n        }\n      } catch (err) {\n        alert(err.message)\n      }\n    },\n    // 获取背景图片\n    async getpiclist() {\n      let res = await httpService.get('/front/personal_page/customs/background')\n      this.piclist = res.data\n    },\n    // 获取组件分类[如果有组件分类则直接获取]\n    async getComponentCate() {\n      if (this.componentCate.length) {\n        if (!this.category.id) this.selectCate(0)\n        return false\n      }\n      let res = await httpService.get('/front/personal_page/custom/categories')\n      this['webPage/updateComponentCate'](res.data)\n    },\n    // 选择一个分类\n    selectCate(index) {\n      this.category = this.componentCate[index]\n      if (this.category.type === 'imgText' || this.category.type === 'pics') {\n        this.filterStyle = {\n          height: '256px'\n        }\n      } else {\n        this.ratio = {}\n        this.hideFilter()\n      }\n      this.stype = this.componentCate[index].type\n      if (this.componentCate[index].active && this.components.length) return\n      let componentCate = this.componentCate.map((it, i) => {\n        let obj = Object.assign({}, it)\n        obj.active = i === index\n        return obj\n      })\n      this['webPage/updateComponentCate'](componentCate)\n      if (this.category.type === 'bgColor') {\n        if (this.piclist.length === 0) {\n          this.getpiclist()\n        }\n        return\n      } else {\n        this.getComponents()\n      }\n    },\n    // 筛选图片比例|筛选图片排列方式\n    selectPattern(type, index) {\n      if (type === 'imgText' || type === 'pics') {\n        this.ratio = this.filters[index]\n      }\n      this.getComponents()\n    },\n    // 获取当前组件分类下的组件[需要检查他们是否具有筛选项]\n    async getComponents(input) {\n      try {\n        const Params = {\n          ratio: this.ratio.val,\n          cate_id: this.category.id\n        }\n        let params = input || Params\n        let res = await httpService({\n          url: '/front/personal_page/custom/components',\n          params: params\n        })\n        input ? (this.toggles = res.data) : (this.components = res.data)\n      } catch (err) {\n        alert(err.message)\n      }\n    },\n    // 获取营销网页列表\n    async getMarketPages() {\n      if (!this.marketPages.length) {\n        let res = await httpService.get('/front/user-marketing')\n        this.marketPages = res.data.data\n      }\n    },\n    // 选择一个营销网页\n    selectMarketPage(index) {\n      this.marketPages = this.marketPages.map((item, _index) => {\n        if (index === _index) {\n          item.selected = !item.selected\n        } else {\n          item.selected = false\n        }\n        return item\n      })\n    },\n    // 选择当前组件\n    async selectThis(type, item) {\n      // 构建一个理想组件[添加和转化组件布局]\n      const _makeComponnet = function(x) {\n        let component = JSON.parse(item.content)\n        component.id = item.id\n        component.cate = item.cate\n        component.price = item.price\n        component.ratio = item.ratio\n        component.hasVip = item.has_vip\n        component.layoutType = item.type\n        if (x) {\n        }\n        return component\n      }\n      if (type === 'add') {\n        setTimeout(() => {\n          this.closeSelect()\n        }, 500)\n        let component = _makeComponnet()\n        // 如果是基础信息则自动填充\n\n        if (component.type === 'baseInfo') {\n          component = await this.autoFill(component)\n        }\n        this.$parent.$parent.selectComponent(component)\n      } else if (type === 'toogle') {\n        let component = _makeComponnet()\n        component.title = this.itemCopy.title\n        component.subTitle = this.itemCopy.subTitle\n        console.warn('切换图文样式可能存在隐患，具体什么问题暂时不清楚')\n        component.infos = JSON.parse(JSON.stringify(this.itemCopy.infos))\n        component.children = JSON.parse(JSON.stringify(this.itemCopy.children))\n        this.itemCopy = JSON.parse(JSON.stringify(component))\n        // this.$parent.$parent.selectComponent(component)\n      } else if (type === 'superLink') {\n        this.itemCopy.children = this.itemCopy.children.map((it, index) => {\n          if (item === index) it.selected = !it.selected\n          return it\n        })\n      } else if (type === 'bgcolor') {\n        this.$parent.$parent.changebgcolor(item)\n        this.closeSelect()\n      } else if (type === 'bgpic') {\n        this.$parent.$parent.changebgpic(item)\n        this.closeSelect()\n      }\n    },\n    // 自动填充基础信息\n    async autoFill(component) {\n      try {\n        let cardInfo = null\n        if (!this.cardInfo) {\n          let res = await httpService.get('/front/card', {\n            user_id: this.user.id\n          })\n          if (res.status === 0) {\n            this['webPage/updateCardInfo'](res.data)\n          }\n          cardInfo = res.data\n        } else {\n          cardInfo = this.cardInfo\n        }\n        component.infos.name = cardInfo.name\n        component.infos.jobs = cardInfo.profession\n        component.infos.company = cardInfo.company\n        component.infos.avatar.href = cardInfo.portrait\n        return component\n      } catch (err) {\n        // 不做处理\n        console.warn(err.message)\n        return component\n      }\n    },\n    // 隐藏筛选条件\n    hideFilter() {\n      this.filterStyle = {\n        height: 0\n      }\n    },\n    // 隐藏显示\n    isHide() {\n      if (this.filterStyle.height) {\n        this.hideFilter()\n      } else {\n        this.filterStyle = {\n          height: '256px'\n        }\n      }\n    },\n    // 提交确定[切换布局和添加超链接]\n    submit(type) {\n      if (type === 'toogle') {\n        this.closeSelect()\n        this.$parent.$parent.editComponent(this.indexa, this.itemCopy)\n      } else if (type === 'bgpic') {\n        if (this.bgstate) {\n          if (this.url3.length > 0) {\n            this.$parent.$parent.changebgpic(this.url3)\n          }\n        } else {\n          this.selectThis('bgcolor', this.bgcolor)\n        }\n        this.closeSelect()\n      } else {\n        let superLink = { text: '', link: '' }\n        this.marketPages.forEach(item => {\n          if (item.selected) {\n            superLink = {\n              text: item.title,\n              link: `/tools/marketing/detail/${item.id}`\n            }\n          }\n        })\n        this.itemCopy.children.forEach(item => {\n          if (item.selected) {\n            item.img.superLink = superLink\n            delete item.selected\n          }\n        })\n        this.closeSelect()\n        this.$parent.$parent.editComponent(this.indexa, this.itemCopy)\n      }\n    },\n    // 关闭组件选择\n    closeSelect() {\n      this.show = false\n\n      if (this.type == 'video') {\n        this.showStepTwo = false\n        this.videoIndex = 0\n        this.text = ''\n        this.videoInfo = {}\n      }\n\n      this['webPage/updateSelectShow'](false)\n    },\n    // 上一步\n    pre() {\n      this.showStepTwo = false\n    },\n    // 保存\n    async save() {\n      try {\n        let res = null\n        if (this.videoInfo.id) {\n          res = await httpService.post('/front/edit-movie', {\n            id: this.videoInfo.id,\n            title: this.videoInfo.title,\n            description: this.videoInfo.des,\n            img: this.videoInfo.img,\n            swf: this.videoInfo.swf,\n            url: this.videoInfo.url\n          })\n        } else {\n          res = await httpService.post('/front/add-movie', {\n            title: this.videoInfo.title,\n            description: this.videoInfo.des,\n            img: this.videoInfo.img,\n            swf: this.videoInfo.swf,\n            url: this.text\n          })\n        }\n        if (res.status !== 0) {\n          alert(err.message)\n        }\n        this.text = ''\n        this.item.video.title = this.videoInfo.title\n        this.item.video.content = this.videoInfo.des\n        this.item.video.link = this.videoInfo.swf\n        this.item.video.img.src = this.videoInfo.img\n        this.closeSelect()\n      } catch (err) {\n        alert(err.message)\n      }\n    },\n    childValue(val) {\n      // 编辑的视频\n      this.videoInfo = val\n      this.videoInfo.des = val.description\n      this.showStepTwo = true\n      this.videoIndex = 0\n    },\n    //选择的视频\n    selectValue(val) {\n      this.item.video.title = val.title\n      this.item.video.content = val.description\n      this.item.video.link = val.swf\n      this.item.video.img.src = val.img\n      this.closeSelect()\n    },\n    // 删除视频\n    del(id, index) {\n      let self = this\n      // dialogService.confirm({\n      //   msg: '确定将所选视频删除吗？',\n      //   onConfirm: function() {\n\n      //   }\n      // })\n      httpService({\n        url: '/front/delete-movie',\n        method: 'get',\n        loading: false,\n        params: {\n          id: id\n        }\n      })\n        .then(() => {\n          self.videoList.splice(index, 1)\n          self.page = 1\n          self.listMovie()\n        })\n        .catch(err => {\n          alert(err.message)\n        })\n    }\n  },\n  computed: {\n    ...mapState({\n      user: state => state.user.userInfo,\n      selectShow: state => state.webPage.selectShow,\n      cardInfo: state => state.webPage.cardInfo,\n      componentCate: state => state.webPage.componentCate\n    })\n  },\n  components: {\n    VideoItem\n  },\n  watch: {\n    selectShow: function(newVal, oldVal) {\n      if (newVal) {\n        this.init()\n      }\n      setTimeout(() => {\n        this.show = newVal\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n"],"sourceRoot":"src/components/ComponentHandler"}]}