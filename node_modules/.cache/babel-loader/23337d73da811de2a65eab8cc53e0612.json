{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiang/work/hytx/hytx-rebuild/src/main.js","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/main.js","mtime":1547019263094},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from 'vue';\nimport './jssdk/index';\nimport App from './App.vue';\nimport router from './router';\nimport config from './config';\nimport store from './store/index';\nimport sdkService from './service/sdkService';\nimport * as filters from './filter';\nimport authGuard from '@/service/auth-guard';\nimport { isShare, getSystemInfo, getParamsFromUrl } from './utils/index';\nimport httpService from './service/httpService'; // 添加全局过滤器\n\nObject.keys(filters).forEach(function (key) {\n  Vue.filter(key, filters[key]);\n});\nVue.config.productionTip = false;\ngetSystemInfo(); // 获取系统信息\n// 获取签名信息并储存\n\nhttpService.get('/front/get-wechat-config').then(function (res) {\n  store.commit('system/updateWxSignature', {\n    app_id: res.data.config.app_id,\n    jsapi_ticket: res.data.ticket.ticket\n  });\n}); // 设置URL为签名\n\nwindow.url = location.href; // 路由守卫\n\nrouter.beforeEach(function (to, from, next) {\n  authGuard(to, from, next); // 把需要缓存的路由放到数组中\n\n  if (to.meta.keepAlive && to.name && !store.state.system.router.includes(to.name)) {\n    store.commit('system/updateRouter', {\n      type: 'add',\n      data: to.name\n    });\n  } //   authGuard(to, from, next)\n  // 路由发生变化修改页面title\n\n\n  if (to.meta.title) {\n    document.title = to.meta.title;\n  }\n\n  next();\n}); // 配置微信分享相关内容\n\nrouter.afterEach(function (to, from) {\n  setTimeout(function () {\n    var reg = new RegExp(to.fullPath.replace(/\\?/, '\\\\?') + '$');\n    if (!reg.test(location.href)) return;\n    if (store.state.system.platform !== 'wechat') return;\n\n    if (config.payPath.includes(to.path)) {\n      // 支付配置\n      sdkService.config('pay');\n    } else if (isShare(to.path)) {\n      if (getParamsFromUrl('task') || to.path === '/circle/match') {\n        sdkService.config('shareTask');\n      } else {\n        sdkService.config('share');\n      }\n    } else {\n      sdkService.config(); // 默认分享\n\n      sdkService.defaultShare();\n    }\n  }, 200);\n});\nnew Vue({\n  store: store,\n  router: router,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["/Users/qiang/work/hytx/hytx-rebuild/src/main.js"],"names":["Vue","App","router","config","store","sdkService","filters","authGuard","isShare","getSystemInfo","getParamsFromUrl","httpService","Object","keys","forEach","key","filter","productionTip","get","then","res","commit","app_id","data","jsapi_ticket","ticket","window","url","location","href","beforeEach","to","from","next","meta","keepAlive","name","state","system","includes","type","title","document","afterEach","setTimeout","reg","RegExp","fullPath","replace","test","platform","payPath","path","defaultShare","render","h","$mount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport './jssdk/index'\nimport App from './App.vue'\nimport router from './router'\nimport config from './config'\nimport store from './store/index'\nimport sdkService from './service/sdkService'\nimport * as filters from './filter'\nimport authGuard from '@/service/auth-guard'\nimport {\n  isShare,\n  getSystemInfo,\n  getParamsFromUrl\n} from './utils/index'\nimport httpService from './service/httpService'\n\n// 添加全局过滤器\nObject.keys(filters).forEach(key => {\n  Vue.filter(key, filters[key])\n})\nVue.config.productionTip = false\n\ngetSystemInfo() // 获取系统信息\n// 获取签名信息并储存\nhttpService.get('/front/get-wechat-config').then(res => {\n  store.commit('system/updateWxSignature', {\n    app_id: res.data.config.app_id,\n    jsapi_ticket: res.data.ticket.ticket\n  })\n})\n// 设置URL为签名\nwindow.url = location.href\n\n// 路由守卫\nrouter.beforeEach((to, from, next) => {\n  authGuard(to, from, next)\n  // 把需要缓存的路由放到数组中\n  if (\n    to.meta.keepAlive &&\n    to.name &&\n    !store.state.system.router.includes(to.name)\n  ) {\n    store.commit('system/updateRouter', {\n      type: 'add',\n      data: to.name\n    })\n  }\n  //   authGuard(to, from, next)\n  // 路由发生变化修改页面title\n  if (to.meta.title) {\n    document.title = to.meta.title\n  }\n  next()\n})\n\n// 配置微信分享相关内容\nrouter.afterEach((to, from) => {\n  setTimeout(() => {\n    let reg = new RegExp(to.fullPath.replace(/\\?/, '\\\\?') + '$')\n    if (!reg.test(location.href)) return\n    if (store.state.system.platform !== 'wechat') return\n    if (config.payPath.includes(to.path)) {\n      // 支付配置\n      sdkService.config('pay')\n    } else if (isShare(to.path)) {\n      if (getParamsFromUrl('task') || to.path === '/circle/match') {\n        sdkService.config('shareTask')\n      } else {\n        sdkService.config('share')\n      }\n    } else {\n      sdkService.config()\n      // 默认分享\n      sdkService.defaultShare()\n    }\n  }, 200)\n})\n\nnew Vue({\n  store,\n  router,\n  render: h => h(App)\n}).$mount('#app')"]}]}