{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiang/work/hytx/hytx-rebuild/src/service/guideService.js","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/service/guideService.js","mtime":1548226523843},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport store from '../store';\nimport dialogService from './dialogService';\n\nvar guideService =\n/*#__PURE__*/\nfunction () {\n  function guideService() {\n    _classCallCheck(this, guideService);\n  }\n\n  _createClass(guideService, [{\n    key: \"login\",\n    value: function login() {\n      dialogService.confirm('您还没有登录,是否马上登录或注册', function (login) {\n        if (login) {\n          store.commit('system/updateRedirect', window.location.hash.substring(1));\n          var encodeRedirect = encodeURIComponent(store.state.system.redirect);\n          var guider = 'user_id=' + (store.state.system.guider || '');\n          var redirect = 'redirect=' + encodeRedirect;\n          var baseUrl = window.api + '/front/oauth';\n          location.href = \"\".concat(baseUrl, \"?\").concat(guider, \"&\").concat(redirect, \"&poster=1\");\n        }\n      });\n    }\n  }]);\n\n  return guideService;\n}();\n\nexport default new guideService();",{"version":3,"sources":["/Users/qiang/work/hytx/hytx-rebuild/src/service/guideService.js"],"names":["store","dialogService","guideService","confirm","login","commit","window","location","hash","substring","encodeRedirect","encodeURIComponent","state","system","redirect","guider","baseUrl","api","href"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,UAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;IAEMC,Y;;;;;;;;;4BACI;AACND,MAAAA,aAAa,CAACE,OAAd,CAAsB,kBAAtB,EAA0C,UAASC,KAAT,EAAgB;AACxD,YAAIA,KAAJ,EAAW;AACTJ,UAAAA,KAAK,CAACK,MAAN,CAAa,uBAAb,EAAsCC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CAAtC;AACA,cAAIC,cAAc,GAAGC,kBAAkB,CAACX,KAAK,CAACY,KAAN,CAAYC,MAAZ,CAAmBC,QAApB,CAAvC;AACA,cAAIC,MAAM,GAAG,cAAcf,KAAK,CAACY,KAAN,CAAYC,MAAZ,CAAmBE,MAAnB,IAA6B,EAA3C,CAAb;AACA,cAAID,QAAQ,GAAG,cAAcJ,cAA7B;AACA,cAAIM,OAAO,GAAGV,MAAM,CAACW,GAAP,GAAa,cAA3B;AACAV,UAAAA,QAAQ,CAACW,IAAT,aAAmBF,OAAnB,cAA8BD,MAA9B,cAAwCD,QAAxC;AACD;AACF,OATD;AAUD;;;;;;AAGH,eAAe,IAAIZ,YAAJ,EAAf","sourcesContent":["import store from '../store'\nimport dialogService from './dialogService'\n\nclass guideService {\n  login() {\n    dialogService.confirm('您还没有登录,是否马上登录或注册', function(login) {\n      if (login) {\n        store.commit('system/updateRedirect', window.location.hash.substring(1))\n        let encodeRedirect = encodeURIComponent(store.state.system.redirect)\n        let guider = 'user_id=' + (store.state.system.guider || '')\n        let redirect = 'redirect=' + encodeRedirect\n        let baseUrl = window.api + '/front/oauth'\n        location.href = `${baseUrl}?${guider}&${redirect}&poster=1`\n      }\n    })\n  }\n}\n\nexport default new guideService()\n"]}]}