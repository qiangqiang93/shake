{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/setting/index/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/setting/index/index.vue","mtime":1547027040991},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport List from '../../../components/List';\nimport ListItem from '../../../components/ListItem';\nimport { mapState, mapActions } from 'vuex';\nimport dialogService from '@/service/dialogService';\nexport default {\n  name: 'settingIndex',\n  components: {\n    List: List,\n    ListItem: ListItem\n  },\n  methods: _objectSpread({}, mapActions(['system/setToken', 'system/updateRouter', 'articles/clearArticlesAll', 'user/clearAll']), {\n    hasPayPwd: function hasPayPwd() {\n      var _this = this;\n\n      if (!this.user.payment_pwd) {\n        dialogService.confirm('您还没有设置支付密码,马上去设置？', function (status) {\n          if (status) {\n            _this.$router.push('/setting/payManage/step1');\n          }\n        });\n      } else {\n        this.$router.push('/setting/payManage');\n      }\n    },\n    // 退出登录\n    exit: function exit() {\n      this['system/setToken'](null);\n      this['articles/clearArticlesAll']();\n      this['user/clearAll']();\n      this['system/updateRouter']({\n        type: 'delAll',\n        data: []\n      });\n      this.$router.push('/login');\n    }\n  }),\n  computed: _objectSpread({}, mapState({\n    user: function user(state) {\n      return state.user.userInfo;\n    }\n  })),\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    var arrName = ['/setting/accountManage', '/setting/payManage', '/setting/protocol', '/setting/about', '/mine', '/login', '/setting/payManage/step1'];\n\n    if (arrName.indexOf(to.path) === -1) {\n      next('/mine');\n    }\n\n    next();\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,IAAA,MAAA,0BAAA;AACA,OAAA,QAAA,MAAA,8BAAA;AACA,SACA,QADA,EAEA,UAFA,QAGA,MAHA;AAIA,OAAA,aAAA,MAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,QAAA,EAAA;AAFA,GAFA;AAMA,EAAA,OAAA,oBACA,UAAA,CAAA,CACA,iBADA,EAEA,qBAFA,EAGA,2BAHA,EAIA,eAJA,CAAA,CADA;AAOA,IAAA,SAPA,uBAOA;AAAA;;AACA,UAAA,CAAA,KAAA,IAAA,CAAA,WAAA,EAAA;AACA,QAAA,aAAA,CAAA,OAAA,CAAA,mBAAA,EAAA,UAAA,MAAA,EAAA;AACA,cAAA,MAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,0BAAA;AACA;AACA,SAJA;AAKA,OANA,MAMA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,oBAAA;AACA;AACA,KAjBA;AAkBA;AACA,IAAA,IAnBA,kBAmBA;AACA,WAAA,iBAAA,EAAA,IAAA;AACA,WAAA,2BAAA;AACA,WAAA,eAAA;AACA,WAAA,qBAAA,EAAA;AACA,QAAA,IAAA,EAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AA5BA,IANA;AAoCA,EAAA,QAAA,oBACA,QAAA,CAAA;AACA,IAAA,IAAA,EAAA,cAAA,KAAA;AAAA,aAAA,KAAA,CAAA,IAAA,CAAA,QAAA;AAAA;AADA,GAAA,CADA,CApCA;AAyCA,EAAA,gBAzCA,4BAyCA,EAzCA,EAyCA,IAzCA,EAyCA,IAzCA,EAyCA;AACA,QAAA,OAAA,GAAA,CACA,wBADA,EAEA,oBAFA,EAGA,mBAHA,EAIA,gBAJA,EAKA,OALA,EAMA,QANA,EAOA,0BAPA,CAAA;;AASA,QAAA,OAAA,CAAA,OAAA,CAAA,EAAA,CAAA,IAAA,MAAA,CAAA,CAAA,EAAA;AACA,MAAA,IAAA,CAAA,OAAA,CAAA;AACA;;AACA,IAAA,IAAA;AACA;AAvDA,CAAA","sourcesContent":["<template>\n  <div class=\"set-up\">\n    <List>\n      <ListItem label=\"账号管理\" arrow=\"true\" link=\"/setting/accountManage\">\n      </ListItem>\n    </List>\n    <List>\n      <ListItem label=\"支付管理\" arrow=\"true\" @click.native=\"hasPayPwd\">\n      </ListItem>\n    </List>\n    <List>\n      <ListItem label=\"用户协议\" arrow=\"true\" link=\"/setting/protocol\">\n      </ListItem>\n      <ListItem label=\"联系我们\" arrow=\"true\" link=\"/setting/about\">\n      </ListItem>\n      <ListItem label=\"关于汇脉宝\">\n        <div>版本1.0</div>\n      </ListItem>\n    </List>\n    <div class=\"btn\" @click=\"exit\">退出登录</div>\n  </div>\n</template>\n\n<script>\n  import List from '../../../components/List'\n  import ListItem from '../../../components/ListItem'\n  import {\n    mapState,\n    mapActions\n  } from 'vuex'\n  import dialogService from '@/service/dialogService'\n\n  export default {\n    name: 'settingIndex',\n    components: {\n      List,\n      ListItem\n    },\n    methods: {\n      ...mapActions([\n        'system/setToken',\n        'system/updateRouter',\n        'articles/clearArticlesAll',\n        'user/clearAll'\n      ]),\n      hasPayPwd() {\n        if (!this.user.payment_pwd) {\n          dialogService.confirm('您还没有设置支付密码,马上去设置？', status => {\n            if (status) {\n              this.$router.push('/setting/payManage/step1')\n            }\n          })\n        } else {\n          this.$router.push('/setting/payManage')\n        }\n      },\n      // 退出登录\n      exit() {\n        this['system/setToken'](null)\n        this['articles/clearArticlesAll']()\n        this['user/clearAll']()\n        this['system/updateRouter']({\n          type: 'delAll',\n          data: []\n        })\n        this.$router.push('/login')\n      }\n    },\n    computed: {\n      ...mapState({\n        user: state => state.user.userInfo\n      })\n    },\n    beforeRouteLeave(to, from, next) {\n      let arrName = [\n        '/setting/accountManage',\n        '/setting/payManage',\n        '/setting/protocol',\n        '/setting/about',\n        '/mine',\n        '/login',\n        '/setting/payManage/step1'\n      ]\n      if (arrName.indexOf(to.path) === -1) {\n        next('/mine')\n      }\n      next()\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .set-up {\n    height: 100vh;\n    background: #f6f6f6;\n    overflow: hidden;\n\n    .btn {\n      position: relative;\n      width: 690px;\n      height: 88px;\n      line-height: 88px;\n      background-color: #e92121;\n      border-radius: 10px;\n      font-size: 32px;\n      color: #fff;\n      text-align: center;\n      margin: 40px auto 0;\n    }\n  }\n</style>"],"sourceRoot":"src/module/setting/index"}]}