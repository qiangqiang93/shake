{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/thread-loader/dist/cjs.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/article/detail/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/module/article/detail/index.vue","mtime":1547799035725},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime/regenerator\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport card from '../../../api/card';\nimport circle from '../../../api/circle';\nimport { mapState, mapActions } from 'vuex';\nimport Wrapper from '../../../components/Wrapper';\nimport Article from '../../../api/article/index';\nimport ArticleAd from '../../../components/ArticleAd';\nimport httpService from '../../../service/httpService';\nimport ArticleItem from '../../../components/ArticleItem';\nimport RegisterGuid from '../../../components/RegisterGuid';\nimport guideService from '../../../service/guideService.js';\nimport shareService from '../../../service/shareService.js';\nimport ArticleHeader from '../../../components/ArticleHeader';\nimport AppLoading from '../../../components/AppLoading';\nimport AppHeader from '../../../components/AppHeader';\nimport dialogService from '../../../service/dialogService';\nimport { getArticleCover, getParamsFromUrl } from '../../../utils';\nimport sdkService from '../../../service/sdkService';\nexport default {\n  data: function data() {\n    return {\n      author: null,\n      //作者信息\n      article: [],\n      //文章内容\n      shareMan: null,\n      //分享人\n      isActive: false,\n      recommand: [],\n      // 推荐文章\n      comments: [],\n      // 评论\n      commentNum: null,\n      // 评论总数\n      loadMore: true,\n      // 加载更多\n      submit: false,\n      // 是否提交\n      comment: '',\n      // 评论内容\n      page: 1,\n      scrollStatus: 1,\n      // 1表示滚动到评论区   0表示滚动道顶部\n      searchBarFixed: false,\n      isShowArticleDetai: true,\n      scrollLength: null,\n      // 滚动长度\n      windowHeight: null,\n      // 可见内容高度\n      shareOptions: null // 分享配置参数\n\n    };\n  },\n  mounted: function mounted() {\n    this.windowHeight = document.documentElement.clientHeight;\n    this.init();\n  },\n  methods: {\n    init: function () {\n      var _init = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var self;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                self = this;\n                this.isShowArticleDetai = true;\n                this.scrollStatus = 1; // 1表示滚动到评论区   0表示滚动道顶部\n\n                _context.prev = 3;\n                this.dataInit();\n                document.documentElement.scrollTop = 0;\n                this.getComment();\n                _context.next = 9;\n                return this.getArticleDetail();\n\n              case 9:\n                this.getRecommand();\n                this.getCardByUserId();\n                _context.next = 16;\n                break;\n\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](3);\n                dialogService.toast(_context.t0.message);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 13]]);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }(),\n    // 数据初始化\n    dataInit: function dataInit() {\n      this.page = 1;\n      this.comment = '';\n      this.article = {};\n      this.comments = [];\n      this.submit = false;\n      this.loadMore = true;\n      this.shareMan = null;\n      this.commentNum = null;\n      this.searchBarFixed = false;\n    },\n    // 获取文章详情\n    getArticleDetail: function () {\n      var _getArticleDetail = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var res, shareId;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Article.getArticleById(this.$route.params.id);\n\n              case 2:\n                res = _context2.sent;\n\n                if (!(res.status !== 0)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 5:\n                this.isShowArticleDetai = false;\n                this.author = res.data.author;\n                delete res.data.author;\n                this.article = res.data; // 分享配置\n\n                shareId = this.$route.params.shareId;\n                this.shareOptions = sdkService.articleConfig(this.article, shareId);\n                sdkService.share(this.shareOptions);\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getArticleDetail() {\n        return _getArticleDetail.apply(this, arguments);\n      }\n\n      return getArticleDetail;\n    }(),\n    // 获取推荐文章\n    getRecommand: function () {\n      var _getRecommand = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return Article.getRecommand(this.article.article_category_uuid);\n\n              case 2:\n                res = _context3.sent;\n\n                if (!(res.status !== 0)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 5:\n                this.recommand = res.data;\n                this.recommand.forEach(function (item) {\n                  if (item.cover.indexOf('[') > -1) {\n                    item.cover_path = JSON.parse(item.cover)[0];\n                  }\n                });\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getRecommand() {\n        return _getRecommand.apply(this, arguments);\n      }\n\n      return getRecommand;\n    }(),\n    // 获取名片信息\n    getCardByUserId: function () {\n      var _getCardByUserId = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.$route.params.shareId) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", false);\n\n              case 2:\n                _context4.next = 4;\n                return card.getCardByUserId(this.$route.params.shareId);\n\n              case 4:\n                res = _context4.sent;\n\n                if (!(res.status !== 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 7:\n                this.shareMan = res.data;\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getCardByUserId() {\n        return _getCardByUserId.apply(this, arguments);\n      }\n\n      return getCardByUserId;\n    }(),\n    //  获取评论列表 next是否翻页\n    getComment: function () {\n      var _getComment = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(next) {\n        var loading, res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                loading = next === undefined ? false : true;\n\n                if (this.loadMore) {\n                  _context5.next = 3;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", false);\n\n              case 3:\n                if (next) this.page++;\n                _context5.next = 6;\n                return Article.getComment(this.$route.params.id, this.page);\n\n              case 6:\n                res = _context5.sent;\n\n                if (!(res.status !== 0)) {\n                  _context5.next = 9;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 9:\n                this.commentNum = res.data.total;\n                this.comments = this.comments.concat(res.data.data);\n                this.loadMore = this.comments.length !== res.data.total;\n                this.isShowComment = false;\n\n              case 13:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getComment(_x) {\n        return _getComment.apply(this, arguments);\n      }\n\n      return getComment;\n    }(),\n    // input变长\n    showInput: function showInput() {\n      var _this = this;\n\n      this.submit = true;\n      setTimeout(function () {\n        _this.$refs.myinput.scrollIntoView(true);\n      }, 100);\n    },\n    // input变小\n    closeSubmit: function closeSubmit() {\n      this.submit = false;\n    },\n    //  发表评论\n    sendComment: function sendComment() {\n      if (this.user) {\n        var _self = this;\n\n        var comment = this.comment.trim();\n\n        if (!comment) {\n          dialogService.toast('评论内容不能为空');\n          return false;\n        } else {\n          this.comment = '';\n          Article.addcomment(this.$route.params.id, comment).then(function (res) {\n            if (res.status === 0) {\n              _self.refreshComments(res.data);\n            } else {\n              throw new Error(res.message);\n            }\n          }).catch(function (err) {\n            dialogService.toast(err.message);\n          });\n        }\n      } else {\n        guideService.login();\n      }\n    },\n    //  发表评论后刷新评论\n    refreshComments: function () {\n      var _refreshComments = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(item) {\n        var page;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.loadMore = true;\n                page = this.page;\n                this.page = 1;\n                this.comments.unshift(item);\n                this.comment = '';\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function refreshComments(_x2) {\n        return _refreshComments.apply(this, arguments);\n      }\n\n      return refreshComments;\n    }(),\n    //  滚动到评论区/顶部\n    toggleToComment: function toggleToComment() {\n      var _this2 = this;\n\n      var scrollY = document.getElementsByClassName('comment-top')[0].getBoundingClientRect().height - this.windowHeight * 0.65;\n      var end = null; // 热门评论出现在视野中就需要向上滚动 1表示滚动到评论区   0表示滚动道顶部\n\n      if (this.scrollLength + this.windowHeight > scrollY) {\n        this.scrollStatus = 0;\n        end = 0 - this.scrollLength;\n      } else {\n        this.scrollStatus = 1;\n        end = scrollY - this.scrollLength;\n      }\n\n      var step = parseInt(end / 100); //步长\n\n      var num = 0; // 累计步长\n\n      var timer = setInterval(function () {\n        if (Math.abs(num) < Math.abs(end)) {\n          window.scrollBy(0, step);\n          num += step;\n        } else {\n          _this2.scrollStatus ? window.scrollTo(0, scrollY) : window.scrollTo(0, 0);\n          clearInterval(timer);\n        }\n      }, 1);\n    },\n    //  文章收藏/取消收藏\n    collect: function () {\n      var _collect = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7() {\n        var isCollect, res;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this.user) {\n                  _context7.next = 17;\n                  break;\n                }\n\n                isCollect = !this.article.is_favorite;\n                _context7.prev = 2;\n                _context7.next = 5;\n                return Article.collect(this.article.uuid, isCollect);\n\n              case 5:\n                res = _context7.sent;\n\n                if (!(res.status !== 0)) {\n                  _context7.next = 8;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 8:\n                this.article.is_favorite = isCollect;\n                dialogService.toast(isCollect ? '收藏成功' : '取消收藏');\n                _context7.next = 15;\n                break;\n\n              case 12:\n                _context7.prev = 12;\n                _context7.t0 = _context7[\"catch\"](2);\n                dialogService.toast(_context7.t0.message);\n\n              case 15:\n                _context7.next = 18;\n                break;\n\n              case 17:\n                guideService.login();\n\n              case 18:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[2, 12]]);\n      }));\n\n      function collect() {\n        return _collect.apply(this, arguments);\n      }\n\n      return collect;\n    }(),\n    // 评论点赞\n    commentary: function () {\n      var _commentary = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8(item, index) {\n        var res, obj;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n\n                if (!this.user) {\n                  _context8.next = 20;\n                  break;\n                }\n\n                res = null;\n\n                if (item.is_thumb) {\n                  _context8.next = 9;\n                  break;\n                }\n\n                _context8.next = 6;\n                return Article.thumb(item.id);\n\n              case 6:\n                res = _context8.sent;\n                _context8.next = 12;\n                break;\n\n              case 9:\n                _context8.next = 11;\n                return Article.unthumb(item.id);\n\n              case 11:\n                res = _context8.sent;\n\n              case 12:\n                if (!(res.status !== 0)) {\n                  _context8.next = 14;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 14:\n                obj = this.comments[index];\n\n                if (item.is_thumb) {\n                  obj.thumb = obj.thumb - 1;\n                } else {\n                  obj.thumb = obj.thumb + 1;\n                }\n\n                obj.is_thumb = !obj.is_thumb;\n                this.$set(this.comments, index, obj);\n                _context8.next = 21;\n                break;\n\n              case 20:\n                guideService.login();\n\n              case 21:\n                _context8.next = 26;\n                break;\n\n              case 23:\n                _context8.prev = 23;\n                _context8.t0 = _context8[\"catch\"](0);\n                dialogService.toast(_context8.t0.message);\n\n              case 26:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[0, 23]]);\n      }));\n\n      function commentary(_x3, _x4) {\n        return _commentary.apply(this, arguments);\n      }\n\n      return commentary;\n    }(),\n    // 文章点赞\n    dianzan: function () {\n      var _dianzan = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee9() {\n        var res, self, num;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n\n                if (!this.user) {\n                  _context9.next = 20;\n                  break;\n                }\n\n                res = null;\n                self = this;\n\n                if (this.article.is_thumb) {\n                  _context9.next = 10;\n                  break;\n                }\n\n                _context9.next = 7;\n                return Article.thumbArticle(self.article.uuid);\n\n              case 7:\n                res = _context9.sent;\n                _context9.next = 13;\n                break;\n\n              case 10:\n                _context9.next = 12;\n                return Article.unthumbArticle(self.article.uuid);\n\n              case 12:\n                res = _context9.sent;\n\n              case 13:\n                if (!(res.status !== 0)) {\n                  _context9.next = 15;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 15:\n                num = this.article.is_thumb ? Number(this.article.thumb) - 1 : Number(this.article.thumb) + 1;\n                this.$set(this.article, 'thumb', num);\n                this.$set(this.article, 'is_thumb', !this.article.is_thumb);\n                _context9.next = 21;\n                break;\n\n              case 20:\n                guideService.login();\n\n              case 21:\n                _context9.next = 26;\n                break;\n\n              case 23:\n                _context9.prev = 23;\n                _context9.t0 = _context9[\"catch\"](0);\n                dialogService.alert(_context9.t0.message);\n\n              case 26:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[0, 23]]);\n      }));\n\n      function dianzan() {\n        return _dianzan.apply(this, arguments);\n      }\n\n      return dianzan;\n    }(),\n    //  关注名片\n    focus: function () {\n      var _focus = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee10(shareMan) {\n        var _self, shareManId, userId, res;\n\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _self = this;\n\n                if (!(!shareMan || shareMan.has_holder)) {\n                  _context10.next = 3;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\");\n\n              case 3:\n                shareManId = shareMan.card_id;\n                userId = this.user ? this.user.id : '';\n\n                if (userId) {\n                  _context10.next = 9;\n                  break;\n                }\n\n                guideService.login();\n                _context10.next = 25;\n                break;\n\n              case 9:\n                if (shareManId) {\n                  _context10.next = 13;\n                  break;\n                }\n\n                dialogService.alert('该用户还未添加信息');\n                _context10.next = 25;\n                break;\n\n              case 13:\n                _context10.prev = 13;\n                _context10.next = 16;\n                return Article.collectCard(shareManId);\n\n              case 16:\n                res = _context10.sent;\n\n                if (!(res.status !== 0)) {\n                  _context10.next = 19;\n                  break;\n                }\n\n                throw new Error(res.message);\n\n              case 19:\n                _self.shareMan.has_holder = true;\n                _context10.next = 25;\n                break;\n\n              case 22:\n                _context10.prev = 22;\n                _context10.t0 = _context10[\"catch\"](13);\n                dialogService.toast(_context10.t0.message);\n\n              case 25:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[13, 22]]);\n      }));\n\n      function focus(_x5) {\n        return _focus.apply(this, arguments);\n      }\n\n      return focus;\n    }(),\n    // 投诉\n    goComplaint: function goComplaint() {\n      if (!this.user) {\n        guideService.login();\n      } else {\n        this.$router.push({\n          path: '/article/complain',\n          query: {\n            id: this.article.uuid\n          }\n        });\n      }\n    },\n    //  跳转到名片\n    goCard: function goCard() {\n      var _this3 = this;\n\n      var id = this.$route.params.shareId || this.user.id;\n      this.isActive = true;\n      setTimeout(function () {\n        var self = _this3;\n\n        _this3.$router.push({\n          path: \"/card/detail/\".concat(id)\n        });\n      }, 200);\n    },\n    // 显示分享引导\n    showShareGuide: function showShareGuide() {\n      shareService(this.shareOptions);\n    },\n    scrolling: function scrolling(e) {\n      this.scrollLength = e;\n\n      if (e > 88) {\n        this.searchBarFixed = true;\n      } else {\n        this.searchBarFixed = false;\n      }\n    }\n  },\n  components: {\n    Wrapper: Wrapper,\n    ArticleAd: ArticleAd,\n    ArticleItem: ArticleItem,\n    ArticleHeader: ArticleHeader,\n    AppLoading: AppLoading,\n    RegisterGuid: RegisterGuid,\n    AppHeader: AppHeader\n  },\n  computed: _objectSpread({}, mapState({\n    user: function user(state) {\n      return state.user.userInfo;\n    },\n    platform: function platform(state) {\n      return state.system.platform;\n    }\n  }), {\n    paddingTop: function paddingTop() {\n      return this.platform !== 'wechat' ? '90px' : '0';\n    }\n  }),\n  watch: {\n    $route: function $route(to, from) {\n      if (to.params.id !== from.params.id) {\n        this.init();\n      }\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-if=\"isShowArticleDetai\" style=\"position:fixed;width:100%;height:100%\">\n    <AppLoading v-if=\"isShowArticleDetai\"></AppLoading>\n  </div>\n  <Wrapper @scrolling=\"scrolling\" ref=\"wraper\" :paddingTop=\"paddingTop\" v-else>\n    <AppHeader :title=\"'文章详情'\"></AppHeader>\n    <ArticleHeader v-show=\"searchBarFixed\" ref=\"header\" :input=\"shareMan||user\" :isAuthor=\"false\" :style=\"{'top': platform === 'wechat' ? '0px' : '90px'}\"></ArticleHeader>\n    <div class=\"comment-to-top\" ref=\"articleDetail\">\n      <div class=\"comment-top\">\n        <header class=\"header\">\n          {{article.title}}\n        </header>\n        <!-- 作者信息 -->\n        <ArticleHeader :input=\"author\" :isAuthor=\"true\"></ArticleHeader>\n        <div class=\"article-content\">\n          <div class=\"content\" v-html=\"article.content\">\n          </div>\n          <p>\n            版权声明:感谢作者的辛苦创作，如转载涉及版权等问题，请与我们联系处理！\n          </p>\n          <ul>\n            <li><span>阅读量{{article.pageviews||0}}</span>&nbsp;&nbsp;&nbsp;<span @click.stop=\"dianzan\"><i class=\"iconfont\" :class=\"article.is_thumb?'icon-dianzan2':'icon-dianzan1'\"></i>{{article.thumb || 0}}</span></li>\n            <li @click=\"goComplaint()\">投诉纠错</li>\n          </ul>\n        </div>\n\n        <template v-if=\"shareMan\">\n          <div class=\"title-line\">\n            <i></i>\n            <div class=\"title-font\">汇营名片</div>\n          </div>\n          <div class=\"visiting-card\" @click=\"goCard()\">\n            <div class=\"visiting-card-content\" :class=\"isActive?'active':''\">\n              <div class=\"icon\">\n                <img :src=\"shareMan ? shareMan.portrait : ''\" alt=\"\">\n              </div>\n              <div class=\"content\">\n                <h2 class=\"name\">{{shareMan ? shareMan.name : ''}}</h2>\n                <p class=\"info\">{{shareMan.profession||'其他'}}<span style=\"padding:0 20px\">|</span>{{shareMan.industry||'其他'}}</p>\n                <div class=\"desc\">{{shareMan.company || '信息未完善'}}</div>\n                <div v-if=\"(shareMan ? shareMan.id : '') !== (user ? user.id : '')\" @click.stop=\"focus(shareMan)\" class=\"button-wrapper\">\n                  <div class=\"button\" :class=\"shareMan.has_holder?'off':''\">{{shareMan.has_holder? '已收藏':'收藏'}}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n        <template v-if=\"!shareMan&&user\">\n          <div class=\"title-line\">\n            <i></i>\n            <div class=\"title-font\">汇营名片</div>\n          </div>\n          <div class=\"visiting-card\" @click=\"goCard()\">\n            <div class=\"visiting-card-content\" :class=\"isActive?'active':''\">\n              <div class=\"icon\">\n                <img :src=\"user.portrait\" alt=\"\">\n              </div>\n              <div class=\"content\">\n                <h2 class=\"name\">{{user.name}}</h2>\n                <p class=\"info\">{{user.profession||'其他'}}<span style=\"padding:0 20px\">|</span>{{user.industry||'其他'}}</p>\n                <div class=\"desc\">{{user.company || '信息未完善'}}</div>\n              </div>\n            </div>\n          </div>\n        </template>\n        <div class=\"title-line comment-title\">\n          <i></i>\n          <div class=\"title-font\">推荐文章</div>\n        </div>\n        <!-- 广告 -->\n        <ArticleAd v-if=\"article.ad\" :item=\"article.ad\"></ArticleAd>\n        <ul class=\"more-article\">\n          <router-link tag=\"li\" v-for=\"(item, index) in recommand\" :key=\"index\" :to=\"{path:`/article/detail/${item.id}`}\">\n            <ArticleItem :item=\"item\"></ArticleItem>\n          </router-link>\n        </ul>\n      </div>\n      <div id=\"comment\" ref=\"commentHot\" class=\"title-line comment-title\">\n        <i></i>\n        <div class=\"title-font\">热门评论</div>\n      </div>\n      <ul>\n        <li v-for=\"(item, index) in comments\" :key=\"index\" class=\"comment\">\n          <div class=\"avatar\">\n            <img :src=\"item.user.portrait||'/static/logo.png'\" alt=\"\">\n          </div>\n          <div class=\"comment-right\">\n            <div class=\"like\" @click=\"commentary(item,index)\">\n              <i class=\"iconfont\" :class=\"item.is_thumb?'icon-dianzan2':'icon-dianzan1'\"></i>{{item.thumb}}\n            </div>\n            <div class=\"name\">\n              {{item.user.name}}\n            </div>\n            <p class=\"detail\">\n              {{item.content}}\n            </p>\n            <div class=\"date\">\n              {{item.created_at}}\n            </div>\n          </div>\n        </li>\n      </ul>\n      <div @click=\"getComment(true)\" :class=\"loadMore?'more':'no-more'\" v-text=\"loadMore?'更多评论':'没有更多评论了'\">\n      </div>\n      <div class=\"copyright\">\n        汇脉宝营销平台提供技术支持\n      </div>\n    </div>\n    <div v-if=\"user\" class=\"submit-comment\" ref=\"footer\">\n      <div class=\"content\">\n        <div class=\"details\">\n          <!-- <p class=\"mask\" v-if=\"!user\" @click=\"verify()\"></p> -->\n          <input ref=\"myinput\" v-model=\"comment\" @blur=\"closeSubmit()\" @focus=\"showInput()\" placeholder=\"发表评论\" type=\"text\">\n        </div>\n        <div v-if=\"submit\" @click=\"sendComment()\" class=\"send\">发表</div>\n        <div v-if=\"!submit\" class=\"operate\">\n          <div class=\"icon\" @click=\"toggleToComment()\">\n            <i class=\"iconfont icon-message\"></i>\n            <span v-if=\"commentNum\" class=\"comment-num\" v-text=\"commentNum\"></span>\n          </div>\n          <div @click=\"collect()\" class=\"icon\">\n            <i class=\"iconfont icon-shoucang\" v-if=\"!article.is_favorite\"></i>\n            <i class=\"iconfont icon-shoucang1\" v-else></i>\n          </div>\n          <div class=\"icon\" @click=\"showShareGuide()\">\n            <i class=\"iconfont icon-fanhui1\"></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <RegisterGuid v-else ref=\"footer\" guidType=\"article\"></RegisterGuid>\n  </Wrapper>\n</template>\n<script>\nimport card from '../../../api/card'\nimport circle from '../../../api/circle'\nimport { mapState, mapActions } from 'vuex'\nimport Wrapper from '../../../components/Wrapper'\nimport Article from '../../../api/article/index'\nimport ArticleAd from '../../../components/ArticleAd'\nimport httpService from '../../../service/httpService'\nimport ArticleItem from '../../../components/ArticleItem'\nimport RegisterGuid from '../../../components/RegisterGuid'\nimport guideService from '../../../service/guideService.js'\nimport shareService from '../../../service/shareService.js'\nimport ArticleHeader from '../../../components/ArticleHeader'\nimport AppLoading from '../../../components/AppLoading'\nimport AppHeader from '../../../components/AppHeader'\nimport dialogService from '../../../service/dialogService'\nimport { getArticleCover, getParamsFromUrl } from '../../../utils'\nimport sdkService from '../../../service/sdkService'\n\nexport default {\n  data() {\n    return {\n      author: null, //作者信息\n      article: [], //文章内容\n      shareMan: null, //分享人\n      isActive: false,\n      recommand: [], // 推荐文章\n      comments: [], // 评论\n      commentNum: null, // 评论总数\n      loadMore: true, // 加载更多\n      submit: false, // 是否提交\n      comment: '', // 评论内容\n      page: 1,\n      scrollStatus: 1, // 1表示滚动到评论区   0表示滚动道顶部\n      searchBarFixed: false,\n      isShowArticleDetai: true,\n      scrollLength: null, // 滚动长度\n      windowHeight: null, // 可见内容高度\n      shareOptions: null // 分享配置参数\n    }\n  },\n  mounted() {\n    this.windowHeight = document.documentElement.clientHeight\n    this.init()\n  },\n  methods: {\n    async init() {\n      let self = this\n      this.isShowArticleDetai = true\n      this.scrollStatus = 1 // 1表示滚动到评论区   0表示滚动道顶部\n      try {\n        this.dataInit()\n        document.documentElement.scrollTop = 0\n        this.getComment()\n        await this.getArticleDetail()\n        this.getRecommand()\n        this.getCardByUserId()\n      } catch (err) {\n        dialogService.toast(err.message)\n      }\n    },\n    // 数据初始化\n    dataInit() {\n      this.page = 1\n      this.comment = ''\n      this.article = {}\n      this.comments = []\n      this.submit = false\n      this.loadMore = true\n      this.shareMan = null\n      this.commentNum = null\n      this.searchBarFixed = false\n    },\n    // 获取文章详情\n    async getArticleDetail() {\n      let res = await Article.getArticleById(this.$route.params.id)\n      if (res.status !== 0) {\n        throw new Error(res.message)\n      }\n      this.isShowArticleDetai = false\n      this.author = res.data.author\n      delete res.data.author\n      this.article = res.data\n      // 分享配置\n      let shareId = this.$route.params.shareId\n      this.shareOptions = sdkService.articleConfig(this.article, shareId)\n      sdkService.share(this.shareOptions)\n    },\n    // 获取推荐文章\n    async getRecommand() {\n      let res = await Article.getRecommand(this.article.article_category_uuid)\n      if (res.status !== 0) {\n        throw new Error(res.message)\n      }\n      this.recommand = res.data\n      this.recommand.forEach(item => {\n        if (item.cover.indexOf('[') > -1) {\n          item.cover_path = JSON.parse(item.cover)[0]\n        }\n      })\n    },\n    // 获取名片信息\n    async getCardByUserId() {\n      if (!this.$route.params.shareId) return false\n      let res = await card.getCardByUserId(this.$route.params.shareId)\n      if (res.status !== 0) {\n        throw new Error(res.message)\n      }\n      this.shareMan = res.data\n    },\n    //  获取评论列表 next是否翻页\n    async getComment(next) {\n      let loading = next === undefined ? false : true\n      if (!this.loadMore) return false\n      if (next) this.page++\n      let res = await Article.getComment(this.$route.params.id, this.page)\n      if (res.status !== 0) {\n        throw new Error(res.message)\n      }\n      this.commentNum = res.data.total\n      this.comments = this.comments.concat(res.data.data)\n      this.loadMore = this.comments.length !== res.data.total\n      this.isShowComment = false\n    },\n    // input变长\n    showInput() {\n      this.submit = true\n      setTimeout(() => {\n        this.$refs.myinput.scrollIntoView(true)\n      }, 100)\n    },\n    // input变小\n    closeSubmit() {\n      this.submit = false\n    },\n    //  发表评论\n    sendComment() {\n      if (this.user) {\n        let _self = this\n        let comment = this.comment.trim()\n        if (!comment) {\n          dialogService.toast('评论内容不能为空')\n          return false\n        } else {\n          this.comment = ''\n          Article.addcomment(this.$route.params.id, comment)\n            .then(res => {\n              if (res.status === 0) {\n                _self.refreshComments(res.data)\n              } else {\n                throw new Error(res.message)\n              }\n            })\n            .catch(err => {\n              dialogService.toast(err.message)\n            })\n        }\n      } else {\n        guideService.login()\n      }\n    },\n    //  发表评论后刷新评论\n    async refreshComments(item) {\n      this.loadMore = true\n      let page = this.page\n      this.page = 1\n      this.comments.unshift(item)\n      this.comment = ''\n    },\n    //  滚动到评论区/顶部\n    toggleToComment() {\n      let scrollY =\n        document\n          .getElementsByClassName('comment-top')[0]\n          .getBoundingClientRect().height -\n        this.windowHeight * 0.65\n      let end = null\n      // 热门评论出现在视野中就需要向上滚动 1表示滚动到评论区   0表示滚动道顶部\n      if (this.scrollLength + this.windowHeight > scrollY) {\n        this.scrollStatus = 0\n        end = 0 - this.scrollLength\n      } else {\n        this.scrollStatus = 1\n        end = scrollY - this.scrollLength\n      }\n      let step = parseInt(end / 100) //步长\n      let num = 0 // 累计步长\n      let timer = setInterval(() => {\n        if (Math.abs(num) < Math.abs(end)) {\n          window.scrollBy(0, step)\n          num += step  \n        } else {\n          this.scrollStatus\n            ? window.scrollTo(0, scrollY)\n            : window.scrollTo(0, 0)\n          clearInterval(timer)\n        }\n      }, 1)\n    },\n    //  文章收藏/取消收藏\n    async collect() {\n      if (this.user) {\n        let isCollect = !this.article.is_favorite\n        try {\n          let res = await Article.collect(this.article.uuid, isCollect)\n          if (res.status !== 0) {\n            throw new Error(res.message)\n          }\n          this.article.is_favorite = isCollect\n          dialogService.toast(isCollect ? '收藏成功' : '取消收藏')\n        } catch (err) {\n          dialogService.toast(err.message)\n        }\n      } else {\n        guideService.login()\n      }\n    },\n    // 评论点赞\n    async commentary(item, index) {\n      try {\n        if (this.user) {\n          let res = null\n          if (!item.is_thumb) {\n            res = await Article.thumb(item.id)\n          } else {\n            res = await Article.unthumb(item.id)\n          }\n          if (res.status !== 0) {\n            throw new Error(res.message)\n          }\n          let obj = this.comments[index]\n          if (item.is_thumb) {\n            obj.thumb = obj.thumb - 1\n          } else {\n            obj.thumb = obj.thumb + 1\n          }\n          obj.is_thumb = !obj.is_thumb\n          this.$set(this.comments, index, obj)\n        } else {\n          guideService.login()\n        }\n      } catch (err) {\n        dialogService.toast(err.message)\n      }\n    },\n    // 文章点赞\n    async dianzan() {\n      try {\n        if (this.user) {\n          let res = null\n          let self = this\n          if (!this.article.is_thumb) {\n            res = await Article.thumbArticle(self.article.uuid)\n          } else {\n            res = await Article.unthumbArticle(self.article.uuid)\n          }\n          if (res.status !== 0) {\n            throw new Error(res.message)\n          }\n          let num = this.article.is_thumb\n            ? Number(this.article.thumb) - 1\n            : Number(this.article.thumb) + 1\n          this.$set(this.article, 'thumb', num)\n          this.$set(this.article, 'is_thumb', !this.article.is_thumb)\n        } else {\n          guideService.login()\n        }\n      } catch (err) {\n        dialogService.alert(err.message)\n      }\n    },\n    //  关注名片\n    async focus(shareMan) {\n      let _self = this\n      if (!shareMan || shareMan.has_holder) return\n      let shareManId = shareMan.card_id\n      let userId = this.user ? this.user.id : ''\n      if (!userId) {\n        guideService.login()\n      } else if (!shareManId) {\n        dialogService.alert('该用户还未添加信息')\n      } else {\n        try {\n          let res = await Article.collectCard(shareManId)\n          if (res.status !== 0) {\n            throw new Error(res.message)\n          }\n          _self.shareMan.has_holder = true\n        } catch (err) {\n          dialogService.toast(err.message)\n        }\n      }\n    }, // 投诉\n    goComplaint() {\n      if (!this.user) {\n        guideService.login()\n      } else {\n        this.$router.push({\n          path: '/article/complain',\n          query: {\n            id: this.article.uuid\n          }\n        })\n      }\n    },\n    //  跳转到名片\n    goCard() {\n      let id = this.$route.params.shareId || this.user.id\n      this.isActive = true\n      setTimeout(() => {\n        let self = this\n        this.$router.push({\n          path: `/card/detail/${id}`\n        })\n      }, 200)\n    },\n    // 显示分享引导\n    showShareGuide() {\n      shareService(this.shareOptions)\n    },\n    scrolling(e) {\n      this.scrollLength = e\n      if (e > 88) {\n        this.searchBarFixed = true\n      } else {\n        this.searchBarFixed = false\n      }\n    }\n  },\n  components: {\n    Wrapper,\n    ArticleAd,\n    ArticleItem,\n    ArticleHeader,\n    AppLoading,\n    RegisterGuid,\n    AppHeader\n  },\n  computed: {\n    ...mapState({\n      user: state => state.user.userInfo,\n      platform: state => state.system.platform\n    }),\n     paddingTop: function() {\n      return this.platform !== 'wechat' ? '90px' : '0'\n    }\n  },\n  watch: {\n    $route(to, from) {\n      if (to.params.id !== from.params.id) {\n        this.init()\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>"],"sourceRoot":"src/module/article/detail"}]}