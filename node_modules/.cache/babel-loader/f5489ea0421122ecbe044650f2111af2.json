{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiang/work/hytx/hytx-rebuild/src/service/auth-guard.js","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/service/auth-guard.js","mtime":1548232599825},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { getCookie } from '@/utils';\nimport store from '../store';\n\nvar authGuard = function authGuard(to, from, next) {\n  if (to.meta.auth) {\n    var token = getCookie();\n\n    if (!token) {\n      next('/login');\n    }\n  }\n\n  if (store.state.user.userInfo && !store.state.user.userInfo.is_per && store.state.user.userInfo.is_per != undefined) {\n    if (to.path === '/index') {\n      next('/information');\n    }\n  } // 把需要缓存的路由放到数组中\n\n\n  if (to.meta.keepAlive && to.name && !store.state.system.router.includes(to.name)) {\n    store.commit('system/updateRouter', {\n      type: 'add',\n      data: to.name\n    });\n  } // 路由发生变化修改页面title\n\n\n  if (to.meta.title) {\n    document.title = to.meta.title;\n  }\n};\n\nexport default authGuard;",{"version":3,"sources":["/Users/qiang/work/hytx/hytx-rebuild/src/service/auth-guard.js"],"names":["getCookie","store","authGuard","to","from","next","meta","auth","token","state","user","userInfo","is_per","undefined","path","keepAlive","name","system","router","includes","commit","type","data","title","document"],"mappings":"AAAA,SACEA,SADF,QAEO,SAFP;AAGA,OAAOC,KAAP,MAAkB,UAAlB;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,IAAH,CAAQC,IAAZ,EAAkB;AAChB,QAAIC,KAAK,GAAGR,SAAS,EAArB;;AACA,QAAI,CAACQ,KAAL,EAAY;AACVH,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD;AACF;;AACD,MAAIJ,KAAK,CAACQ,KAAN,CAAYC,IAAZ,CAAiBC,QAAjB,IAA6B,CAACV,KAAK,CAACQ,KAAN,CAAYC,IAAZ,CAAiBC,QAAjB,CAA0BC,MAAxD,IAAkEX,KAAK,CAACQ,KAAN,CAAYC,IAAZ,CAAiBC,QAAjB,CAA0BC,MAA1B,IAAoCC,SAA1G,EAAqH;AACnH,QAAIV,EAAE,CAACW,IAAH,KAAY,QAAhB,EAA0B;AACxBT,MAAAA,IAAI,CAAC,cAAD,CAAJ;AACD;AACF,GAXmC,CAYpC;;;AACA,MACEF,EAAE,CAACG,IAAH,CAAQS,SAAR,IACAZ,EAAE,CAACa,IADH,IAEA,CAACf,KAAK,CAACQ,KAAN,CAAYQ,MAAZ,CAAmBC,MAAnB,CAA0BC,QAA1B,CAAmChB,EAAE,CAACa,IAAtC,CAHH,EAIE;AACAf,IAAAA,KAAK,CAACmB,MAAN,CAAa,qBAAb,EAAoC;AAClCC,MAAAA,IAAI,EAAE,KAD4B;AAElCC,MAAAA,IAAI,EAAEnB,EAAE,CAACa;AAFyB,KAApC;AAID,GAtBmC,CAuBpC;;;AACA,MAAIb,EAAE,CAACG,IAAH,CAAQiB,KAAZ,EAAmB;AACjBC,IAAAA,QAAQ,CAACD,KAAT,GAAiBpB,EAAE,CAACG,IAAH,CAAQiB,KAAzB;AACD;AACF,CA3BD;;AA6BA,eAAerB,SAAf","sourcesContent":["import {\n  getCookie\n} from '@/utils'\nimport store from '../store'\nconst authGuard = (to, from, next) => {\n  if (to.meta.auth) {\n    let token = getCookie()\n    if (!token) {\n      next('/login')\n    }\n  }\n  if (store.state.user.userInfo && !store.state.user.userInfo.is_per && store.state.user.userInfo.is_per != undefined) {\n    if (to.path === '/index') {\n      next('/information')\n    }\n  }\n  // 把需要缓存的路由放到数组中\n  if (\n    to.meta.keepAlive &&\n    to.name &&\n    !store.state.system.router.includes(to.name)\n  ) {\n    store.commit('system/updateRouter', {\n      type: 'add',\n      data: to.name\n    })\n  }\n  // 路由发生变化修改页面title\n  if (to.meta.title) {\n    document.title = to.meta.title\n  }\n}\n\nexport default authGuard"]}]}