{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/thread-loader/dist/cjs.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/components/Wrapper/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/components/Wrapper/index.vue","mtime":1547194169836},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/qiang/work/hytx/hytx-rebuild/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nexport default {\n  name: 'Wrapper',\n  data: function data() {\n    return {\n      header: null,\n      footer: null,\n      //   wrapperStyle: null,\n      scrollHeight: null,\n      windowHeight: null\n    };\n  },\n  props: ['paddingTop'],\n  mounted: function mounted() {\n    var pageWidth = 750;\n    var slots = this.$slots.default;\n    this.windowHeight = document.documentElement.clientHeight;\n    if (!this.$slots.default) return false;\n\n    try {\n      var vueHeader = slots.find(function (item) {\n        return item.data && item.data.ref === 'header';\n      });\n      var vueFooter = slots.find(function (item) {\n        return item.data && item.data.ref === 'footer';\n      });\n      this.header = vueHeader ? vueHeader.elm : null;\n      this.footer = vueFooter ? vueFooter.elm : null;\n    } catch (err) {// nothing\n    }\n\n    window.addEventListener('scroll', this.scrollHandler, false);\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener('scroll', this.scrollHandler, false);\n  },\n  methods: {\n    scrollHandler: function scrollHandler() {\n      var scrolled = document.documentElement.scrollTop || document.body.scrollTop;\n      this.scrollHeight = document.documentElement.scrollHeight;\n      var windowHeight = document.documentElement.clientHeight;\n      var updateWindowHeight = this.windowHeight === windowHeight;\n      this.windowHeight = updateWindowHeight ? this.windowHeight : windowHeight;\n\n      if (this.header && this.header.style.display !== 'none') {\n        this.header.style.position = scrolled <= 0 ? 'absolute' : 'fixed';\n      }\n\n      if (this.footer && this.footer.style.display !== 'none') {\n        var scrollBottom = scrolled + this.windowHeight >= this.scrollHeight;\n        this.footer.style.position = scrollBottom ? 'absolute' : 'fixed';\n      }\n\n      this.$emit('scrolling', scrolled, this.scrollHeight);\n      this.$emit('isButton', scrolled + this.windowHeight >= this.scrollHeight);\n    }\n  },\n  computed: _objectSpread({}, mapState({\n    platform: function platform(state) {\n      return state.system.platform;\n    }\n  }), {\n    wrapperStyle: function wrapperStyle() {\n      if (this.paddingTop) {\n        return {\n          'padding-top': this.paddingTop\n        };\n      } else if (this.header) {\n        return {\n          'padding-top': '100px'\n        };\n      }\n    }\n  })\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- \n    @name   Wrapper\n    @desc   滚动时固定header和footer并实时监听滚动的容器组件\n    @props\n            slot              插槽\n            scrolling         滚动时的处理函数    实时返回当前滚动位置\n            paddingTop        距离顶端高度\n-->\n\n<template>\n  <div class=\"app-wraper\" :style=\"wrapperStyle\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'Wrapper',\n  data() {\n    return {\n      header: null,\n      footer: null,\n      //   wrapperStyle: null,\n      scrollHeight: null,\n      windowHeight: null\n    }\n  },\n  props: ['paddingTop'],\n  mounted() {\n    let pageWidth = 750\n    let slots = this.$slots.default\n    this.windowHeight = document.documentElement.clientHeight\n    if (!this.$slots.default) return false\n    try {\n      let vueHeader = slots.find(\n        item => item.data && item.data.ref === 'header'\n      )\n      let vueFooter = slots.find(\n        item => item.data && item.data.ref === 'footer'\n      )\n      this.header = vueHeader ? vueHeader.elm : null\n      this.footer = vueFooter ? vueFooter.elm : null\n    } catch (err) {\n      // nothing\n    }\n    window.addEventListener('scroll', this.scrollHandler, false)\n  },\n  destroyed() {\n    window.removeEventListener('scroll', this.scrollHandler, false)\n  },\n  methods: {\n    scrollHandler() {\n      let scrolled =\n        document.documentElement.scrollTop || document.body.scrollTop\n      this.scrollHeight = document.documentElement.scrollHeight\n      let windowHeight = document.documentElement.clientHeight\n      let updateWindowHeight = this.windowHeight === windowHeight\n      this.windowHeight = updateWindowHeight ? this.windowHeight : windowHeight\n      if (this.header && this.header.style.display !== 'none') {\n        this.header.style.position = scrolled <= 0 ? 'absolute' : 'fixed'\n      }\n      if (this.footer && this.footer.style.display !== 'none') {\n        let scrollBottom = scrolled + this.windowHeight >= this.scrollHeight\n        this.footer.style.position = scrollBottom ? 'absolute' : 'fixed'\n      }\n      this.$emit('scrolling', scrolled, this.scrollHeight)\n      this.$emit('isButton', scrolled + this.windowHeight >= this.scrollHeight)\n    }\n  },\n  computed: {\n    ...mapState({\n      platform: state => state.system.platform\n    }),\n    wrapperStyle: function() {\n      if (this.paddingTop) {\n        return {\n          'padding-top': this.paddingTop\n        }\n      } else if (this.header) {\n        return {\n          'padding-top': '100px'\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.app-wraper {\n  overflow: hidden;\n  min-height: 100vh;\n  position: relative;\n  box-sizing: border-box;\n  background: #fff;\n}\n</style>"],"sourceRoot":"src/components/Wrapper"}]}