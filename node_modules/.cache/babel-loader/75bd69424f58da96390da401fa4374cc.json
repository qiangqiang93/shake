{"remainingRequest":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiang/work/hytx/hytx-rebuild/src/service/auth-guard.js","dependencies":[{"path":"/Users/qiang/work/hytx/hytx-rebuild/src/service/auth-guard.js","mtime":1547284817829},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.function.name\";\nimport { getCookie } from '@/utils';\nimport store from '../store';\n\nvar authGuard = function authGuard(to, from, next) {\n  if (to.meta.auth) {\n    var token = getCookie();\n\n    if (!token) {\n      next('/login');\n    }\n  } // 把需要缓存的路由放到数组中\n\n\n  if (to.meta.keepAlive && to.name && !store.state.system.router.includes(to.name)) {\n    store.commit('system/updateRouter', {\n      type: 'add',\n      data: to.name\n    });\n  } // 路由发生变化修改页面title\n\n\n  if (to.meta.title) {\n    document.title = to.meta.title;\n  }\n};\n\nexport default authGuard;",{"version":3,"sources":["/Users/qiang/work/hytx/hytx-rebuild/src/service/auth-guard.js"],"names":["getCookie","store","authGuard","to","from","next","meta","auth","token","keepAlive","name","state","system","router","includes","commit","type","data","title","document"],"mappings":";;;AAAA,SACEA,SADF,QAEO,SAFP;AAGA,OAAOC,KAAP,MAAkB,UAAlB;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,IAAH,CAAQC,IAAZ,EAAkB;AAChB,QAAIC,KAAK,GAAGR,SAAS,EAArB;;AACA,QAAI,CAACQ,KAAL,EAAY;AACVH,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD;AACF,GANmC,CAOpC;;;AACA,MACEF,EAAE,CAACG,IAAH,CAAQG,SAAR,IACAN,EAAE,CAACO,IADH,IAEA,CAACT,KAAK,CAACU,KAAN,CAAYC,MAAZ,CAAmBC,MAAnB,CAA0BC,QAA1B,CAAmCX,EAAE,CAACO,IAAtC,CAHH,EAIE;AACAT,IAAAA,KAAK,CAACc,MAAN,CAAa,qBAAb,EAAoC;AAClCC,MAAAA,IAAI,EAAE,KAD4B;AAElCC,MAAAA,IAAI,EAAEd,EAAE,CAACO;AAFyB,KAApC;AAID,GAjBmC,CAkBpC;;;AACA,MAAIP,EAAE,CAACG,IAAH,CAAQY,KAAZ,EAAmB;AACjBC,IAAAA,QAAQ,CAACD,KAAT,GAAiBf,EAAE,CAACG,IAAH,CAAQY,KAAzB;AACD;AACF,CAtBD;;AAwBA,eAAehB,SAAf","sourcesContent":["import {\n  getCookie\n} from '@/utils'\nimport store from '../store'\nconst authGuard = (to, from, next) => {\n  if (to.meta.auth) {\n    let token = getCookie()\n    if (!token) {\n      next('/login')\n    }\n  }\n  // 把需要缓存的路由放到数组中\n  if (\n    to.meta.keepAlive &&\n    to.name &&\n    !store.state.system.router.includes(to.name)\n  ) {\n    store.commit('system/updateRouter', {\n      type: 'add',\n      data: to.name\n    })\n  }\n  // 路由发生变化修改页面title\n  if (to.meta.title) {\n    document.title = to.meta.title\n  }\n}\n\nexport default authGuard"]}]}