{"map":"{\"version\":3,\"sources\":[\"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"7aea4072-vue-loader-template\\\"}!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/src/module/webPage/edit/index.vue?vue&type=template&id=3c2cf433&scoped=true&\",\"src/module/webPage/edit/index.vue\",\"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--12-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/thread-loader/dist/cjs.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/babel-loader/lib/index.js!/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiang/work/hytx/hytx-rebuild/src/module/webPage/edit/index.vue?vue&type=script&lang=js&\",\"/Users/qiang/work/hytx/hytx-rebuild/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiang/work/hytx/hytx-rebuild/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiang/work/hytx/hytx-rebuild/src/module/webPage/edit/index.vue\",\"/Users/qiang/work/hytx/hytx-rebuild/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/qiang/work/hytx/hytx-rebuild/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/css-loader/index.js??ref--8-oneOf-1-1!/Users/qiang/work/hytx/hytx-rebuild/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!/Users/qiang/work/hytx/hytx-rebuild/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!/Users/qiang/work/hytx/hytx-rebuild/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!/Users/qiang/work/hytx/hytx-rebuild/node_modules/css-loader/index.js??ref--8-oneOf-1-1!/Users/qiang/work/hytx/hytx-rebuild/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!/Users/qiang/work/hytx/hytx-rebuild/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!/Users/qiang/work/hytx/hytx-rebuild/src/module/webPage/edit/index.scss?vue&type=style&index=0&id=3c2cf433&lang=scss&scoped=true&\",\"/Users/qiang/work/hytx/hytx-rebuild/node_modules/url-loader/dist/cjs.js??ref--1-0!/Users/qiang/work/hytx/hytx-rebuild/src/module/webPage/edit/2.png\"],\"names\":[\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"ref\",\"attrs\",\"canEdit\",\"on\",\"actions\",\"staticClass\",\"style\",\"bgcolor\",\"click\",\"$event\",\"stopPropagation\",\"isSample\",\"_v\",\"_e\",\"directives\",\"name\",\"rawName\",\"value\",\"expression\",\"type\",\"placeholder\",\"maxlength\",\"domProps\",\"input\",\"target\",\"composing\",\"pageTitle\",\"_l\",\"item\",\"index\",\"isShow\",\"key\",\"datalen\",\"datas\",\"length\",\"upload\",\"showSelect\",\"operateType\",\"operateComponent\",\"indexa\",\"url\",\"data\",\"ablum\",\"close\",\"closeScale\",\"closeHandle\",\"staticStyle\",\"width\",\"src\",\"__webpack_require__\",\"alt\",\"staticRenderFns\",\"editvue_type_script_lang_js_\",\"addIndex\",\"id\",\"idArr\",\"cloneUserId\",\"windowHeight\",\"showCloneDialog\",\"cloneId\",\"vuexCloneId\",\"isSave\",\"mounted\",\"_mounted\",\"_asyncToGenerator\",\"regenerator_default\",\"a\",\"mark\",\"_callee\",\"hasCard\",\"cardInfo\",\"res\",\"wrap\",\"_context\",\"prev\",\"next\",\"$route\",\"params\",\"editInit\",\"isEditVideo\",\"isPurchase\",\"clonePage\",\"JSON\",\"stringify\",\"parse\",\"content\",\"some\",\"httpService\",\"get\",\"user_id\",\"user\",\"sent\",\"forEach\",\"infos\",\"jobs\",\"profession\",\"company\",\"avatar\",\"href\",\"portrait\",\"map\",\"el\",\"children\",\"ele\",\"isSliderItem\",\"title\",\"background\",\"components\",\"split\",\"document\",\"documentElement\",\"offsetHeight\",\"stop\",\"apply\",\"arguments\",\"methods\",\"_objectSpread\",\"Object\",\"vuex_esm\",\"path\",\"goods\",\"img\",\"isAddSuperLink\",\"video\",\"action\",\"toggleEdit\",\"save\",\"platform\",\"androidJS\",\"toBackView\",\"$router\",\"back\",\"reg\",\"test\",\"saveHandler\",\"editVideo\",\"tempDatas\",\"childOperation\",\"videoIndex\",\"previewGoods\",\"_editInit\",\"_callee2\",\"_context2\",\"abrupt\",\"concat\",\"status\",\"Error\",\"message\",\"t0\",\"dialogService\",\"alert\",\"changebgcolor\",\"x\",\"changebgpic\",\"$refs\",\"customWrapper\",\"selectComponent\",\"_this\",\"splice\",\"push\",\"$nextTick\",\"customComponents\",\"scrollIntoView\",\"temp\",\"_this2\",\"arr\",\"setTimeout\",\"editComponent\",\"delswiper\",\"i\",\"_this3\",\"dataTurnFun\",\"flag\",\"authClone\",\"subTitle\",\"it\",\"text\",\"lowPrice\",\"highPrice\",\"scale\",\"ra\",\"element\",\"_saveHandler\",\"_callee3\",\"self\",\"_context3\",\"put\",\"replace\",\"post\",\"is_clone\",\"clone_price\",\"clone_id\",\"_x\",\"computed\",\"selectShow\",\"state\",\"webPage\",\"userInfo\",\"system\",\"AppAblum\",\"appHeader\",\"CloneDialog\",\"CustomComponent\",\"ComponentHandler\",\"Wrapper\",\"beforeRouteLeave\",\"to\",\"from\",\"that\",\"go\",\"confirm\",\"ok\",\"eventBus\",\"$emit\",\"webPage_editvue_type_script_lang_js_\",\"component\",\"componentNormalizer\",\"options\",\"__file\",\"__webpack_exports__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_index_scss_vue_type_style_index_0_id_3c2cf433_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_index_scss_vue_type_style_index_0_id_3c2cf433_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"module\",\"exports\",\"p\"],\"mappings\":\"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\",\"sourcesContent\":[\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Wrapper',[_c('appHeader',{ref:\\\"header\\\",attrs:{\\\"canEdit\\\":_vm.canEdit},on:{\\\"actions\\\":_vm.actions}}),_c('div',{ref:\\\"customWrapper\\\",staticClass:\\\"custom-wrapper\\\",style:('background:'+_vm.bgcolor)},[_c('div',{ref:\\\"customComponents\\\",staticClass:\\\"custom-content\\\"},[(_vm.canEdit)?_c('div',{staticClass:\\\"samples\\\",on:{\\\"click\\\":function($event){$event.stopPropagation();_vm.isSample=true}}},[_c('i',{staticClass:\\\"iconfont icon-shipin1\\\"}),_vm._v(\\\"教程\\\")]):_vm._e(),(_vm.canEdit)?_c('div',{staticClass:\\\"title-wrapper\\\"},[_c('p',{staticClass:\\\"tName\\\"},[_vm._v(\\\"网页名称：\\\")]),_c('input',{directives:[{name:\\\"model\\\",rawName:\\\"v-model\\\",value:(_vm.pageTitle),expression:\\\"pageTitle\\\"}],attrs:{\\\"type\\\":\\\"text\\\",\\\"placeholder\\\":\\\"取个吸引人的标题，提升点击率\\\",\\\"maxlength\\\":\\\"16\\\"},domProps:{\\\"value\\\":(_vm.pageTitle)},on:{\\\"input\\\":function($event){if($event.target.composing){ return; }_vm.pageTitle=$event.target.value}}})]):_vm._e(),_vm._l((_vm.datas),function(item,index){return [(item.isShow||_vm.canEdit)?_c('CustomComponent',{key:index,attrs:{\\\"index\\\":index,\\\"datalen\\\":_vm.datas.length,\\\"item\\\":item,\\\"canEdit\\\":_vm.canEdit},on:{\\\"upload\\\":function($event){_vm.upload(index,$event)}}}):_vm._e()]})],2)]),(_vm.canEdit)?_c('div',{ref:\\\"footer\\\",staticClass:\\\"custom-round\\\",on:{\\\"click\\\":function($event){_vm.showSelect()}}},[_c('i',{staticClass:\\\"iconfont icon-hao\\\"})]):_vm._e(),_c('ComponentHandler',{directives:[{name:\\\"show\\\",rawName:\\\"v-show\\\",value:(_vm.selectShow),expression:\\\"selectShow\\\"}],attrs:{\\\"type\\\":_vm.operateType,\\\"item\\\":_vm.operateComponent,\\\"indexa\\\":_vm.indexa,\\\"url\\\":_vm.bgcolor}}),(_vm.ablum)?_c('AppAblum',{attrs:{\\\"data\\\":_vm.ablum},on:{\\\"close\\\":_vm.closeScale}}):_vm._e(),(_vm.showCloneDialog)?_c('CloneDialog',{on:{\\\"closeHandle\\\":_vm.closeHandle}}):_vm._e(),(_vm.isSample)?_c('div',{staticClass:\\\"sample\\\"},[_c('i',{staticClass:\\\"iconfont icon-bianjiyemianshanchu\\\",on:{\\\"click\\\":function($event){_vm.isSample=false}}}),_c('img',{staticStyle:{\\\"width\\\":\\\"100%\\\"},attrs:{\\\"src\\\":require(\\\"./2.png\\\"),\\\"alt\\\":\\\"\\\"}})]):_vm._e()],1)}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"<template>\\n\\n  <Wrapper>\\n    <appHeader @actions=\\\"actions\\\" :canEdit=\\\"canEdit\\\" ref=\\\"header\\\"></appHeader>\\n    <div class=\\\"custom-wrapper\\\" ref=\\\"customWrapper\\\" :style=\\\"'background:'+bgcolor\\\">\\n      <div class=\\\"custom-content\\\" ref=\\\"customComponents\\\">\\n        <div @click.stop=\\\"isSample=true\\\" class=\\\"samples\\\" v-if=\\\"canEdit\\\"><i class=\\\"iconfont icon-shipin1\\\"></i>教程</div>\\n        <div class=\\\"title-wrapper\\\" v-if=\\\"canEdit\\\">\\n          <p class=\\\"tName\\\">网页名称：</p>\\n          <input type=\\\"text\\\" v-model=\\\"pageTitle\\\" placeholder=\\\"取个吸引人的标题，提升点击率\\\" maxlength=\\\"16\\\">\\n        </div>\\n        <template v-for=\\\"(item, index) in datas\\\">\\n          <CustomComponent v-if=\\\"item.isShow||canEdit\\\" :key=\\\"index\\\" :index=\\\"index\\\" :datalen=\\\"datas.length\\\" :item=\\\"item\\\" :canEdit=\\\"canEdit\\\" @upload=\\\"upload(index,$event)\\\"></CustomComponent>\\n        </template>\\n        <!-- <div class=\\\"add-template\\\" @click=\\\"showSelect()\\\" v-if=\\\"datas.length===0\\\">\\n          <a @click.stop=\\\"isSample=true\\\">示例</a>\\n          <div>\\n            <img src=\\\"./text.png\\\" alt=\\\"\\\">\\n            <p>点击添加模块</p>\\n          </div>\\n        </div> -->\\n      </div>\\n    </div>\\n    <div class=\\\"custom-round\\\" v-if=\\\"canEdit\\\" @click=\\\"showSelect()\\\" ref=\\\"footer\\\"><i class=\\\"iconfont icon-hao\\\"></i></div>\\n    <!-- 半圆，工具图片 -->\\n    <ComponentHandler v-show=\\\"selectShow\\\" :type=\\\"operateType\\\" :item=\\\"operateComponent\\\" :indexa=\\\"indexa\\\" :url=\\\"bgcolor\\\"></ComponentHandler>\\n    <AppAblum v-if=\\\"ablum\\\" :data=\\\"ablum\\\" @close=\\\"closeScale\\\"></AppAblum>\\n    <CloneDialog v-if=\\\"showCloneDialog\\\" @closeHandle=\\\"closeHandle\\\"></CloneDialog>\\n    <div class=\\\"sample\\\" v-if=\\\"isSample\\\">\\n      <i class=\\\"iconfont icon-bianjiyemianshanchu\\\" @click=\\\"isSample=false\\\"></i>\\n      <img src=\\\"./2.png\\\" alt=\\\"\\\" style=\\\"width:100%;\\\">\\n    </div>\\n  </Wrapper>\\n\\n</template>\\n\\n<script>\\n// import html2canvas from 'html2canvas'\\nimport appHeader from '../components/appHeader/index'\\nimport AppAblum from '@/components/AppAblum'\\nimport eventBus from '@/utils/eventBus'\\nimport { mapState, mapActions } from 'vuex'\\nimport httpService from '@/service/httpService'\\nimport CloneDialog from '@/components/CloneDialog'\\nimport dialogService from '@/service/dialogService'\\nimport CustomComponent from '@/components/CustomComponent'\\nimport ComponentHandler from '@/components/ComponentHandler'\\nimport Wrapper from '@/components/Wrapper'\\n\\nexport default {\\n  name: 'webPageEdit',\\n  data() {\\n    return {\\n      addIndex: null, // 添加组件到指定位置\\n      id: null,\\n      idArr: [], //\\n      datas: [], //clonePage的content\\n      ablum: null,\\n      canEdit: true,\\n      pageTitle: '',\\n      operateType: null,\\n      operateComponent: null,\\n      indexa: null,\\n      bgcolor: 'fff', // 背景颜色\\n      isSample: false, // 是否显示示列\\n      cloneUserId: null, // 克隆模板主人id\\n      windowHeight: null, // offsetHeight\\n      showCloneDialog: false, // 是否显示克隆设置\\n      cloneId: this.vuexCloneId, // 克隆id\\n      isSave: false //提示还没保存\\n    }\\n  },\\n  async mounted() {\\n    let _self = this\\n    this['webPage/updateSelectShow'](false)\\n    this['webPage/updateCloneId'](null)\\n    if (this.$route.params.id) {\\n      this.editInit()\\n    } else {\\n      this.isEditVideo()\\n      this.isPurchase()\\n      if (this.clonePage !== null && JSON.stringify(this.clonePage) !== '{}') {\\n        let data = JSON.parse(this.clonePage.content)\\n        // 如果数据中包含了名片信息，则替换名片信息\\n        let hasCard = data.some(item => item.type === 'baseInfo')\\n        if (hasCard) {\\n          let cardInfo = null\\n          if (this.cardInfo) {\\n            cardInfo = this.cardInfo\\n          } else {\\n            // 获取名片信息\\n            let res = await httpService.get('/front/card', {\\n              user_id: this.user.id\\n            })\\n            cardInfo = res.data\\n            this['webPage/updateCardInfo'](res.data)\\n          }\\n          data.forEach(item => {\\n            if (item.type === 'baseInfo') {\\n              item.infos.name = cardInfo.name\\n              item.infos.jobs = cardInfo.profession\\n              item.infos.company = cardInfo.company\\n              item.infos.avatar.href = cardInfo.portrait\\n            }\\n          })\\n        }\\n        this.datas = data\\n        // 解决修改已保存的自定义网页时，没上传6张图片时没显示6个点的问题\\n        this.datas.map(el => {\\n          if (el.type === 'slider') {\\n            el.children.map(ele => {\\n              ele.isSliderItem = true\\n            })\\n          }\\n        })\\n        this.pageTitle = this.clonePage.title\\n        this.bgcolor = this.clonePage.background\\n        this.cloneUserId = this.clonePage.user_id\\n        this.idArr =\\n          this.clonePage.components && this.clonePage.components.split(',')\\n        this['webPage/updateClonePage']({\\n          type: 'clean',\\n          data: {}\\n        })\\n      } else {\\n        // nothing\\n      }\\n    }\\n    this.windowHeight = document.documentElement.offsetHeight\\n    // window.addEventListener('resize', this.onResize)\\n  },\\n  methods: {\\n    ...mapActions([\\n      'webPage/updateSelectShow',\\n      'webPage/updateEditVideo',\\n      'webPage/updateTempDatas',\\n      'webPage/updateVideoIndex',\\n      'webPage/updateCardInfo',\\n      'webPage/updateCloneId',\\n      'webPage/updateClonePage',\\n      'webPage/updatePreviewGoods',\\n      'system/updateRouter',\\n      'system/updateCropper'\\n    ]),\\n    // 新上传图片\\n    upload(index, data) {\\n      if (this.datas[index].type === 'baseInfo') {\\n        this.datas[index].infos.avatar.href = data.path\\n      } else if (this.datas[index].type === 'goods') {\\n        this.datas[index].goods[data.index].img.src = data.path\\n        // 解决没有添加图片就不可以添加超链接\\n        this.datas[index].isAddSuperLink = true\\n      } else if (this.datas[index].type === 'video') {\\n        this.datas[index].video.img.src = data.path\\n        // 解决没有添加图片就不可以添加超链接\\n        this.datas[index].isAddSuperLink = true\\n      } else {\\n        this.datas[index].children[data.index].img.src = data.path\\n        // 解决没有添加图片就不可以添加超链接\\n        this.datas[index].isAddSuperLink = true\\n      }\\n    },\\n    actions(action) {\\n      if (action == 'review') {\\n        this.toggleEdit()\\n      } else if (action == 'save') {\\n        this.save()\\n      } else if (action == 'back') {\\n        if (this.platform === 'android') {\\n          androidJS.toBackView()\\n        } else {\\n          this.$router.back()\\n        }\\n      }\\n    },\\n    // 克隆弹出层\\n    closeHandle(input) {\\n      if (input) {\\n        let reg = /\\\\/tools\\\\/personal\\\\/customTemplate/\\n        if (reg.test(this.$route.path)) {\\n          this.saveHandler(input)\\n          this.showCloneDialog = false\\n        } else {\\n          this.saveHandler(input)\\n          this.showCloneDialog = false\\n        }\\n      } else {\\n        this.showCloneDialog = false\\n      }\\n    },\\n    // 判断是否处于编辑视频状态\\n    isEditVideo() {\\n      if (this.editVideo) {\\n        this.datas = this.tempDatas\\n        this.childOperation('addVideo', this.videoIndex)\\n        this['webPage/updateEditVideo'](false)\\n        this['webPage/updateTempDatas'](null)\\n        this['webPage/updateVideoIndex'](null)\\n        return false\\n      } else {\\n        return true\\n      }\\n    },\\n    // 判断是否点击立即购买\\n    isPurchase() {\\n      if (this.previewGoods) {\\n        this.datas = this.tempDatas\\n        this.canEdit = false\\n        this['webPage/updatePreviewGoods'](false)\\n        return false\\n      } else {\\n        return true\\n      }\\n    },\\n    // 如果是编辑的情况\\n    async editInit() {\\n      this.id = this.$route.params.id\\n      if (!this.isEditVideo()) {\\n        return false\\n      }\\n      if (!this.isPurchase()) {\\n        return false\\n      }\\n      try {\\n        let res = await httpService.get(\\n          `/front/personal_page/customs/${this.id}`\\n        )\\n        if (res.status !== 0) throw new Error(res.message)\\n        this.datas = JSON.parse(res.data.content)\\n        // 解决修改已保存的自定义网页时，没上传6张图片时没显示6个点的问题\\n        this.datas.map(el => {\\n          if (el.type === 'slider') {\\n            el.children.map(ele => {\\n              ele.isSliderItem = true\\n            })\\n          }\\n        })\\n        this.pageTitle = res.data.title\\n        this.bgcolor = res.data.background\\n      } catch (err) {\\n        dialogService.alert(err.message)\\n      }\\n    },\\n    // 改变背景颜色\\n    changebgcolor(x) {\\n      this.bgcolor = x\\n    },\\n    // 改变背景颜色\\n    changebgpic(x) {\\n      this.$refs.customWrapper.style.background = `url(' ${x} ') no-repeat fixed center / 100% 100%`\\n      this.bgcolor = `url(' ${x} ') no-repeat fixed center / 100% 100%`\\n    },\\n    // 显示组件选择\\n    showSelect() {\\n      this['webPage/updateSelectShow'](true)\\n      this.operateType = 'component'\\n    },\\n    // 子组件添加一个组件\\n    selectComponent(item) {\\n      if (item.type === 'slider') {\\n        item.children.forEach((ele, index) => {\\n          ele.isSliderItem = true\\n        })\\n      }\\n      if (this.addIndex) {\\n        this.datas.splice(this.addIndex, 0, item)\\n        this.addIndex = null\\n      } else {\\n        this.datas.push(item)\\n      }\\n      this.$nextTick(() => {\\n        this.$refs.customComponents.scrollIntoView(false)\\n      })\\n    },\\n    // 子组件的操作[上移、下移、删除、置顶、切换布局、添加超链接]\\n    childOperation(type, index) {\\n      let temp\\n      let arr = JSON.parse(JSON.stringify(this.datas))\\n      this.datas = []\\n      switch (type) {\\n        case 'moveUp':\\n          temp = arr[index - 1]\\n          arr.splice(index - 1, 1, arr[index])\\n          arr.splice(index, 1, temp)\\n          setTimeout(() => {\\n            this.datas = arr\\n          })\\n          break\\n        case 'moveDown':\\n          temp = arr[index + 1]\\n          arr.splice(index + 1, 1, arr[index])\\n          arr.splice(index, 1, temp)\\n          setTimeout(() => {\\n            this.datas = arr\\n          })\\n          break\\n        case 'addComponent':\\n          this.addIndex = index + 1\\n          this.showSelect()\\n          setTimeout(() => {\\n            this.datas = arr\\n          })\\n          break\\n        case 'delete':\\n          arr.splice(index, 1)\\n          setTimeout(() => {\\n            this.datas = arr\\n          })\\n          break\\n        case 'toggleLayout':\\n          this['webPage/updateSelectShow'](true)\\n          this.operateType = 'layout'\\n          this.operateComponent = arr[index]\\n          this.indexa = index\\n          this.datas = arr\\n          break\\n        case 'addSuperLink':\\n          this['webPage/updateSelectShow'](true)\\n          this.operateType = 'superLink'\\n          this.indexa = index\\n          this.operateComponent = arr[index]\\n          this.datas = arr\\n          break\\n        case 'addVideo':\\n          this['webPage/updateSelectShow'](true)\\n          this.operateType = 'video'\\n          this.operateComponent = arr[index]\\n          this.indexa = index\\n          this.datas = arr\\n          break\\n        default:\\n        // nothing\\n      }\\n    },\\n    // 子组件调用，内容修改（包含切换布局和添加链接）\\n    editComponent(index, item) {\\n      this.datas.splice(index, 1, item)\\n    },\\n    // 删除swiper图\\n    delswiper(index, i) {\\n      this.datas[index].children[i].img.src = ''\\n    },\\n    // 预览\\n    toggleEdit() {\\n      if (this.datas.length === 0) {\\n        dialogService.alert('未添加编辑模块内容')\\n        return\\n      }\\n      if (this.canEdit) {\\n        this.dataTurnFun()\\n      } else {\\n        this.datas = this.datas.map(item => {\\n          item.isShow = true\\n          if (item.type === 'slider') {\\n            item.children.forEach((ele, index) => {\\n              ele.isSliderItem = true\\n            })\\n          }\\n          return item\\n        })\\n      }\\n      let temp = JSON.parse(JSON.stringify(this.datas))\\n      this.datas = []\\n      setTimeout(() => {\\n        this.datas = temp\\n      })\\n      this.canEdit = !this.canEdit\\n    },\\n    // 保存\\n    save() {\\n      let self = this\\n      let flag = false\\n      this.dataTurnFun()\\n      flag = this.datas.some(item => item.isShow)\\n      if (this.datas.length < 1 || !flag) {\\n        this.datas.map(el => {\\n          if (el.type === 'slider') {\\n            el.children.map(ele => {\\n              ele.isSliderItem = true\\n            })\\n          }\\n        })\\n        dialogService.alert('请填写内容')\\n        return\\n      } else if (this.pageTitle.length === 0) {\\n        dialogService.alert('请输入网页名称')\\n        return\\n      } else {\\n        // nothing\\n      }\\n      // 判断是否允许克隆\\n      if (!this.id) {\\n        this.authClone()\\n      } else {\\n        this.saveHandler()\\n      }\\n    },\\n    // 数据校验、不填写的数据不显示\\n    dataTurnFun() {\\n      let idArr = []\\n      let datas = this.datas.map(item => {\\n        idArr.push(item.id)\\n        if (item.type === 'title') {\\n          item.isShow = item.title || item.subTitle\\n        } else if (item.type === 'baseInfo') {\\n          item.isShow =\\n            item.infos.name ||\\n            item.infos.jobs ||\\n            item.infos.avatar.href ||\\n            item.infos.company\\n        } else if (item.type === 'text') {\\n          item.isShow = item.children.some(it => {\\n            return it.text\\n          })\\n        } else if (item.type === 'slider') {\\n          item.children.forEach((ele, index) => {\\n            ele.isSliderItem = !ele.img.src ? false : true\\n          })\\n          item.isShow = item.children.some(it => {\\n            return it.img.src\\n          })\\n        } else if (item.type === 'goods') {\\n          item.isShow = item.goods.some(it => {\\n            // 解决只有it.type = 'text' 时img为null没有it.img.src就会报错\\n            let src = it.img.src\\n            return it.title || it.lowPrice || it.highPrice || src\\n          })\\n        } else if (item.type === 'video') {\\n          item.isShow =\\n            item.video.title || item.video.content || item.video.img.src\\n        } else {\\n          item.isShow = item.children.some(it => {\\n            // 解决只有it.type = 'text' 时img为null没有it.img.src就会报错\\n            let src = it.img ? it.img.src : it.img\\n            return it.text || src\\n          })\\n        }\\n        return item\\n      })\\n      this.idArr = idArr\\n      this.datas = datas\\n    },\\n    // 相册\\n    scale(index, i, ra) {\\n      let ablum = []\\n      if (i === 'baseInfo') {\\n        ablum = [this.datas[index].infos.avatar.href]\\n        i = 0\\n      } else if (ra === 'goods') {\\n        ablum = [this.datas[index].goods.img.src]\\n      } else {\\n        this.datas[index].children.forEach(element => {\\n          if (element.type !== 'text') {\\n            if (element.type === 'slider') {\\n              if (element.isSliderItem) {\\n                ablum.push(element.img)\\n              }\\n            } else {\\n              ablum.push(element.img)\\n            }\\n          }\\n        })\\n      }\\n      // slide的时候bug\\n      if (i > ablum.length - 1) {\\n        i = ablum.length - 1\\n      }\\n      this.ablum = {\\n        ablum: ablum,\\n        index: i\\n      }\\n    },\\n    // 关闭相册\\n    closeScale() {\\n      this.ablum = null\\n    },\\n    // 授权是否允许克隆\\n    authClone() {\\n      let _self = this\\n      this.showCloneDialog = true\\n    },\\n    // 保存提交\\n    async saveHandler(input) {\\n      try {\\n        let res = null\\n        let self = this\\n        // 生成封面\\n        // let cover = await html2canvas(document.querySelector('html'))\\n        // cover = cover.toDataURL('image/jpeg')\\n\\n        if (this.id) {\\n          res = await httpService.put(\\n            `/front/personal_page/customs/${this.id}`,\\n            {\\n              //   cover,\\n              title: this.pageTitle,\\n              components: this.idArr,\\n              background: this.bgcolor,\\n              content: JSON.stringify(this.datas)\\n            }\\n          )\\n          if (res.status !== 0) throw new Error(res.message)\\n          // 修改成功后操作\\n          self.isSave = true\\n          dialogService.alert('修改成功')\\n          if (this.platform === 'android') {\\n            androidJS.toBackView()\\n          } else {\\n            self.$router.replace({\\n              path: '/webPage/mine'\\n            })\\n          }\\n        } else {\\n          res = await httpService.post('/front/personal_page/customs', {\\n            // cover,\\n            is_clone: input.is_clone,\\n            clone_price: input.clone_price,\\n            title: this.pageTitle,\\n            components: this.idArr,\\n            clone_id: this.cloneId,\\n            background: this.bgcolor,\\n            content: JSON.stringify(this.datas)\\n          })\\n          if (res.status !== 0) throw new Error(res.message)\\n          self.isSave = true\\n          dialogService.alert('保存成功')\\n          if (this.platform === 'android') {\\n            androidJS.toBackView()\\n          } else {\\n            self.$router.replace({\\n              path: '/webPage/mine'\\n            })\\n          }\\n        }\\n      } catch (err) {\\n        dialogService.alert(err.message)\\n      }\\n    }\\n  },\\n  computed: {\\n    ...mapState({\\n      selectShow: state => state.webPage.selectShow,\\n      cardInfo: state => state.webPage.cardInfo,\\n      editVideo: state => state.webPage.editVideo,\\n      tempDatas: state => state.webPage.tempDatas,\\n      videoIndex: state => state.webPage.videoIndex,\\n      clonePage: state => state.webPage.clonePage,\\n      vuexCloneId: state => state.webPage.cloneId,\\n      previewGoods: state => state.webPage.previewGoods,\\n      user: state => state.user.userInfo,\\n      platform: state => state.system.platform\\n    })\\n  },\\n  components: {\\n    AppAblum,\\n    appHeader,\\n    CloneDialog,\\n    CustomComponent,\\n    ComponentHandler,\\n    Wrapper\\n  },\\n  //   beforeRouteLeave(to, from, next) {\\n  //     if (to.fullPath === '/tools/personal' && this.datas.length) {\\n  //       next(false)\\n  //       dialogService.confirm({\\n  //         msg: '您还没保存，确定要离开？',\\n  //         onConfirm: function() {\\n  //           eventBus.$emit('closeCropper')\\n  //           next()\\n  //         }\\n  //       })\\n  //     } else {\\n  //       next()\\n  //     }\\n  //   }\\n  beforeRouteLeave(to, from, next) {\\n    let that = this\\n    if (to.path == '/cropper') {\\n      next()\\n      return\\n    }\\n    if (!this.isSave) {\\n      next(false)\\n      dialogService.confirm('您还没保存，确定要离开？', ok => {\\n        if (ok) {\\n          eventBus.$emit('closeCropper')\\n          // 离开清除缓存\\n          if (to.path !== '/cropper') {\\n            that['system/updateRouter']({\\n              type: 'del',\\n              data: 'webPageEdit'\\n            })\\n          }\\n          if (to.path == '/pay') {\\n            that.$router.go(-2)\\n          }\\n          next()\\n        }\\n      })\\n    } else {\\n      // 离开清除缓存\\n      if (to.path !== '/cropper') {\\n        that['system/updateRouter']({\\n          type: 'del',\\n          data: 'webPageEdit'\\n        })\\n      }\\n      if (to.path == '/pay') {\\n        that.$router.go(-2)\\n      }\\n      next()\\n    }\\n  }\\n}\\n</script>\\n\\n<style lang=\\\"scss\\\" src=\\\"./index.scss\\\" scoped>\\n</style>\\n\",\"import mod from \\\"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\\\"\",\"import { render, staticRenderFns } from \\\"./index.vue?vue&type=template&id=3c2cf433&scoped=true&\\\"\\nimport script from \\\"./index.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./index.vue?vue&type=script&lang=js&\\\"\\nimport style0 from \\\"./index.scss?vue&type=style&index=0&id=3c2cf433&lang=scss&scoped=true&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  \\\"3c2cf433\\\",\\n  null\\n  \\n)\\n\\ncomponent.options.__file = \\\"index.vue\\\"\\nexport default component.exports\",\"import mod from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!./index.scss?vue&type=style&index=0&id=3c2cf433&lang=scss&scoped=true&\\\"; export default mod; export * from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!./index.scss?vue&type=style&index=0&id=3c2cf433&lang=scss&scoped=true&\\\"\",\"module.exports = __webpack_public_path__ + \\\"img/2.9dd18650.png\\\";\"]}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-518a9d5b\"],{\"1bd8\":function(e,t,a){\"use strict\";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"Wrapper\",[i(\"appHeader\",{ref:\"header\",attrs:{canEdit:e.canEdit},on:{actions:e.actions}}),i(\"div\",{ref:\"customWrapper\",staticClass:\"custom-wrapper\",style:\"background:\"+e.bgcolor},[i(\"div\",{ref:\"customComponents\",staticClass:\"custom-content\"},[e.canEdit?i(\"div\",{staticClass:\"samples\",on:{click:function(t){t.stopPropagation(),e.isSample=!0}}},[i(\"i\",{staticClass:\"iconfont icon-shipin1\"}),e._v(\"教程\")]):e._e(),e.canEdit?i(\"div\",{staticClass:\"title-wrapper\"},[i(\"p\",{staticClass:\"tName\"},[e._v(\"网页名称：\")]),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.pageTitle,expression:\"pageTitle\"}],attrs:{type:\"text\",placeholder:\"取个吸引人的标题，提升点击率\",maxlength:\"16\"},domProps:{value:e.pageTitle},on:{input:function(t){t.target.composing||(e.pageTitle=t.target.value)}}})]):e._e(),e._l(e.datas,function(t,a){return[t.isShow||e.canEdit?i(\"CustomComponent\",{key:a,attrs:{index:a,datalen:e.datas.length,item:t,canEdit:e.canEdit},on:{upload:function(t){e.upload(a,t)}}}):e._e()]})],2)]),e.canEdit?i(\"div\",{ref:\"footer\",staticClass:\"custom-round\",on:{click:function(t){e.showSelect()}}},[i(\"i\",{staticClass:\"iconfont icon-hao\"})]):e._e(),i(\"ComponentHandler\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.selectShow,expression:\"selectShow\"}],attrs:{type:e.operateType,item:e.operateComponent,indexa:e.indexa,url:e.bgcolor}}),e.ablum?i(\"AppAblum\",{attrs:{data:e.ablum},on:{close:e.closeScale}}):e._e(),e.showCloneDialog?i(\"CloneDialog\",{on:{closeHandle:e.closeHandle}}):e._e(),e.isSample?i(\"div\",{staticClass:\"sample\"},[i(\"i\",{staticClass:\"iconfont icon-bianjiyemianshanchu\",on:{click:function(t){e.isSample=!1}}}),i(\"img\",{staticStyle:{width:\"100%\"},attrs:{src:a(\"b47b\"),alt:\"\"}})]):e._e()],1)},n=[],s=a(\"a34a\"),o=a.n(s),r=a(\"d31b\"),c=a(\"7d03\"),d=a(\"986e\"),u=a(\"2f62\"),l=a(\"a8cd\"),p=a(\"137a\"),h=a(\"3b8e\"),f=a(\"1b4c\"),m=a(\"6490\"),g=a(\"dd8f\");function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);\"function\"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){w(e,t,a[t])})}return e}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e,t,a,i,n,s,o){try{var r=e[s](o),c=r.value}catch(d){return void a(d)}r.done?t(c):Promise.resolve(c).then(i,n)}function S(e){return function(){var t=this,a=arguments;return new Promise(function(i,n){var s=e.apply(t,a);function o(e){v(s,i,n,o,r,\"next\",e)}function r(e){v(s,i,n,o,r,\"throw\",e)}o(void 0)})}}var y={name:\"webPageEdit\",data:function(){return{addIndex:null,id:null,idArr:[],datas:[],ablum:null,canEdit:!0,pageTitle:\"\",operateType:null,operateComponent:null,indexa:null,bgcolor:\"fff\",isSample:!1,cloneUserId:null,windowHeight:null,showCloneDialog:!1,cloneId:this.vuexCloneId,isSave:!1}},mounted:function(){var e=S(o.a.mark(function e(){var t,a,i,n;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this,this[\"webPage/updateSelectShow\"](!1),this[\"webPage/updateCloneId\"](null),!this.$route.params.id){e.next=7;break}this.editInit(),e.next=33;break;case 7:if(this.isEditVideo(),this.isPurchase(),null===this.clonePage||\"{}\"===JSON.stringify(this.clonePage)){e.next=33;break}if(t=JSON.parse(this.clonePage.content),a=t.some(function(e){return\"baseInfo\"===e.type}),!a){e.next=24;break}if(i=null,!this.cardInfo){e.next=18;break}i=this.cardInfo,e.next=23;break;case 18:return e.next=20,l[\"a\"].get(\"/front/card\",{user_id:this.user.id});case 20:n=e.sent,i=n.data,this[\"webPage/updateCardInfo\"](n.data);case 23:t.forEach(function(e){\"baseInfo\"===e.type&&(e.infos.name=i.name,e.infos.jobs=i.profession,e.infos.company=i.company,e.infos.avatar.href=i.portrait)});case 24:this.datas=t,this.datas.map(function(e){\"slider\"===e.type&&e.children.map(function(e){e.isSliderItem=!0})}),this.pageTitle=this.clonePage.title,this.bgcolor=this.clonePage.background,this.cloneUserId=this.clonePage.user_id,this.idArr=this.clonePage.components&&this.clonePage.components.split(\",\"),this[\"webPage/updateClonePage\"]({type:\"clean\",data:{}}),e.next=33;break;case 33:this.windowHeight=document.documentElement.offsetHeight;case 34:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:b({},Object(u[\"b\"])([\"webPage/updateSelectShow\",\"webPage/updateEditVideo\",\"webPage/updateTempDatas\",\"webPage/updateVideoIndex\",\"webPage/updateCardInfo\",\"webPage/updateCloneId\",\"webPage/updateClonePage\",\"webPage/updatePreviewGoods\",\"system/updateRouter\",\"system/updateCropper\"]),{upload:function(e,t){\"baseInfo\"===this.datas[e].type?this.datas[e].infos.avatar.href=t.path:\"goods\"===this.datas[e].type?(this.datas[e].goods[t.index].img.src=t.path,this.datas[e].isAddSuperLink=!0):\"video\"===this.datas[e].type?(this.datas[e].video.img.src=t.path,this.datas[e].isAddSuperLink=!0):(this.datas[e].children[t.index].img.src=t.path,this.datas[e].isAddSuperLink=!0)},actions:function(e){\"review\"==e?this.toggleEdit():\"save\"==e?this.save():\"back\"==e&&(\"android\"===this.platform?androidJS.toBackView():this.$router.back())},closeHandle:function(e){if(e){var t=/\\/tools\\/personal\\/customTemplate/;t.test(this.$route.path),this.saveHandler(e),this.showCloneDialog=!1}else this.showCloneDialog=!1},isEditVideo:function(){return!this.editVideo||(this.datas=this.tempDatas,this.childOperation(\"addVideo\",this.videoIndex),this[\"webPage/updateEditVideo\"](!1),this[\"webPage/updateTempDatas\"](null),this[\"webPage/updateVideoIndex\"](null),!1)},isPurchase:function(){return!this.previewGoods||(this.datas=this.tempDatas,this.canEdit=!1,this[\"webPage/updatePreviewGoods\"](!1),!1)},editInit:function(){var e=S(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.id=this.$route.params.id,this.isEditVideo()){e.next=3;break}return e.abrupt(\"return\",!1);case 3:if(this.isPurchase()){e.next=5;break}return e.abrupt(\"return\",!1);case 5:return e.prev=5,e.next=8,l[\"a\"].get(\"/front/personal_page/customs/\".concat(this.id));case 8:if(t=e.sent,0===t.status){e.next=11;break}throw new Error(t.message);case 11:this.datas=JSON.parse(t.data.content),this.datas.map(function(e){\"slider\"===e.type&&e.children.map(function(e){e.isSliderItem=!0})}),this.pageTitle=t.data.title,this.bgcolor=t.data.background,e.next=20;break;case 17:e.prev=17,e.t0=e[\"catch\"](5),h[\"a\"].alert(e.t0.message);case 20:case\"end\":return e.stop()}},e,this,[[5,17]])}));function t(){return e.apply(this,arguments)}return t}(),changebgcolor:function(e){this.bgcolor=e},changebgpic:function(e){this.$refs.customWrapper.style.background=\"url(' \".concat(e,\" ') no-repeat fixed center / 100% 100%\"),this.bgcolor=\"url(' \".concat(e,\" ') no-repeat fixed center / 100% 100%\")},showSelect:function(){this[\"webPage/updateSelectShow\"](!0),this.operateType=\"component\"},selectComponent:function(e){var t=this;\"slider\"===e.type&&e.children.forEach(function(e,t){e.isSliderItem=!0}),this.addIndex?(this.datas.splice(this.addIndex,0,e),this.addIndex=null):this.datas.push(e),this.$nextTick(function(){t.$refs.customComponents.scrollIntoView(!1)})},childOperation:function(e,t){var a,i=this,n=JSON.parse(JSON.stringify(this.datas));switch(this.datas=[],e){case\"moveUp\":a=n[t-1],n.splice(t-1,1,n[t]),n.splice(t,1,a),setTimeout(function(){i.datas=n});break;case\"moveDown\":a=n[t+1],n.splice(t+1,1,n[t]),n.splice(t,1,a),setTimeout(function(){i.datas=n});break;case\"addComponent\":this.addIndex=t+1,this.showSelect(),setTimeout(function(){i.datas=n});break;case\"delete\":n.splice(t,1),setTimeout(function(){i.datas=n});break;case\"toggleLayout\":this[\"webPage/updateSelectShow\"](!0),this.operateType=\"layout\",this.operateComponent=n[t],this.indexa=t,this.datas=n;break;case\"addSuperLink\":this[\"webPage/updateSelectShow\"](!0),this.operateType=\"superLink\",this.indexa=t,this.operateComponent=n[t],this.datas=n;break;case\"addVideo\":this[\"webPage/updateSelectShow\"](!0),this.operateType=\"video\",this.operateComponent=n[t],this.indexa=t,this.datas=n;break;default:}},editComponent:function(e,t){this.datas.splice(e,1,t)},delswiper:function(e,t){this.datas[e].children[t].img.src=\"\"},toggleEdit:function(){var e=this;if(0!==this.datas.length){this.canEdit?this.dataTurnFun():this.datas=this.datas.map(function(e){return e.isShow=!0,\"slider\"===e.type&&e.children.forEach(function(e,t){e.isSliderItem=!0}),e});var t=JSON.parse(JSON.stringify(this.datas));this.datas=[],setTimeout(function(){e.datas=t}),this.canEdit=!this.canEdit}else h[\"a\"].alert(\"未添加编辑模块内容\")},save:function(){var e=!1;if(this.dataTurnFun(),e=this.datas.some(function(e){return e.isShow}),this.datas.length<1||!e)return this.datas.map(function(e){\"slider\"===e.type&&e.children.map(function(e){e.isSliderItem=!0})}),void h[\"a\"].alert(\"请填写内容\");0!==this.pageTitle.length?this.id?this.saveHandler():this.authClone():h[\"a\"].alert(\"请输入网页名称\")},dataTurnFun:function(){var e=[],t=this.datas.map(function(t){return e.push(t.id),\"title\"===t.type?t.isShow=t.title||t.subTitle:\"baseInfo\"===t.type?t.isShow=t.infos.name||t.infos.jobs||t.infos.avatar.href||t.infos.company:\"text\"===t.type?t.isShow=t.children.some(function(e){return e.text}):\"slider\"===t.type?(t.children.forEach(function(e,t){e.isSliderItem=!!e.img.src}),t.isShow=t.children.some(function(e){return e.img.src})):\"goods\"===t.type?t.isShow=t.goods.some(function(e){var t=e.img.src;return e.title||e.lowPrice||e.highPrice||t}):\"video\"===t.type?t.isShow=t.video.title||t.video.content||t.video.img.src:t.isShow=t.children.some(function(e){var t=e.img?e.img.src:e.img;return e.text||t}),t});this.idArr=e,this.datas=t},scale:function(e,t,a){var i=[];\"baseInfo\"===t?(i=[this.datas[e].infos.avatar.href],t=0):\"goods\"===a?i=[this.datas[e].goods.img.src]:this.datas[e].children.forEach(function(e){\"text\"!==e.type&&(\"slider\"===e.type?e.isSliderItem&&i.push(e.img):i.push(e.img))}),t>i.length-1&&(t=i.length-1),this.ablum={ablum:i,index:t}},closeScale:function(){this.ablum=null},authClone:function(){this.showCloneDialog=!0},saveHandler:function(){var e=S(o.a.mark(function e(t){var a,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=null,i=this,!this.id){e.next=14;break}return e.next=6,l[\"a\"].put(\"/front/personal_page/customs/\".concat(this.id),{title:this.pageTitle,components:this.idArr,background:this.bgcolor,content:JSON.stringify(this.datas)});case 6:if(a=e.sent,0===a.status){e.next=9;break}throw new Error(a.message);case 9:i.isSave=!0,h[\"a\"].alert(\"修改成功\"),\"android\"===this.platform?androidJS.toBackView():i.$router.replace({path:\"/webPage/mine\"}),e.next=22;break;case 14:return e.next=16,l[\"a\"].post(\"/front/personal_page/customs\",{is_clone:t.is_clone,clone_price:t.clone_price,title:this.pageTitle,components:this.idArr,clone_id:this.cloneId,background:this.bgcolor,content:JSON.stringify(this.datas)});case 16:if(a=e.sent,0===a.status){e.next=19;break}throw new Error(a.message);case 19:i.isSave=!0,h[\"a\"].alert(\"保存成功\"),\"android\"===this.platform?androidJS.toBackView():i.$router.replace({path:\"/webPage/mine\"});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e[\"catch\"](0),h[\"a\"].alert(e.t0.message);case 27:case\"end\":return e.stop()}},e,this,[[0,24]])}));function t(t){return e.apply(this,arguments)}return t}()}),computed:b({},Object(u[\"c\"])({selectShow:function(e){return e.webPage.selectShow},cardInfo:function(e){return e.webPage.cardInfo},editVideo:function(e){return e.webPage.editVideo},tempDatas:function(e){return e.webPage.tempDatas},videoIndex:function(e){return e.webPage.videoIndex},clonePage:function(e){return e.webPage.clonePage},vuexCloneId:function(e){return e.webPage.cloneId},previewGoods:function(e){return e.webPage.previewGoods},user:function(e){return e.user.userInfo},platform:function(e){return e.system.platform}})),components:{AppAblum:c[\"a\"],appHeader:r[\"a\"],CloneDialog:p[\"a\"],CustomComponent:f[\"a\"],ComponentHandler:m[\"a\"],Wrapper:g[\"a\"]},beforeRouteLeave:function(e,t,a){var i=this;\"/cropper\"!=e.path?this.isSave?(\"/cropper\"!==e.path&&i[\"system/updateRouter\"]({type:\"del\",data:\"webPageEdit\"}),\"/pay\"==e.path&&i.$router.go(-2),a()):(a(!1),h[\"a\"].confirm(\"您还没保存，确定要离开？\",function(t){t&&(d[\"a\"].$emit(\"closeCropper\"),\"/cropper\"!==e.path&&i[\"system/updateRouter\"]({type:\"del\",data:\"webPageEdit\"}),\"/pay\"==e.path&&i.$router.go(-2),a())})):a()}},x=y,P=(a(\"8254\"),a(\"2877\")),k=Object(P[\"a\"])(x,i,n,!1,null,\"3c2cf433\",null);k.options.__file=\"index.vue\";t[\"default\"]=k.exports},\"81e0\":function(e,t,a){},8254:function(e,t,a){\"use strict\";var i=a(\"81e0\"),n=a.n(i);n.a},b47b:function(e,t,a){e.exports=a.p+\"img/2.9dd18650.png\"}}]);","extractedComments":[]}